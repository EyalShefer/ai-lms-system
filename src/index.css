@import url('https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================================================
   BASE STYLES
   ============================================================================= */

@layer base {
    /* Root variables for easy theming */
    :root {
        --wizdi-royal: #2B59C3;
        --wizdi-cyan: #00C2FF;
        --wizdi-action: #8B5CF6;
        --wizdi-action-hover: #7C3AED;
        --wizdi-action-dark: #5B21B6;
        --wizdi-gold: #FFD500;
        --wizdi-cloud: #F5F9FF;

        /* Liquid Glass Theme Variables */
        --liquid-bg-start: #252547;
        --liquid-bg-mid: #3d2a5c;
        --liquid-bg-end: #252547;
        --liquid-magenta: rgba(255, 0, 128, 0.3);
        --liquid-cyan: rgba(0, 200, 255, 0.3);
        --liquid-purple: rgba(128, 0, 255, 0.25);
        --liquid-glass-bg: rgba(255, 255, 255, 0.08);
        --liquid-glass-border: rgba(255, 255, 255, 0.15);
    }

    body {
        font-family: 'Rubik', sans-serif;
        @apply text-slate-700;
        background: linear-gradient(180deg, #D6E6F2 0%, #E8F4FA 50%, #F0F7FC 100%);
        background-attachment: fixed;
        min-height: 100vh;
    }

    /* Dark mode body */
    .dark body {
        @apply bg-slate-900 text-slate-100;
    }

    /* Headings - brand color */
    h1, h2, h3, h4, h5, h6 {
        color: var(--wizdi-royal);
    }

    .dark h1, .dark h2, .dark h3, .dark h4, .dark h5, .dark h6 {
        @apply text-slate-100;
    }

    /* ==========================================================================
       ACCESSIBILITY - Focus States
       ========================================================================== */

    /* Global focus-visible outline */
    :focus-visible {
        outline: 2px solid var(--wizdi-cyan);
        outline-offset: 2px;
    }

    /* Remove default focus for mouse users */
    :focus:not(:focus-visible) {
        outline: none;
    }

    /* Enhanced focus for interactive elements */
    button:focus-visible,
    [role="button"]:focus-visible,
    a:focus-visible,
    input:focus-visible,
    select:focus-visible,
    textarea:focus-visible {
        outline: 2px solid var(--wizdi-cyan);
        outline-offset: 2px;
        box-shadow: 0 0 0 4px rgba(0, 194, 255, 0.2);
    }

    /* Skip link for keyboard navigation */
    .skip-link {
        @apply sr-only;
    }

    .skip-link:focus {
        @apply not-sr-only fixed top-4 left-4 z-[9999] bg-wizdi-action text-white px-4 py-2 rounded-lg font-bold;
    }

    /* ==========================================================================
       REDUCED MOTION - Accessibility
       ========================================================================== */

    @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }

        /* Disable all custom animations */
        .animate-blob,
        .animate-float,
        .animate-bounce,
        .animate-pulse,
        .animate-wiggle,
        .animate-fade-in,
        .animate-fade-in-up,
        .animate-pop,
        .animate-shimmer,
        .animate-bounce-slow,
        .animate-progress {
            animation: none !important;
        }

        /* Keep interactive feedback but make it instant */
        .btn-lip-action:active:not(:disabled),
        .btn-lip-primary:active:not(:disabled) {
            transition: none !important;
        }

        /* Don't animate inputs */
        input:focus,
        textarea:focus,
        select:focus {
            transform: none !important;
            transition: none !important;
        }
    }
}

/* =============================================================================
   COMPONENT STYLES
   ============================================================================= */

@layer components {

    /* =========================================================================
       GLASS CARD
       ========================================================================= */

    .card-glass {
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.4);
        box-shadow: 0 8px 32px 0 rgba(43, 89, 195, 0.08);
        border-radius: 24px;
    }

    .dark .card-glass {
        background: var(--liquid-glass-bg);
        backdrop-filter: blur(40px);
        -webkit-backdrop-filter: blur(40px);
        border: 1px solid var(--liquid-glass-border);
        box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
        position: relative;
        overflow: hidden;
    }

    /* Liquid Glass shine effect on cards */
    .dark .card-glass::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 1px;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    }

    /* =========================================================================
       BLOCK COLLAPSE/EXPAND - Google Forms Style
       ========================================================================= */

    .block-collapsed {
        cursor: pointer;
    }

    .block-collapsed:hover {
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 4px 20px rgba(139, 92, 246, 0.15);
    }

    .dark .block-collapsed:hover {
        background: rgba(30, 41, 59, 0.95);
        box-shadow: 0 4px 20px rgba(139, 92, 246, 0.25);
    }

    .block-preview {
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 400px;
    }

    .block-expand-content {
        animation: expandIn 0.25s ease-out;
    }

    @keyframes expandIn {
        from {
            opacity: 0;
            transform: translateY(-8px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* =========================================================================
       BUTTONS - "Lip" Design System
       ========================================================================= */

    /* Base button styles with accessibility */
    .btn-base {
        @apply inline-flex items-center justify-center gap-2;
        @apply font-bold rounded-full;
        @apply transition-all duration-150;
        @apply min-h-touch; /* 44px touch target */
        @apply px-6 py-3;
        @apply cursor-pointer;
        @apply select-none;
    }

    .btn-base:disabled {
        @apply opacity-50 cursor-not-allowed;
    }

    /* PRIMARY ACTION BUTTON - VIOLET (NEW!) */
    .btn-lip-action {
        background: var(--wizdi-action);
        color: white;
        border: none;
        border-bottom: 6px solid var(--wizdi-action-dark);
        border-radius: 9999px;
        font-weight: 800;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        transition: all 0.1s;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        min-height: 44px;
    }

    .btn-lip-action:hover:not(:disabled) {
        background: var(--wizdi-action-hover);
        filter: brightness(1.05);
    }

    .btn-lip-action:active:not(:disabled) {
        transform: translateY(6px);
        border-bottom-width: 0px;
        margin-top: 6px;
        box-shadow: none;
    }

    .btn-lip-action:focus-visible {
        outline: 2px solid var(--wizdi-cyan);
        outline-offset: 2px;
        box-shadow: 0 0 0 4px rgba(0, 194, 255, 0.3);
    }

    /* ROYAL BLUE BUTTON - Secondary */
    .btn-lip-primary {
        background: var(--wizdi-royal);
        color: white;
        border: none;
        border-bottom: 6px solid #1e40af;
        border-radius: 9999px;
        font-weight: 700;
        transition: all 0.1s;
        min-height: 44px;
    }

    .btn-lip-primary:hover:not(:disabled) {
        background: #1e40af;
    }

    .btn-lip-primary:active:not(:disabled) {
        transform: translateY(6px);
        border-bottom-width: 0px;
        margin-top: 6px;
    }

    .btn-lip-primary:focus-visible {
        outline: 2px solid var(--wizdi-cyan);
        outline-offset: 2px;
        box-shadow: 0 0 0 4px rgba(0, 194, 255, 0.3);
    }

    /* GHOST BUTTON - Minimal */
    .btn-ghost {
        @apply bg-transparent text-wizdi-royal;
        @apply hover:bg-wizdi-cloud;
        @apply rounded-full px-4 py-2;
        @apply min-h-touch;
        @apply font-semibold;
        @apply transition-colors;
    }

    .dark .btn-ghost {
        @apply text-slate-200 hover:bg-slate-800;
    }

    /* =========================================================================
       FORM INPUTS - Accessible
       ========================================================================= */

    input,
    textarea,
    select {
        background: #FFFFFF;
        border: 2px solid #E0F2FE;
        color: #2B59C3;
        border-radius: 16px;
        padding: 12px 16px;
        min-height: 44px;
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .dark input,
    .dark textarea,
    .dark select {
        @apply bg-slate-800 border-slate-600 text-slate-100;
    }

    input:focus,
    textarea:focus,
    select:focus {
        background: #FFFFFF;
        border-color: var(--wizdi-cyan);
        box-shadow: 0 0 0 4px rgba(0, 194, 255, 0.15);
        transform: translateY(-2px);
        outline: none;
    }

    .dark input:focus,
    .dark textarea:focus,
    .dark select:focus {
        @apply bg-slate-800;
    }

    /* =========================================================================
       BADGES - Accessible Colors
       ========================================================================= */

    .badge-action {
        @apply inline-flex items-center gap-1;
        @apply px-3 py-1.5 rounded-full;
        @apply text-sm font-bold;
        background: #EDE9FE;
        color: #5B21B6; /* WCAG AA contrast: 7.1:1 */
    }

    .badge-success {
        @apply bg-green-100 text-green-800;
    }

    .badge-warning {
        @apply bg-amber-100 text-amber-800;
    }

    .badge-error {
        @apply bg-red-100 text-red-800;
    }

    /* =========================================================================
       SIDEBAR & HEADER - Glass Effect
       ========================================================================= */

    aside,
    header {
        background: rgba(255, 255, 255, 0.6);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border: none;
        border-bottom: 1px solid rgba(255, 255, 255, 0.3);
    }

    .dark aside,
    .dark header {
        background: rgba(30, 41, 59, 0.8);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    /* =========================================================================
       UTILITY CLASSES
       ========================================================================= */

    .text-brand-royal {
        color: var(--wizdi-royal);
    }

    .text-brand-action {
        color: var(--wizdi-action);
    }

    .glass {
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
    }

    /* Touch target utility */
    .touch-target {
        min-width: 44px;
        min-height: 44px;
    }

    /* Screen reader only */
    .sr-only-focusable:not(:focus):not(:focus-within) {
        @apply sr-only;
    }
}

/* =============================================================================
   ANIMATIONS
   ============================================================================= */

@keyframes float {
    0% { transform: translateY(0px); }
    50% { transform: translateY(-5px); }
    100% { transform: translateY(0px); }
}

.animate-float {
    animation: float 4s ease-in-out infinite;
    will-change: transform;
}

@keyframes blob {
    0% { transform: translate(0px, 0px) scale(1); }
    33% { transform: translate(30px, -50px) scale(1.1); }
    66% { transform: translate(-20px, 20px) scale(0.9); }
    100% { transform: translate(0px, 0px) scale(1); }
}

.animate-blob {
    animation: blob 7s infinite;
    will-change: transform;
}

.animation-delay-2000 {
    animation-delay: 2s;
}

.animation-delay-4000 {
    animation-delay: 4s;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fade-in-up {
    animation: fadeInUp 0.8s ease-out forwards;
    will-change: opacity, transform;
}

@keyframes progress {
    from { width: 0%; }
    to { width: 66%; }
}

.animate-progress {
    animation: progress 2s ease-out forwards;
    will-change: width;
}

@keyframes bounceSlow {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.animate-bounce-slow {
    animation: bounceSlow 3s infinite ease-in-out;
    will-change: transform;
}

@keyframes wiggle {
    0%, 100% { transform: rotate(-3deg); }
    50% { transform: rotate(3deg); }
}

.animate-wiggle {
    animation: wiggle 1s ease-in-out infinite;
    will-change: transform;
}

@keyframes pop {
    0% { transform: scale(0.9); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.animate-pop {
    animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    will-change: transform;
}

/* Bounce landing animation for drag & drop */
@keyframes bounce-land {
    0% {
        transform: scale(1.08) translateY(-8px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.15);
    }
    40% {
        transform: scale(0.95) translateY(2px);
    }
    60% {
        transform: scale(1.02) translateY(-2px);
    }
    80% {
        transform: scale(0.98) translateY(1px);
    }
    100% {
        transform: scale(1) translateY(0);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }
}

.animate-bounce-land {
    animation: bounce-land 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
    will-change: transform, box-shadow;
}

@keyframes shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

.animate-shimmer {
    animation: shimmer 1.5s ease-in-out infinite;
    background-size: 200% 100%;
    will-change: background-position;
}

/* Streaming progress bar animation */
@keyframes streaming-progress {
    0% { width: 0%; transform: translateX(0); }
    50% { width: 70%; }
    100% { width: 100%; transform: translateX(0); }
}

.animate-streaming-progress {
    animation: streaming-progress 2s ease-in-out infinite;
    will-change: width;
}

/* Typing cursor blink animation */
@keyframes cursor-blink {
    0%, 50% { opacity: 1; }
    51%, 100% { opacity: 0; }
}

.animate-cursor-blink {
    animation: cursor-blink 1s step-end infinite;
}

.perspective-1000 {
    perspective: 1000px;
}

/* =============================================================================
   LIQUID GLASS THEME ANIMATIONS & EFFECTS
   ============================================================================= */

/* Animated Background Container */
.liquid-bg-container {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 0;
    overflow: hidden;
    pointer-events: none;
}

/* Background Gradient Animation */
.liquid-bg-gradient {
    position: absolute;
    width: 100%;
    height: 100%;
    background:
        radial-gradient(ellipse at 20% 20%, var(--liquid-magenta) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 80%, var(--liquid-cyan) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 50%, var(--liquid-purple) 0%, transparent 60%);
    animation: liquidBgMove 60s ease-in-out infinite;
}

@keyframes liquidBgMove {
    0%, 100% { transform: scale(1) rotate(0deg); }
    25% { transform: scale(1.03) rotate(0.5deg); }
    50% { transform: scale(1.02) rotate(-0.3deg); }
    75% { transform: scale(1.04) rotate(0.3deg); }
}

/* Floating Orbs */
.liquid-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px);
    animation: liquidOrbFloat 45s ease-in-out infinite;
}

.liquid-orb-1 {
    width: 500px;
    height: 500px;
    background: linear-gradient(135deg, rgba(0, 200, 255, 0.5), rgba(128, 0, 255, 0.3));
    top: -150px;
    right: -100px;
}

.liquid-orb-2 {
    width: 400px;
    height: 400px;
    background: linear-gradient(135deg, rgba(255, 0, 128, 0.4), rgba(128, 0, 255, 0.3));
    bottom: -100px;
    left: -100px;
    animation-delay: 15s;
}

.liquid-orb-3 {
    width: 300px;
    height: 300px;
    background: linear-gradient(135deg, rgba(128, 0, 255, 0.4), rgba(0, 200, 255, 0.3));
    top: 50%;
    left: 30%;
    animation-delay: 30s;
}

@keyframes liquidOrbFloat {
    0%, 100% { transform: translate(0, 0) scale(1); }
    25% { transform: translate(10px, -15px) scale(1.02); }
    50% { transform: translate(-8px, 12px) scale(0.98); }
    75% { transform: translate(12px, 8px) scale(1.01); }
}

/* Glass Card Shine Animation */
.liquid-shine {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.06) 50%, transparent 100%);
    animation: liquidShine 20s ease-in-out infinite;
    pointer-events: none;
}

@keyframes liquidShine {
    0%, 100% { left: -100%; }
    50% { left: 100%; }
}

/* Liquid Glass Card Hover Effect */
.dark .liquid-card {
    background: var(--liquid-glass-bg);
    backdrop-filter: blur(40px);
    -webkit-backdrop-filter: blur(40px);
    border: 1px solid var(--liquid-glass-border);
    border-radius: 24px;
    position: relative;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
}

.dark .liquid-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
}

.dark .liquid-card:hover {
    background: rgba(255, 255, 255, 0.12);
    border-color: rgba(0, 200, 255, 0.3);
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), 0 0 30px rgba(0, 194, 255, 0.15);
}

/* Liquid Glass Input Styles */
.dark .liquid-input {
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 16px;
    color: white;
    transition: all 0.3s ease;
}

.dark .liquid-input::placeholder {
    color: rgba(255, 255, 255, 0.4);
}

.dark .liquid-input:focus {
    background: rgba(255, 255, 255, 0.1);
    border-color: var(--wizdi-cyan);
    box-shadow: 0 0 30px rgba(0, 194, 255, 0.2);
    outline: none;
}

/* Liquid Glass Button */
.dark .liquid-btn {
    background: linear-gradient(135deg, rgba(255, 128, 191, 0.3), rgba(128, 223, 255, 0.3));
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    border-radius: 16px;
    color: white;
    font-weight: 600;
    transition: all 0.4s ease;
}

.dark .liquid-btn:hover {
    background: linear-gradient(135deg, rgba(255, 128, 191, 0.5), rgba(128, 223, 255, 0.5));
    transform: scale(1.05);
    box-shadow: 0 10px 40px rgba(255, 128, 191, 0.3);
}

/* Liquid Glass Tags */
.dark .liquid-tag {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 12px 22px;
    background: rgba(255, 255, 255, 0.06);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 50px;
    font-weight: 500;
    color: rgba(255, 255, 255, 0.8);
    transition: all 0.3s ease;
}

.dark .liquid-tag:hover {
    background: rgba(255, 255, 255, 0.12);
    border-color: rgba(255, 255, 255, 0.25);
    transform: translateY(-2px);
}

/* Reduced Motion Support for Liquid Glass */
@media (prefers-reduced-motion: reduce) {
    .liquid-bg-gradient,
    .liquid-orb,
    .liquid-shine {
        animation: none !important;
    }
}

/* =============================================================================
   BENTO GRID + AI-NATIVE UI SYSTEM
   ============================================================================= */

/* Bento Grid Container */
.bento-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
    gap: 16px;
    width: 100%;
}

@media (max-width: 1024px) {
    .bento-grid {
        grid-template-columns: repeat(6, 1fr);
        gap: 12px;
    }
}

@media (max-width: 640px) {
    .bento-grid {
        grid-template-columns: 1fr;
        gap: 12px;
    }
}

/* Bento Card Base */
.bento-card {
    position: relative;
    border-radius: 24px;
    padding: 24px;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(0, 0, 0, 0.06);
    box-shadow:
        0 1px 2px rgba(0, 0, 0, 0.04),
        0 4px 16px rgba(0, 0, 0, 0.04);
}

.dark .bento-card {
    background: rgba(30, 41, 59, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow:
        0 1px 2px rgba(0, 0, 0, 0.2),
        0 4px 16px rgba(0, 0, 0, 0.2);
}

.bento-card:hover {
    transform: translateY(-4px) scale(1.01);
    box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.08),
        0 2px 8px rgba(0, 0, 0, 0.04);
}

/* Disable hover transform for interactive cards with clickable rows */
.bento-card[style*="transform: none"]:hover,
.bento-card.bento-static:hover {
    transform: none !important;
}

.dark .bento-card:hover {
    box-shadow:
        0 8px 32px rgba(0, 0, 0, 0.4),
        0 0 60px rgba(139, 92, 246, 0.1);
}

/* Bento Card Sizes */
.bento-hero { grid-column: span 8; grid-row: span 2; }
.bento-lg { grid-column: span 6; grid-row: span 2; }
.bento-md { grid-column: span 4; grid-row: span 2; }
.bento-sm { grid-column: span 4; grid-row: span 1; }
.bento-wide { grid-column: span 8; grid-row: span 1; }
.bento-tall { grid-column: span 4; grid-row: span 3; }

@media (max-width: 1024px) {
    .bento-hero { grid-column: span 6; }
    .bento-lg { grid-column: span 6; }
    .bento-md { grid-column: span 3; }
    .bento-sm { grid-column: span 3; }
    .bento-wide { grid-column: span 6; }
    .bento-tall { grid-column: span 3; }
}

@media (max-width: 640px) {
    .bento-hero, .bento-lg, .bento-md, .bento-sm, .bento-wide, .bento-tall {
        grid-column: span 1;
        grid-row: span 1;
    }
}

/* AI-Native Glow Effects */
.ai-glow {
    position: relative;
}

.ai-glow::before {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(
        135deg,
        rgba(139, 92, 246, 0.5),
        rgba(0, 194, 255, 0.5),
        rgba(139, 92, 246, 0.3)
    );
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
}

.ai-glow:hover::before {
    opacity: 1;
}

/* AI Pulse Glow - for primary actions */
.ai-pulse-glow {
    position: relative;
}

.ai-pulse-glow::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(0, 194, 255, 0.15));
    animation: aiPulse 3s ease-in-out infinite;
    pointer-events: none;
}

@keyframes aiPulse {
    0%, 100% { opacity: 0.5; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.02); }
}

/* AI Shimmer Effect */
.ai-shimmer {
    position: relative;
    overflow: hidden;
}

.ai-shimmer::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 50%;
    height: 100%;
    background: linear-gradient(
        90deg,
        transparent,
        rgba(255, 255, 255, 0.1),
        transparent
    );
    animation: aiShimmer 3s ease-in-out infinite;
    pointer-events: none;
}

@keyframes aiShimmer {
    0% { left: -100%; }
    50%, 100% { left: 200%; }
}

/* AI Gradient Text */
.ai-gradient-text {
    background: linear-gradient(
        135deg,
        #2B59C3 0%,
        #8B5CF6 50%,
        #00C2FF 100%
    );
    background-size: 200% 200%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradientFlow 8s ease infinite;
}

@keyframes gradientFlow {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

/* AI Floating Particles */
.ai-particles {
    position: absolute;
    inset: 0;
    overflow: hidden;
    pointer-events: none;
}

.ai-particle {
    position: absolute;
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: linear-gradient(135deg, #8B5CF6, #00C2FF);
    opacity: 0.6;
    animation: particleFloat 10s ease-in-out infinite;
}

.ai-particle:nth-child(1) { top: 20%; left: 10%; animation-delay: 0s; }
.ai-particle:nth-child(2) { top: 60%; left: 80%; animation-delay: 2s; }
.ai-particle:nth-child(3) { top: 80%; left: 30%; animation-delay: 4s; }
.ai-particle:nth-child(4) { top: 40%; left: 90%; animation-delay: 1s; }
.ai-particle:nth-child(5) { top: 10%; left: 60%; animation-delay: 3s; }

@keyframes particleFloat {
    0%, 100% { transform: translateY(0) translateX(0) scale(1); opacity: 0.6; }
    25% { transform: translateY(-20px) translateX(10px) scale(1.2); opacity: 0.8; }
    50% { transform: translateY(-10px) translateX(-5px) scale(0.8); opacity: 0.4; }
    75% { transform: translateY(-30px) translateX(15px) scale(1.1); opacity: 0.7; }
}

/* AI Icon Container */
.ai-icon-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 56px;
    height: 56px;
    border-radius: 16px;
    background: linear-gradient(135deg, #8B5CF6 0%, #2B59C3 100%);
    box-shadow: 0 4px 20px rgba(139, 92, 246, 0.3);
    transition: all 0.3s ease;
}

.ai-icon-container::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    background: linear-gradient(135deg, #8B5CF6, #00C2FF, #8B5CF6);
    background-size: 200% 200%;
    animation: iconGlow 4s linear infinite;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.bento-card:hover .ai-icon-container::before {
    opacity: 1;
}

@keyframes iconGlow {
    0% { background-position: 0% 50%; }
    100% { background-position: 200% 50%; }
}

/* AI Stats Counter */
.ai-stat {
    font-size: 2.5rem;
    font-weight: 900;
    background: linear-gradient(135deg, #2B59C3, #8B5CF6);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    line-height: 1;
}

/* Bento Card Featured - Hero Style */
.bento-featured {
    background: linear-gradient(135deg,
        rgba(139, 92, 246, 0.05) 0%,
        rgba(0, 194, 255, 0.05) 50%,
        rgba(255, 255, 255, 0.95) 100%
    );
}

.dark .bento-featured {
    background: linear-gradient(135deg,
        rgba(139, 92, 246, 0.15) 0%,
        rgba(0, 194, 255, 0.1) 50%,
        rgba(30, 41, 59, 0.9) 100%
    );
}

/* AI Action Button */
.ai-action-btn {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 14px 28px;
    border-radius: 16px;
    font-weight: 700;
    color: white;
    background: linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%);
    border: none;
    cursor: pointer;
    overflow: hidden;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(139, 92, 246, 0.3);
}

.ai-action-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #A78BFA 0%, #8B5CF6 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.ai-action-btn:hover::before {
    opacity: 1;
}

.ai-action-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(139, 92, 246, 0.4);
}

.ai-action-btn > * {
    position: relative;
    z-index: 1;
}

/* Quick Action Pills - AI Style */
.ai-pill {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 10px 18px;
    border-radius: 50px;
    font-weight: 600;
    font-size: 14px;
    background: rgba(139, 92, 246, 0.08);
    color: #6D28D9;
    border: 1px solid rgba(139, 92, 246, 0.15);
    transition: all 0.3s ease;
}

.dark .ai-pill {
    background: rgba(139, 92, 246, 0.15);
    color: #A78BFA;
    border-color: rgba(139, 92, 246, 0.25);
}

.ai-pill:hover {
    background: rgba(139, 92, 246, 0.15);
    border-color: rgba(139, 92, 246, 0.3);
    transform: translateY(-2px);
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
    .ai-pulse-glow::after,
    .ai-shimmer::after,
    .ai-particle,
    .ai-icon-container::before,
    .ai-gradient-text {
        animation: none !important;
    }

    .bento-card:hover {
        transform: none;
    }
}

/* =============================================================================
   SCROLLBAR STYLES
   ============================================================================= */

::-webkit-scrollbar {
    width: 12px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: #B8D6F6;
    border-radius: 99px;
    border: 3px solid transparent;
    background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
    background-color: var(--wizdi-royal);
}

.dark ::-webkit-scrollbar-thumb {
    background: #475569;
}

.dark ::-webkit-scrollbar-thumb:hover {
    background: #64748B;
}

.custom-scrollbar::-webkit-scrollbar {
    width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}

/* =============================================================================
   TEACHER LESSON STYLES
   ============================================================================= */

.lesson-section {
    @apply space-y-4 mb-4;
}

.lesson-section h3 {
    @apply text-xl font-bold bg-slate-50 p-3 rounded-xl border border-slate-100 flex items-center gap-3 text-slate-800;
}

.dark .lesson-section h3 {
    @apply bg-slate-800 border-slate-700 text-slate-100;
}

.teacher-script {
    @apply font-serif text-lg leading-relaxed text-slate-700 bg-amber-50/50 p-4 rounded-xl border-l-4 border-amber-300 italic;
}

.teacher-script strong {
    @apply text-amber-800 not-italic uppercase text-sm tracking-wider block mb-1;
}

.media-badge {
    @apply inline-flex items-center gap-2 px-3 py-1.5 bg-violet-50 text-violet-700 rounded-lg text-sm font-bold border border-violet-100 mt-2;
}

.slide-card {
    @apply bg-white p-5 rounded-2xl border border-slate-200 shadow-sm my-4;
}

.dark .slide-card {
    @apply bg-slate-800 border-slate-700;
}

.generated-visual {
    @apply relative mt-4;
}

.generated-visual img {
    @apply w-full rounded-xl shadow-lg border-2 border-slate-100 transition-all;
}

.generated-visual:hover img {
    @apply shadow-2xl border-violet-200;
}

.image-regen-overlay {
    @apply absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity rounded-xl flex items-center justify-center gap-3;
}

.learning-objectives {
    @apply bg-violet-50/50 border border-violet-100 rounded-xl p-4 mb-4;
}

.learning-objectives ul {
    @apply list-disc pr-5 space-y-1 text-violet-800;
}

.management-tip {
    @apply bg-amber-50 border-l-4 border-amber-400 rounded-lg p-3 text-sm text-amber-900 font-medium mt-3;
}

.timing-badge {
    @apply inline-block bg-violet-50 text-violet-700 px-3 py-1 rounded-full text-xs font-bold mb-2;
}

.diff-note {
    @apply bg-purple-50 border-l-4 border-purple-400 rounded-lg p-3 text-sm text-purple-900 mt-3;
}

.suggested-activities {
    @apply bg-green-50 border border-green-200 rounded-xl p-4 mt-3;
}

.suggested-activities ul {
    @apply list-none space-y-2 pr-0;
}

.facilitation-tips {
    @apply bg-violet-50 border border-violet-200 rounded-xl p-4 mt-3;
}

.facilitation-tips ul {
    @apply list-disc pr-5 space-y-1 text-violet-800;
}

.homework {
    @apply bg-purple-50 border border-purple-200 rounded-xl p-4 mt-3 text-purple-900;
}

.visual-placeholder {
    @apply bg-gradient-to-r from-slate-100 via-slate-200 to-slate-100 rounded-xl p-8 text-center text-slate-500 font-medium mt-4;
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
}

.slide-card h4 {
    @apply font-bold text-lg text-slate-800 mb-3 border-b pb-2;
}

.board-points {
    @apply bg-slate-800 text-white p-4 rounded-xl my-3 shadow-lg font-medium;
}

.board-points strong {
    @apply text-slate-300 text-xs uppercase tracking-widest block mb-2;
}

.board-points ul {
    @apply list-disc list-inside space-y-1;
}

.wizdi-tool {
    @apply bg-violet-600 text-white p-4 rounded-xl shadow-lg flex items-center justify-between font-bold;
}

.takeaway {
    @apply text-xl font-bold text-center text-wizdi-royal bg-violet-50 p-6 rounded-2xl border-2 border-violet-100 mt-4 shadow-sm;
}

/* =============================================================================
   RICH TEXT EDITOR STYLES
   ============================================================================= */

.rte-container {
    @apply bg-white border-2 border-[#E0F2FE] rounded-xl transition-all overflow-hidden;
}

.rte-container:focus-within {
    border-color: var(--wizdi-cyan);
    box-shadow: 0 0 0 4px rgba(0, 194, 255, 0.15);
}

.rte-toolbar {
    @apply bg-slate-50/80 backdrop-blur-sm border-b border-slate-200 p-2 flex flex-wrap gap-1 items-center;
}

.rte-toolbar-btn {
    @apply p-2 rounded-lg text-slate-500 hover:bg-white hover:text-wizdi-royal transition-all cursor-pointer min-w-[44px] min-h-[44px];
}

.rte-toolbar-btn.active {
    @apply bg-violet-100 text-violet-700;
}

.rte-toolbar-btn:disabled {
    @apply opacity-50 cursor-not-allowed;
}

.rte-toolbar-separator {
    @apply w-px h-6 bg-slate-300 mx-1.5 self-center;
}

/* TipTap editor content styles */
.ProseMirror {
    @apply p-4 outline-none text-slate-800 leading-relaxed;
    min-height: inherit;
}

/* Scrollable editor when maxHeight is set */
.rte-scrollable {
    overflow-y: auto;
}

.rte-scrollable .ProseMirror {
    min-height: 100%;
}

.ProseMirror h2 {
    @apply text-xl font-bold mb-3 mt-4;
    color: var(--wizdi-royal);
}

.ProseMirror h3 {
    @apply text-lg font-bold mb-2 mt-3;
    color: var(--wizdi-royal);
}

.ProseMirror ul {
    @apply list-disc pr-5 space-y-1 mb-3;
}

.ProseMirror ol {
    @apply list-decimal pr-5 space-y-1 mb-3;
}

.ProseMirror p {
    @apply mb-3;
}

.ProseMirror p:last-child {
    @apply mb-0;
}

.ProseMirror a {
    @apply text-violet-600 underline hover:text-violet-800;
}

/* Placeholder */
.ProseMirror p.is-editor-empty:first-child::before {
    @apply text-slate-400;
    content: attr(data-placeholder);
    float: right;
    height: 0;
    pointer-events: none;
}

/* RTL support */
[dir="rtl"] .ProseMirror {
    @apply text-right;
}

[dir="rtl"] .ProseMirror ul,
[dir="rtl"] .ProseMirror ol {
    @apply pr-5 pl-0;
}

/* Collapsible RTE - View Mode */
.rte-view-mode {
    @apply border border-transparent bg-slate-50/30 rounded-lg transition-all;
}

.rte-view-mode:hover {
    @apply bg-slate-100/60 border-slate-200;
}

.rte-content-preview {
    @apply text-slate-800 leading-relaxed py-2 px-3;
}

.rte-content-preview p {
    @apply mb-2;
}

.rte-content-preview p:last-child {
    @apply mb-0;
}

/* Collapsible RTE - Edit Mode */
.rte-edit-mode {
    @apply ring-2 ring-violet-300;
}

.rte-toolbar-wrapper {
    @apply flex items-center justify-between bg-slate-50/80 backdrop-blur-sm border-b border-slate-200;
}

.rte-toolbar-wrapper .rte-toolbar {
    @apply border-b-0 flex-1;
}

.rte-done-btn {
    @apply p-2 mx-2 rounded-lg text-white bg-green-500 hover:bg-green-600 transition-all;
}
