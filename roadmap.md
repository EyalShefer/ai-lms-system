# AI-LMS System - מפרט טכני ומפת דרכים

## 1. חזון הפרויקט
בניית מערכת ניהול למידה (LMS) מהדור החדש, שבה ה-AI אינו רק "תוסף" אלא המנוע המרכזי שמייצר תוכן, בודק מטלות ומלווה את התלמיד בזמן אמת.

## 2. ארכיטקטורה נוכחית (Current Stack)
- **Frontend:** React, TypeScript, Vite
- **Styling:** Tailwind CSS
- **State Management:** React Context API (`CourseContext`)
- **Data Structure:** מבוסס אובייקטים היררכיים (Course -> Module -> Unit -> Block)

---

## 3. פירוט פיצ'רים לפיתוח (Feature Specs)

### שלב א': תשתית עריכה (Core Editor) - **בפיתוח כעת**
**מטרה:** ניתוק מה-Mock Data ומעבר לעריכה חיה.
- [x] הגדרת טיפוסים (`types.ts`)
- [x] בניית Store מרכזי (`CourseContext.tsx`)
- [ ] **משימה קרובה:** בניית טופס עריכה (Edit Form) לשינוי טקסטים של יחידות לימוד.
- [ ] **משימה קרובה:** הוספת כפתור "הוסף שאלה" שמעדכן את ה-Context.

---

### שלב ב': ארבעת עמודי התווך של ה-AI (השדרוג הגדול)

#### פיצ'ר 1: מחולל התוכן (The Ingestion Wizard)
**תיאור:** המורה לא כותב תוכן, אלא מנחה את המערכת.
**דרישות טכניות:**
1. **קלט:** העלאת קובץ PDF/DOCX או הזנת "נושא ללימוד".
2. **תהליך AI:**
   - פירוק הטקסט ל-Chunks קטנים.
   - המרה אוטומטית למבנה `LearningUnit` שלנו.
   - יצירת 3 שאלות אמריקאיות (`multiple-choice`) לכל פסקה משמעותית.
3. **ממשק:** מסך טעינה שמראה "מנתח תוכן...", "בונה שאלות...", ולבסוף מציג את הקורס המוכן לאישור המורה.

#### פיצ'ר 2: הבודק האוטומטי (AI Grader)
**תיאור:** בדיקת שאלות פתוחות בזמן אמת.
**דרישות טכניות:**
1. הוספת שדה `correctAnswerDescription` לטיפוס `open-question` (הנחיה למודל מהי התשובה הנכונה).
2. שליחת תשובת התלמיד + התשובה הנכונה ל-API.
3. **Prompt:** "דרג את התשובה מ-1 עד 100 והסבר מה חסר בה".
4. הצגת הציון והמשוב לתלמיד מיד לאחר הלחיצה על "שלח".

#### פיצ'ר 3: המורה הפרטי (AI Tutor / Context Aware Chat)
**תיאור:** צ'אט צף שמכיר את המיקום המדויק של התלמיד.
**דרישות טכניות:**
1. רכיב צ'אט גלובלי (Overlay).
2. שליחת ה-`currentUnit` הנוכחי כקונטקסט לשיחה.
3. מניעת "הזיות" (Hallucinations) על ידי הגבלת התשובות לחומר הקורס בלבד.

#### פיצ'ר 4: פרסונליזציה אדפטיבית (Adaptive Flow)
**תיאור:** המערכת משנה את המסלול בהתאם להצלחת התלמיד.
**דרישות טכניות:**
1. מעקב אחרי `failureCount` ביחידת לימוד.
2. אם כישלון > 3: המערכת מייצרת בזמן אמת יחידת `remedial` (חיזוק) עם הסבר פשוט יותר לאותו נושא.
3. הוספת היחידה החדשה ל-Graph של הקורס עבור אותו תלמיד ספציפית.

---

## 4. משימות מיידיות לצוות הפיתוח
1. לסיים את חיבור ה-UI ל-`CourseContext`.
2. לבנות את הקומפוננטה `LearningUnitEditor` (עורך יחידת לימוד).
3. להקים שרת בסיסי (Node.js) שיוכל לקבל בקשות ל-OpenAI/Claude עבור שלב ב'.
