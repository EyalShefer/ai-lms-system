import{r as d,R as q,j as e,cz as E,d as M,aD as C,b4 as $,bc as z,b7 as D,bb as k,b9 as F,cA as I}from"./index-1x3sw4DL.js";const B=({unit:p,onClose:m})=>{const[o,x]=d.useState(0),[A,u]=d.useState(!1),l=q.useMemo(()=>{const s=[];return p.activityBlocks&&p.activityBlocks.forEach(t=>{if(t.type==="text"&&typeof t.content=="string"){const n=t.content;if(n.includes("lesson-section hook")){const a=n.match(/<img[^>]+src="([^"]+)"[^>]*>/);a&&s.push({id:`hook-${t.id}`,type:"hook",title:"ğŸª ×¤×ª×™×—×”",content:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("img",{src:a[1],alt:"Hook Visual",className:"max-h-[70vh] max-w-full rounded-2xl shadow-2xl object-contain"})})})}if(n.includes("lesson-section instruction")){const a=n.match(/<h3[^>]*>.*?×”×•×¨××” ×¤×¨×•× ×˜×œ×™×ª:\s*([^<]+)<\/h3>/),i=a?a[1].trim():"×”×•×¨××” ×¤×¨×•× ×˜×œ×™×ª",c=n.match(/<div class="board-points">([\s\S]*?)<\/div>/);if(c){const w=c[1].match(/<ul>([\s\S]*?)<\/ul>/);if(w){const f=w[1].match(/<li>([^<]+)<\/li>/g);if(f&&f.length>0){const v=f.map(g=>g.replace(/<\/?li>/g,""));s.push({id:`instruction-${t.id}`,type:"instruction",title:`ğŸ“ ${i}`,content:e.jsx("div",{className:"flex flex-col items-center justify-center h-full px-12",children:e.jsx("ul",{className:"text-right space-y-6 max-w-4xl",children:v.map((g,N)=>e.jsxs("li",{className:"flex items-start gap-4 text-3xl md:text-4xl leading-relaxed",children:[e.jsx("span",{className:"text-indigo-500 font-bold shrink-0",children:"â€¢"}),e.jsx("span",{children:g})]},N))})})})}}}}if(n.includes("lesson-section summary")){const a=n.match(/<img[^>]+src="([^"]+)"[^>]*alt="Summary/);a&&s.push({id:`summary-${t.id}`,type:"summary",title:"ğŸ“Š ×¡×™×›×•×",content:e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("img",{src:a[1],alt:"Summary Infographic",className:"max-h-[70vh] max-w-full rounded-2xl shadow-2xl object-contain"})})})}}if(t.type==="multiple-choice"&&s.push({id:`mc-${t.id}`,type:"practice",title:"â“ ×©××œ×” ×××¨×™×§××™×ª",content:null,blockData:t}),t.type==="categorization"&&s.push({id:`cat-${t.id}`,type:"practice",title:"ğŸ“¦ ××™×•×Ÿ ×œ×§×˜×’×•×¨×™×•×ª",content:null,blockData:t}),t.type==="ordering"&&s.push({id:`order-${t.id}`,type:"practice",title:"ğŸ”¢ ×¡×™×“×•×¨ ×¨×¦×£",content:null,blockData:t}),t.type==="memory_game"&&s.push({id:`memory-${t.id}`,type:"practice",title:"ğŸ§  ××©×—×§ ×–×™×›×¨×•×Ÿ",content:null,blockData:t}),t.type==="fill_in_blanks"&&s.push({id:`fill-${t.id}`,type:"practice",title:"âœï¸ ×”×©×œ××ª ××©×¤×˜×™×",content:null,blockData:t}),t.type==="open-question"){const n=t.content,a=(n==null?void 0:n.question)||(n==null?void 0:n.text)||"";s.push({id:`open-${t.id}`,type:"practice",title:"ğŸ’­ ×©××œ×” ×¤×ª×•×—×”",content:e.jsx("div",{className:"flex flex-col items-center justify-center h-full px-8",children:e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-center max-w-4xl leading-relaxed",children:a})})})}if(t.type==="matching"){const n=t.content,a=(n==null?void 0:n.pairs)||[];s.push({id:`match-${t.id}`,type:"practice",title:"ğŸ”— ×”×ª×××”",content:e.jsxs("div",{className:"flex flex-col items-center justify-center h-full px-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"×”×ª××™××• ×‘×™×Ÿ ×”×¦×“×“×™×"}),e.jsxs("div",{className:"flex gap-12 max-w-4xl",children:[e.jsx("div",{className:"flex flex-col gap-4",children:a.map((i,c)=>e.jsx("div",{className:"bg-blue-500/30 backdrop-blur rounded-xl px-6 py-4 text-xl border border-blue-400/50",children:(i==null?void 0:i.left)||(i==null?void 0:i.item)||""},c))}),e.jsx("div",{className:"flex flex-col gap-4",children:a.map((i,c)=>e.jsx("div",{className:"bg-green-500/30 backdrop-blur rounded-xl px-6 py-4 text-xl border border-green-400/50",children:(i==null?void 0:i.right)||(i==null?void 0:i.category)||""},c))})]})]})})}}),s},[p.activityBlocks]),h=d.useCallback(s=>{s.key==="Escape"?m():s.key==="ArrowRight"||s.key==="ArrowUp"?x(t=>Math.max(0,t-1)):s.key==="ArrowLeft"||s.key==="ArrowDown"||s.key===" "?x(t=>Math.min(l.length-1,t+1)):(s.key==="f"||s.key==="F")&&y()},[l.length,m]);d.useEffect(()=>(window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)),[h]),d.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const y=()=>{document.fullscreenElement?(document.exitFullscreen(),u(!1)):(document.documentElement.requestFullscreen(),u(!0))};d.useEffect(()=>{const s=()=>{u(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",s),()=>document.removeEventListener("fullscreenchange",s)},[]);const r=l[o],j=l.length>0?(o+1)/l.length*100:0,b=s=>{s.content;const t=()=>{};switch(s.type){case"multiple-choice":return e.jsx("div",{className:"presentation-question-wrapper max-w-4xl mx-auto p-8",children:e.jsx(I,{block:s,onAnswer:t,disabled:!1})});case"categorization":return e.jsx("div",{className:"presentation-question-wrapper max-w-5xl mx-auto p-8",children:e.jsx(F,{block:s,onComplete:t})});case"ordering":return e.jsx("div",{className:"presentation-question-wrapper max-w-4xl mx-auto p-8",children:e.jsx(k,{block:s,onComplete:t})});case"memory_game":return e.jsx("div",{className:"presentation-question-wrapper max-w-5xl mx-auto p-8",children:e.jsx(D,{block:s,onComplete:t})});case"fill_in_blanks":return e.jsx("div",{className:"presentation-question-wrapper max-w-4xl mx-auto p-8",children:e.jsx(z,{block:s,onComplete:t})});default:return null}};return l.length===0?e.jsx("div",{className:"fixed inset-0 z-[200] bg-gray-900 flex items-center justify-center",dir:"rtl",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("p",{className:"text-2xl mb-4",children:"××™×Ÿ ×ª×•×›×Ÿ ×œ×”×§×¨× ×”"}),e.jsx("p",{className:"text-gray-400 mb-8",children:"×•×“× ×©××¢×¨×š ×”×©×™×¢×•×¨ ×›×•×œ×œ ×ª××•× ×•×ª ×•××™× ×¤×•×’×¨×¤×™×§×•×ª"}),e.jsx("button",{onClick:m,className:"bg-white text-gray-900 px-6 py-3 rounded-full font-bold hover:bg-gray-100",children:"×¡×’×•×¨"})]})}):e.jsxs("div",{className:"fixed inset-0 z-[200] bg-gradient-to-b from-gray-900 to-gray-800 flex flex-col",dir:"rtl",children:[e.jsx("style",{children:`
                .presentation-question-wrapper {
                    --tw-bg-opacity: 1;
                    transform: scale(1.3);
                    transform-origin: center center;
                }
                .presentation-question-wrapper > div {
                    background: rgba(255, 255, 255, 0.98) !important;
                    border-radius: 1.5rem;
                    padding: 2.5rem;
                    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
                }
                .presentation-question-wrapper .text-gray-800,
                .presentation-question-wrapper .text-gray-700,
                .presentation-question-wrapper .text-gray-600 {
                    color: #1f2937 !important;
                }
                .presentation-question-wrapper h2,
                .presentation-question-wrapper h3,
                .presentation-question-wrapper .text-xl {
                    font-size: 1.75rem !important;
                }
                .presentation-question-wrapper p,
                .presentation-question-wrapper span,
                .presentation-question-wrapper label {
                    font-size: 1.35rem !important;
                }
                .presentation-question-wrapper button {
                    font-size: 1.25rem !important;
                    padding: 1rem 1.5rem !important;
                }
                /* Memory game cards */
                .presentation-question-wrapper [class*="grid"] > div {
                    min-height: 100px !important;
                    font-size: 1.25rem !important;
                }
                /* Multiple choice options */
                .presentation-question-wrapper [class*="space-y"] > div,
                .presentation-question-wrapper [class*="gap"] > div {
                    padding: 1.25rem !important;
                }
            `}),e.jsxs("div",{className:"flex-none h-16 flex items-center justify-between px-6 bg-black/30",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h2",{className:"text-white text-xl font-bold",children:r==null?void 0:r.title}),e.jsxs("span",{className:"text-gray-400 text-sm",children:[o+1," / ",l.length]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:y,className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"××¡×š ××œ× (F)",children:e.jsx(E,{className:"w-5 h-5"})}),e.jsx("button",{onClick:m,className:"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors",title:"×¡×’×•×¨ (ESC)",children:e.jsx(M,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"flex-none h-1 bg-gray-700",children:e.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-300",style:{width:`${j}%`}})}),e.jsx("div",{className:"flex-1 text-white overflow-y-auto",children:r!=null&&r.blockData?b(r.blockData):r==null?void 0:r.content}),e.jsxs("div",{className:"flex-none h-20 flex items-center justify-center gap-6 bg-black/30",children:[e.jsxs("button",{onClick:()=>x(s=>Math.max(0,s-1)),disabled:o===0,className:"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-white font-medium transition-colors",children:[e.jsx(C,{className:"w-5 h-5"}),"×”×§×•×“×"]}),e.jsx("div",{className:"flex gap-2",children:l.map((s,t)=>e.jsx("button",{onClick:()=>x(t),className:`w-3 h-3 rounded-full transition-colors ${t===o?"bg-indigo-500":"bg-white/30 hover:bg-white/50"}`},t))}),e.jsxs("button",{onClick:()=>x(s=>Math.min(l.length-1,s+1)),disabled:o===l.length-1,className:"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-white font-medium transition-colors",children:["×”×‘×",e.jsx($,{className:"w-5 h-5"})]})]}),e.jsx("div",{className:"absolute bottom-2 left-4 text-gray-500 text-xs",children:"â† ×§×“×™××” | â†’ ××—×•×¨×” | F ××¡×š ××œ× | ESC ×™×¦×™××”"})]})};export{B as default};
//# sourceMappingURL=PresentationMode-DPiMPQJt.js.map
