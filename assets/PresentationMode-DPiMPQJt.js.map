{"version":3,"file":"PresentationMode-DPiMPQJt.js","sources":["../../src/components/PresentationMode.tsx"],"sourcesContent":["/**\r\n * PresentationMode - Interactive presentation for smart board projection\r\n *\r\n * Shows content for classroom display:\r\n * - Hook: Curiosity image\r\n * - Direct Instruction: Board points (bullets)\r\n * - Summary: Infographic\r\n * - Interactive Questions: Fully functional components\r\n */\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { IconX, IconArrowRight, IconArrowBack, IconMaximize } from '../icons';\r\nimport type { LearningUnit, ActivityBlock } from '../shared/types/courseTypes';\r\n\r\n// Interactive Question Components\r\nimport MultipleChoiceQuestion from './MultipleChoiceQuestion';\r\nimport ClozeQuestion from './ClozeQuestion';\r\nimport OrderingQuestion from './OrderingQuestion';\r\nimport CategorizationQuestion from './CategorizationQuestion';\r\nimport MemoryGameQuestion from './MemoryGameQuestion';\r\n\r\ninterface PresentationSlide {\r\n    id: string;\r\n    type: 'hook' | 'instruction' | 'summary' | 'practice';\r\n    title: string;\r\n    content: React.ReactNode;\r\n    blockData?: ActivityBlock; // Store original block for interactive rendering\r\n}\r\n\r\ninterface PresentationModeProps {\r\n    unit: LearningUnit;\r\n    onClose: () => void;\r\n}\r\n\r\nconst PresentationMode: React.FC<PresentationModeProps> = ({ unit, onClose }) => {\r\n    const [currentSlideIndex, setCurrentSlideIndex] = useState(0);\r\n    const [isFullscreen, setIsFullscreen] = useState(false);\r\n\r\n    // Extract presentation slides from unit blocks\r\n    const slides: PresentationSlide[] = React.useMemo(() => {\r\n        const result: PresentationSlide[] = [];\r\n\r\n        if (!unit.activityBlocks) return result;\r\n\r\n        unit.activityBlocks.forEach((block: ActivityBlock) => {\r\n            // Handle text blocks (Hook, Instruction, Summary)\r\n            if (block.type === 'text' && typeof block.content === 'string') {\r\n                const content = block.content;\r\n\r\n                // Hook Section - Extract image only\r\n                if (content.includes('lesson-section hook')) {\r\n                    const imageMatch = content.match(/<img[^>]+src=\"([^\"]+)\"[^>]*>/);\r\n                    if (imageMatch) {\r\n                        result.push({\r\n                            id: `hook-${block.id}`,\r\n                            type: 'hook',\r\n                            title: 'ü™ù ◊§◊™◊ô◊ó◊î',\r\n                            content: (\r\n                                <div className=\"flex items-center justify-center h-full\">\r\n                                    <img\r\n                                        src={imageMatch[1]}\r\n                                        alt=\"Hook Visual\"\r\n                                        className=\"max-h-[70vh] max-w-full rounded-2xl shadow-2xl object-contain\"\r\n                                    />\r\n                                </div>\r\n                            )\r\n                        });\r\n                    }\r\n                }\r\n\r\n                // Direct Instruction - Extract board points\r\n                if (content.includes('lesson-section instruction')) {\r\n                    const titleMatch = content.match(/<h3[^>]*>.*?◊î◊ï◊®◊ê◊î ◊§◊®◊ï◊†◊ò◊ú◊ô◊™:\\s*([^<]+)<\\/h3>/);\r\n                    const title = titleMatch ? titleMatch[1].trim() : '◊î◊ï◊®◊ê◊î ◊§◊®◊ï◊†◊ò◊ú◊ô◊™';\r\n\r\n                    const boardMatch = content.match(/<div class=\"board-points\">([\\s\\S]*?)<\\/div>/);\r\n                    if (boardMatch) {\r\n                        const listMatch = boardMatch[1].match(/<ul>([\\s\\S]*?)<\\/ul>/);\r\n                        if (listMatch) {\r\n                            const bullets = listMatch[1].match(/<li>([^<]+)<\\/li>/g);\r\n                            if (bullets && bullets.length > 0) {\r\n                                const bulletTexts = bullets.map(b => b.replace(/<\\/?li>/g, ''));\r\n                                result.push({\r\n                                    id: `instruction-${block.id}`,\r\n                                    type: 'instruction',\r\n                                    title: `üìù ${title}`,\r\n                                    content: (\r\n                                        <div className=\"flex flex-col items-center justify-center h-full px-12\">\r\n                                            <ul className=\"text-right space-y-6 max-w-4xl\">\r\n                                                {bulletTexts.map((bullet, idx) => (\r\n                                                    <li key={idx} className=\"flex items-start gap-4 text-3xl md:text-4xl leading-relaxed\">\r\n                                                        <span className=\"text-indigo-500 font-bold shrink-0\">‚Ä¢</span>\r\n                                                        <span>{bullet}</span>\r\n                                                    </li>\r\n                                                ))}\r\n                                            </ul>\r\n                                        </div>\r\n                                    )\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // Summary Section - Extract infographic\r\n                if (content.includes('lesson-section summary')) {\r\n                    const imageMatch = content.match(/<img[^>]+src=\"([^\"]+)\"[^>]*alt=\"Summary/);\r\n                    if (imageMatch) {\r\n                        result.push({\r\n                            id: `summary-${block.id}`,\r\n                            type: 'summary',\r\n                            title: 'üìä ◊°◊ô◊õ◊ï◊ù',\r\n                            content: (\r\n                                <div className=\"flex items-center justify-center h-full\">\r\n                                    <img\r\n                                        src={imageMatch[1]}\r\n                                        alt=\"Summary Infographic\"\r\n                                        className=\"max-h-[70vh] max-w-full rounded-2xl shadow-2xl object-contain\"\r\n                                    />\r\n                                </div>\r\n                            )\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Handle interactive question blocks - store block data for rendering\r\n            if (block.type === 'multiple-choice') {\r\n                result.push({\r\n                    id: `mc-${block.id}`,\r\n                    type: 'practice',\r\n                    title: '‚ùì ◊©◊ê◊ú◊î ◊ê◊û◊®◊ô◊ß◊ê◊ô◊™',\r\n                    content: null, // Will be rendered dynamically\r\n                    blockData: block\r\n                });\r\n            }\r\n\r\n            if (block.type === 'categorization') {\r\n                result.push({\r\n                    id: `cat-${block.id}`,\r\n                    type: 'practice',\r\n                    title: 'üì¶ ◊û◊ô◊ï◊ü ◊ú◊ß◊ò◊í◊ï◊®◊ô◊ï◊™',\r\n                    content: null,\r\n                    blockData: block\r\n                });\r\n            }\r\n\r\n            if (block.type === 'ordering') {\r\n                result.push({\r\n                    id: `order-${block.id}`,\r\n                    type: 'practice',\r\n                    title: 'üî¢ ◊°◊ô◊ì◊ï◊® ◊®◊¶◊£',\r\n                    content: null,\r\n                    blockData: block\r\n                });\r\n            }\r\n\r\n            if (block.type === 'memory_game') {\r\n                result.push({\r\n                    id: `memory-${block.id}`,\r\n                    type: 'practice',\r\n                    title: 'üß† ◊û◊©◊ó◊ß ◊ñ◊ô◊õ◊®◊ï◊ü',\r\n                    content: null,\r\n                    blockData: block\r\n                });\r\n            }\r\n\r\n            if (block.type === 'fill_in_blanks') {\r\n                result.push({\r\n                    id: `fill-${block.id}`,\r\n                    type: 'practice',\r\n                    title: '‚úèÔ∏è ◊î◊©◊ú◊û◊™ ◊û◊©◊§◊ò◊ô◊ù',\r\n                    content: null,\r\n                    blockData: block\r\n                });\r\n            }\r\n\r\n            if (block.type === 'open-question') {\r\n                const content = block.content as any;\r\n                const question = content?.question || content?.text || '';\r\n                result.push({\r\n                    id: `open-${block.id}`,\r\n                    type: 'practice',\r\n                    title: 'üí≠ ◊©◊ê◊ú◊î ◊§◊™◊ï◊ó◊î',\r\n                    content: (\r\n                        <div className=\"flex flex-col items-center justify-center h-full px-8\">\r\n                            <h2 className=\"text-3xl md:text-4xl font-bold text-center max-w-4xl leading-relaxed\">{question}</h2>\r\n                        </div>\r\n                    )\r\n                });\r\n            }\r\n\r\n            if (block.type === 'matching') {\r\n                const content = block.content as any;\r\n                const pairs = content?.pairs || [];\r\n                result.push({\r\n                    id: `match-${block.id}`,\r\n                    type: 'practice',\r\n                    title: 'üîó ◊î◊™◊ê◊û◊î',\r\n                    content: (\r\n                        <div className=\"flex flex-col items-center justify-center h-full px-8\">\r\n                            <h2 className=\"text-3xl font-bold text-center mb-8\">◊î◊™◊ê◊ô◊û◊ï ◊ë◊ô◊ü ◊î◊¶◊ì◊ì◊ô◊ù</h2>\r\n                            <div className=\"flex gap-12 max-w-4xl\">\r\n                                <div className=\"flex flex-col gap-4\">\r\n                                    {pairs.map((pair: any, idx: number) => (\r\n                                        <div key={idx} className=\"bg-blue-500/30 backdrop-blur rounded-xl px-6 py-4 text-xl border border-blue-400/50\">\r\n                                            {pair?.left || pair?.item || ''}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                                <div className=\"flex flex-col gap-4\">\r\n                                    {pairs.map((pair: any, idx: number) => (\r\n                                        <div key={idx} className=\"bg-green-500/30 backdrop-blur rounded-xl px-6 py-4 text-xl border border-green-400/50\">\r\n                                            {pair?.right || pair?.category || ''}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                });\r\n            }\r\n        });\r\n\r\n        return result;\r\n    }, [unit.activityBlocks]);\r\n\r\n    // Keyboard navigation - Hebrew RTL: Left arrow = forward, Right arrow = back\r\n    const handleKeyDown = useCallback((e: KeyboardEvent) => {\r\n        if (e.key === 'Escape') {\r\n            onClose();\r\n        } else if (e.key === 'ArrowRight' || e.key === 'ArrowUp') {\r\n            // Right arrow = go back (RTL)\r\n            setCurrentSlideIndex(prev => Math.max(0, prev - 1));\r\n        } else if (e.key === 'ArrowLeft' || e.key === 'ArrowDown' || e.key === ' ') {\r\n            // Left arrow = go forward (RTL)\r\n            setCurrentSlideIndex(prev => Math.min(slides.length - 1, prev + 1));\r\n        } else if (e.key === 'f' || e.key === 'F') {\r\n            toggleFullscreen();\r\n        }\r\n    }, [slides.length, onClose]);\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, [handleKeyDown]);\r\n\r\n    // Prevent body scroll\r\n    useEffect(() => {\r\n        document.body.style.overflow = 'hidden';\r\n        return () => { document.body.style.overflow = 'unset'; };\r\n    }, []);\r\n\r\n    const toggleFullscreen = () => {\r\n        if (!document.fullscreenElement) {\r\n            document.documentElement.requestFullscreen();\r\n            setIsFullscreen(true);\r\n        } else {\r\n            document.exitFullscreen();\r\n            setIsFullscreen(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const handleFullscreenChange = () => {\r\n            setIsFullscreen(!!document.fullscreenElement);\r\n        };\r\n        document.addEventListener('fullscreenchange', handleFullscreenChange);\r\n        return () => document.removeEventListener('fullscreenchange', handleFullscreenChange);\r\n    }, []);\r\n\r\n    const currentSlide = slides[currentSlideIndex];\r\n    const progress = slides.length > 0 ? ((currentSlideIndex + 1) / slides.length) * 100 : 0;\r\n\r\n    // Render interactive question component\r\n    const renderInteractiveBlock = (block: ActivityBlock) => {\r\n        const content = block.content as any;\r\n        const dummyHandler = () => {}; // No-op for presentation mode\r\n\r\n        switch (block.type) {\r\n            case 'multiple-choice':\r\n                return (\r\n                    <div className=\"presentation-question-wrapper max-w-4xl mx-auto p-8\">\r\n                        <MultipleChoiceQuestion\r\n                            block={block}\r\n                            onAnswer={dummyHandler}\r\n                            disabled={false}\r\n                        />\r\n                    </div>\r\n                );\r\n\r\n            case 'categorization':\r\n                return (\r\n                    <div className=\"presentation-question-wrapper max-w-5xl mx-auto p-8\">\r\n                        <CategorizationQuestion\r\n                            block={block}\r\n                            onComplete={dummyHandler}\r\n                        />\r\n                    </div>\r\n                );\r\n\r\n            case 'ordering':\r\n                return (\r\n                    <div className=\"presentation-question-wrapper max-w-4xl mx-auto p-8\">\r\n                        <OrderingQuestion\r\n                            block={block}\r\n                            onComplete={dummyHandler}\r\n                        />\r\n                    </div>\r\n                );\r\n\r\n            case 'memory_game':\r\n                return (\r\n                    <div className=\"presentation-question-wrapper max-w-5xl mx-auto p-8\">\r\n                        <MemoryGameQuestion\r\n                            block={block}\r\n                            onComplete={dummyHandler}\r\n                        />\r\n                    </div>\r\n                );\r\n\r\n            case 'fill_in_blanks':\r\n                return (\r\n                    <div className=\"presentation-question-wrapper max-w-4xl mx-auto p-8\">\r\n                        <ClozeQuestion\r\n                            block={block}\r\n                            onComplete={dummyHandler}\r\n                        />\r\n                    </div>\r\n                );\r\n\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    if (slides.length === 0) {\r\n        return (\r\n            <div className=\"fixed inset-0 z-[200] bg-gray-900 flex items-center justify-center\" dir=\"rtl\">\r\n                <div className=\"text-center text-white\">\r\n                    <p className=\"text-2xl mb-4\">◊ê◊ô◊ü ◊™◊ï◊õ◊ü ◊ú◊î◊ß◊®◊†◊î</p>\r\n                    <p className=\"text-gray-400 mb-8\">◊ï◊ì◊ê ◊©◊û◊¢◊®◊ö ◊î◊©◊ô◊¢◊ï◊® ◊õ◊ï◊ú◊ú ◊™◊û◊ï◊†◊ï◊™ ◊ï◊ê◊ô◊†◊§◊ï◊í◊®◊§◊ô◊ß◊ï◊™</p>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"bg-white text-gray-900 px-6 py-3 rounded-full font-bold hover:bg-gray-100\"\r\n                    >\r\n                        ◊°◊í◊ï◊®\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-[200] bg-gradient-to-b from-gray-900 to-gray-800 flex flex-col\" dir=\"rtl\">\r\n            {/* Presentation Mode Styles - Large display for smart board */}\r\n            <style>{`\r\n                .presentation-question-wrapper {\r\n                    --tw-bg-opacity: 1;\r\n                    transform: scale(1.3);\r\n                    transform-origin: center center;\r\n                }\r\n                .presentation-question-wrapper > div {\r\n                    background: rgba(255, 255, 255, 0.98) !important;\r\n                    border-radius: 1.5rem;\r\n                    padding: 2.5rem;\r\n                    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\r\n                }\r\n                .presentation-question-wrapper .text-gray-800,\r\n                .presentation-question-wrapper .text-gray-700,\r\n                .presentation-question-wrapper .text-gray-600 {\r\n                    color: #1f2937 !important;\r\n                }\r\n                .presentation-question-wrapper h2,\r\n                .presentation-question-wrapper h3,\r\n                .presentation-question-wrapper .text-xl {\r\n                    font-size: 1.75rem !important;\r\n                }\r\n                .presentation-question-wrapper p,\r\n                .presentation-question-wrapper span,\r\n                .presentation-question-wrapper label {\r\n                    font-size: 1.35rem !important;\r\n                }\r\n                .presentation-question-wrapper button {\r\n                    font-size: 1.25rem !important;\r\n                    padding: 1rem 1.5rem !important;\r\n                }\r\n                /* Memory game cards */\r\n                .presentation-question-wrapper [class*=\"grid\"] > div {\r\n                    min-height: 100px !important;\r\n                    font-size: 1.25rem !important;\r\n                }\r\n                /* Multiple choice options */\r\n                .presentation-question-wrapper [class*=\"space-y\"] > div,\r\n                .presentation-question-wrapper [class*=\"gap\"] > div {\r\n                    padding: 1.25rem !important;\r\n                }\r\n            `}</style>\r\n\r\n            {/* Top Bar */}\r\n            <div className=\"flex-none h-16 flex items-center justify-between px-6 bg-black/30\">\r\n                {/* Title */}\r\n                <div className=\"flex items-center gap-4\">\r\n                    <h2 className=\"text-white text-xl font-bold\">{currentSlide?.title}</h2>\r\n                    <span className=\"text-gray-400 text-sm\">\r\n                        {currentSlideIndex + 1} / {slides.length}\r\n                    </span>\r\n                </div>\r\n\r\n                {/* Controls */}\r\n                <div className=\"flex items-center gap-3\">\r\n                    <button\r\n                        onClick={toggleFullscreen}\r\n                        className=\"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors\"\r\n                        title=\"◊û◊°◊ö ◊û◊ú◊ê (F)\"\r\n                    >\r\n                        <IconMaximize className=\"w-5 h-5\" />\r\n                    </button>\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"p-2 text-white/70 hover:text-white hover:bg-white/10 rounded-lg transition-colors\"\r\n                        title=\"◊°◊í◊ï◊® (ESC)\"\r\n                    >\r\n                        <IconX className=\"w-5 h-5\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Progress Bar */}\r\n            <div className=\"flex-none h-1 bg-gray-700\">\r\n                <div\r\n                    className=\"h-full bg-indigo-500 transition-all duration-300\"\r\n                    style={{ width: `${progress}%` }}\r\n                />\r\n            </div>\r\n\r\n            {/* Slide Content */}\r\n            <div className=\"flex-1 text-white overflow-y-auto\">\r\n                {currentSlide?.blockData\r\n                    ? renderInteractiveBlock(currentSlide.blockData)\r\n                    : currentSlide?.content\r\n                }\r\n            </div>\r\n\r\n            {/* Navigation */}\r\n            <div className=\"flex-none h-20 flex items-center justify-center gap-6 bg-black/30\">\r\n                <button\r\n                    onClick={() => setCurrentSlideIndex(prev => Math.max(0, prev - 1))}\r\n                    disabled={currentSlideIndex === 0}\r\n                    className=\"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-white font-medium transition-colors\"\r\n                >\r\n                    <IconArrowRight className=\"w-5 h-5\" />\r\n                    ◊î◊ß◊ï◊ì◊ù\r\n                </button>\r\n\r\n                {/* Slide indicators */}\r\n                <div className=\"flex gap-2\">\r\n                    {slides.map((_, idx) => (\r\n                        <button\r\n                            key={idx}\r\n                            onClick={() => setCurrentSlideIndex(idx)}\r\n                            className={`w-3 h-3 rounded-full transition-colors ${\r\n                                idx === currentSlideIndex\r\n                                    ? 'bg-indigo-500'\r\n                                    : 'bg-white/30 hover:bg-white/50'\r\n                            }`}\r\n                        />\r\n                    ))}\r\n                </div>\r\n\r\n                <button\r\n                    onClick={() => setCurrentSlideIndex(prev => Math.min(slides.length - 1, prev + 1))}\r\n                    disabled={currentSlideIndex === slides.length - 1}\r\n                    className=\"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed rounded-full text-white font-medium transition-colors\"\r\n                >\r\n                    ◊î◊ë◊ê\r\n                    <IconArrowBack className=\"w-5 h-5\" />\r\n                </button>\r\n            </div>\r\n\r\n            {/* Keyboard hints */}\r\n            <div className=\"absolute bottom-2 left-4 text-gray-500 text-xs\">\r\n                ‚Üê ◊ß◊ì◊ô◊û◊î | ‚Üí ◊ê◊ó◊ï◊®◊î | F ◊û◊°◊ö ◊û◊ú◊ê | ESC ◊ô◊¶◊ô◊ê◊î\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PresentationMode;\r\n"],"names":["PresentationMode","unit","onClose","currentSlideIndex","setCurrentSlideIndex","useState","isFullscreen","setIsFullscreen","slides","React","result","block","content","imageMatch","jsx","titleMatch","title","boardMatch","listMatch","bullets","bulletTexts","b","bullet","idx","jsxs","question","pairs","pair","handleKeyDown","useCallback","e","prev","toggleFullscreen","useEffect","handleFullscreenChange","currentSlide","progress","renderInteractiveBlock","dummyHandler","MultipleChoiceQuestion","CategorizationQuestion","OrderingQuestion","MemoryGameQuestion","ClozeQuestion","IconMaximize","IconX","IconArrowRight","_","IconArrowBack"],"mappings":"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"}