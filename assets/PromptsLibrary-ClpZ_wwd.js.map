{"version":3,"file":"PromptsLibrary-ClpZ_wwd.js","sources":["../../node_modules/@tabler/icons-react/dist/esm/icons/IconCalendarEvent.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconCrown.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconDatabaseImport.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconGripVertical.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconHeartHandshake.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconMailHeart.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconSortDescending.mjs","../../node_modules/@tabler/icons-react/dist/esm/icons/IconStarFilled.mjs","../../src/services/promptsService.ts","../../src/components/PromptCard.tsx","../../src/components/SubmitPromptModal.tsx","../../src/data/newPrompts.ts","../../src/components/AdminPromptSeeder.tsx","../../src/components/PromptsLibrary.tsx"],"sourcesContent":["/**\n * @license @tabler/icons-react v3.36.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M4 5m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M16 3l0 4\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M8 3l0 4\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M4 11l16 0\", \"key\": \"svg-3\" }], [\"path\", { \"d\": \"M8 15h2v2h-2z\", \"key\": \"svg-4\" }]];\nconst IconCalendarEvent = createReactComponent(\"outline\", \"calendar-event\", \"CalendarEvent\", __iconNode);\n\nexport { __iconNode, IconCalendarEvent as default };\n//# sourceMappingURL=IconCalendarEvent.mjs.map\n","/**\n * @license @tabler/icons-react v3.36.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M12 6l4 6l5 -4l-2 10h-14l-2 -10l5 4z\", \"key\": \"svg-0\" }]];\nconst IconCrown = createReactComponent(\"outline\", \"crown\", \"Crown\", __iconNode);\n\nexport { __iconNode, IconCrown as default };\n//# sourceMappingURL=IconCrown.mjs.map\n","/**\n * @license @tabler/icons-react v3.36.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M4 6v6c0 1.657 3.582 3 8 3c.856 0 1.68 -.05 2.454 -.144m5.546 -2.856v-6\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M4 12v6c0 1.657 3.582 3 8 3c.171 0 .341 -.002 .51 -.006\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M19 22v-6\", \"key\": \"svg-3\" }], [\"path\", { \"d\": \"M22 19l-3 -3l-3 3\", \"key\": \"svg-4\" }]];\nconst IconDatabaseImport = createReactComponent(\"outline\", \"database-import\", \"DatabaseImport\", __iconNode);\n\nexport { __iconNode, IconDatabaseImport as default };\n//# sourceMappingURL=IconDatabaseImport.mjs.map\n","/**\n * @license @tabler/icons-react v3.36.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-3\" }], [\"path\", { \"d\": \"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-4\" }], [\"path\", { \"d\": \"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0\", \"key\": \"svg-5\" }]];\nconst IconGripVertical = createReactComponent(\"outline\", \"grip-vertical\", \"GripVertical\", __iconNode);\n\nexport { __iconNode, IconGripVertical as default };\n//# sourceMappingURL=IconGripVertical.mjs.map\n","/**\n * @license @tabler/icons-react v3.36.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M12 6l-3.293 3.293a1 1 0 0 0 0 1.414l.543 .543c.69 .69 1.81 .69 2.5 0l1 -1a3.182 3.182 0 0 1 4.5 0l2.25 2.25\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M12.5 15.5l2 2\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M15 13l2 2\", \"key\": \"svg-3\" }]];\nconst IconHeartHandshake = createReactComponent(\"outline\", \"heart-handshake\", \"HeartHandshake\", __iconNode);\n\nexport { __iconNode, IconHeartHandshake as default };\n//# sourceMappingURL=IconHeartHandshake.mjs.map\n","/**\n * @license @tabler/icons-react v3.36.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M10.5 19h-5.5a2 2 0 0 1 -2 -2v-10a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v4\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M3 7l9 6l2.983 -1.989l6.017 -4.011\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M18 22l3.35 -3.284a2.143 2.143 0 0 0 .005 -3.071a2.242 2.242 0 0 0 -3.129 -.006l-.224 .22l-.223 -.22a2.242 2.242 0 0 0 -3.128 -.006a2.143 2.143 0 0 0 -.006 3.071l3.355 3.296z\", \"key\": \"svg-2\" }]];\nconst IconMailHeart = createReactComponent(\"outline\", \"mail-heart\", \"MailHeart\", __iconNode);\n\nexport { __iconNode, IconMailHeart as default };\n//# sourceMappingURL=IconMailHeart.mjs.map\n","/**\n * @license @tabler/icons-react v3.36.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M4 6l9 0\", \"key\": \"svg-0\" }], [\"path\", { \"d\": \"M4 12l7 0\", \"key\": \"svg-1\" }], [\"path\", { \"d\": \"M4 18l7 0\", \"key\": \"svg-2\" }], [\"path\", { \"d\": \"M15 15l3 3l3 -3\", \"key\": \"svg-3\" }], [\"path\", { \"d\": \"M18 6l0 12\", \"key\": \"svg-4\" }]];\nconst IconSortDescending = createReactComponent(\"outline\", \"sort-descending\", \"SortDescending\", __iconNode);\n\nexport { __iconNode, IconSortDescending as default };\n//# sourceMappingURL=IconSortDescending.mjs.map\n","/**\n * @license @tabler/icons-react v3.36.0 - MIT\n *\n * This source code is licensed under the MIT license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createReactComponent from '../createReactComponent.mjs';\n\nconst __iconNode = [[\"path\", { \"d\": \"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z\", \"key\": \"svg-0\" }]];\nconst IconStarFilled = createReactComponent(\"filled\", \"star-filled\", \"StarFilled\", __iconNode);\n\nexport { __iconNode, IconStarFilled as default };\n//# sourceMappingURL=IconStarFilled.mjs.map\n","import {\r\n  collection,\r\n  doc,\r\n  addDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  getDocs,\r\n  getDoc,\r\n  query,\r\n  where,\r\n  orderBy,\r\n  limit,\r\n  onSnapshot,\r\n  serverTimestamp,\r\n  increment,\r\n  Timestamp,\r\n  writeBatch\r\n} from 'firebase/firestore';\r\nimport { db } from '../firebase';\r\n\r\n// ============================================\r\n// Types\r\n// ============================================\r\n\r\nexport interface PromptField {\r\n  id: string;\r\n  label: string;           // \"××§×¦×•×¢\"\r\n  placeholder: string;     // \"××ª××˜×™×§×”, ×¢×‘×¨×™×ª...\"\r\n  type: 'text' | 'select' | 'number';\r\n  options?: string[];      // for type=select\r\n  required: boolean;\r\n}\r\n\r\nexport interface Prompt {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  category: string;\r\n  subcategory: string;\r\n  promptTemplate: string;  // Text with {{placeholders}}\r\n  fields: PromptField[];\r\n  targetTools: string[];   // ['ChatGPT', 'Claude', 'Gemini']\r\n  tips?: string;\r\n\r\n  // Creator info\r\n  createdBy: string | null;  // null = auto-generated\r\n  creatorName: string;\r\n  createdAt: Timestamp;\r\n  isAutoGenerated: boolean;\r\n\r\n  // Stats\r\n  usageCount: number;\r\n  averageRating: number;\r\n  ratingCount: number;\r\n\r\n  // Status\r\n  status: 'active' | 'pending' | 'rejected';\r\n\r\n  // Featured\r\n  isFeatured?: boolean;\r\n  featuredAt?: Timestamp;\r\n}\r\n\r\nexport interface PromptRating {\r\n  id?: string;\r\n  promptId: string;\r\n  userId: string;\r\n  userName: string;\r\n  rating: number;          // 1-5\r\n  comment?: string;\r\n  createdAt: Timestamp;\r\n}\r\n\r\nexport interface TeacherStats {\r\n  odUseri: string;\r\n  promptCount: number;\r\n  averageRating: number;\r\n  totalRatings: number;\r\n  isRecommended: boolean;  // 4.5+ avg and 5+ prompts\r\n}\r\n\r\n// ============================================\r\n// Categories - Specific, not general\r\n// ============================================\r\n\r\nexport const PROMPT_CATEGORIES = [\r\n  {\r\n    id: 'popular',\r\n    name: '×”×›×™ ×¤×•×¤×•×œ×¨×™',\r\n    icon: 'ğŸ”¥',\r\n    subcategories: [],\r\n    isSpecial: true  // Special category - not a real category filter\r\n  },\r\n  {\r\n    id: 'exams',\r\n    name: '×™×¦×™×¨×ª ××‘×—× ×™×',\r\n    icon: 'ğŸ“',\r\n    subcategories: [\r\n      '××‘×—×Ÿ ×¨×‘-×‘×¨×™×¨×”',\r\n      '××‘×—×Ÿ ×¤×ª×•×—',\r\n      '×‘×•×—×Ÿ ××”×™×¨ (5 ×“×§×•×ª)',\r\n      '××‘×—×Ÿ ××•×ª×× ×œ×ª×œ××™×“×™× ×¢× ×œ×§×•×™×•×ª'\r\n    ]\r\n  },\r\n  {\r\n    id: 'lessons',\r\n    name: '×”×›× ×ª ×©×™×¢×•×¨×™×',\r\n    icon: 'ğŸ“š',\r\n    subcategories: [\r\n      '×¤×ª×™×—×ª ×©×™×¢×•×¨ ××¢× ×™×™× ×ª',\r\n      '×¡×™×›×•× ×©×™×¢×•×¨',\r\n      '×©×™×¢×•×¨ ××‘×•×¡×¡ ×—×§×¨',\r\n      '×©×™×¢×•×¨ ×”×¤×•×š (Flipped)'\r\n    ]\r\n  },\r\n  {\r\n    id: 'feedback',\r\n    name: '××©×•×‘ ×œ×ª×œ××™×“×™×',\r\n    icon: 'ğŸ’¬',\r\n    subcategories: [\r\n      '××©×•×‘ ×¢×œ ×¢×‘×•×“×” ×›×ª×•×‘×”',\r\n      '××©×•×‘ ××¢×•×“×“ ×œ×ª×œ××™×“ ××ª×§×©×”',\r\n      '××©×•×‘ ×œ×ª×œ××™×“ ××¦×˜×™×™×Ÿ',\r\n      '××©×•×‘ ×œ×”×•×¨×™×'\r\n    ]\r\n  },\r\n  {\r\n    id: 'activities',\r\n    name: '××©×—×§×™× ×•×¤×¢×™×œ×•×™×•×ª',\r\n    icon: 'ğŸ®',\r\n    subcategories: [\r\n      '××©×—×§ ×›×™×ª×ª×™',\r\n      '×ª×—×¨×•×ª ×§×‘×•×¦×ª×™×ª',\r\n      '×—×™×“×•×Ÿ',\r\n      '×¤×¢×™×œ×•×ª ×©×™×ª×•×¤×™×ª'\r\n    ]\r\n  },\r\n  {\r\n    id: 'adaptations',\r\n    name: '×”×ª×××•×ª ××™×©×™×•×ª',\r\n    icon: 'ğŸ¯',\r\n    subcategories: [\r\n      '×¤×™×©×•×˜ ×˜×§×¡×˜',\r\n      '×”×¢××§×” ×œ×ª×œ××™×“ ××¦×˜×™×™×Ÿ',\r\n      '×”×ª×××” ×œ×“×™×¡×œ×§×¦×™×”',\r\n      '×ª×¨×’×•× ×œ×¢×¨×‘×™×ª'\r\n    ]\r\n  },\r\n  {\r\n    id: 'content',\r\n    name: '×™×¦×™×¨×ª ×ª×•×›×Ÿ',\r\n    icon: 'âœ¨',\r\n    subcategories: [\r\n      '×¡×™×¤×•×¨ ×œ×™××•×“×™',\r\n      '×©×™×¨ ×¢×œ × ×•×©×',\r\n      '×“×™××œ×•×’ ×œ×”××—×©×”',\r\n      '×× ×œ×•×’×™×” ×œ×”×¡×‘×¨ ××•×©×’'\r\n    ]\r\n  },\r\n  {\r\n    id: 'management',\r\n    name: '× ×™×”×•×œ ×›×™×ª×”',\r\n    icon: 'ğŸ‘¥',\r\n    subcategories: [\r\n      '×ª×¡×¨×™×˜ ×œ×©×™×—×” ×¢× ×”×•×¨×”',\r\n      '×˜×™×¤×•×œ ×‘×‘×¢×™×™×ª ××©××¢×ª',\r\n      '×”× ×¢×ª ×ª×œ××™×“ ×× ×•×ª×§',\r\n      '×‘× ×™×™×ª ×—×•×–×” ×›×™×ª×ª×™'\r\n    ]\r\n  },\r\n  {\r\n    id: 'assessment',\r\n    name: '×”×¢×¨×›×” ×—×œ×•×¤×™×ª',\r\n    icon: 'ğŸ“Š',\r\n    subcategories: [\r\n      '×¨×•×‘×¨×™×§×” ×œ×”×¢×¨×›×”',\r\n      '×¤×¨×•×™×§×˜ ××¡×›×',\r\n      '×ª×™×§ ×¢×‘×•×“×•×ª (Portfolio)',\r\n      '×”×¢×¨×›×ª ×¢××™×ª×™×'\r\n    ]\r\n  },\r\n  {\r\n    id: 'sel',\r\n    name: '×œ××™×“×” ×—×‘×¨×ª×™×ª-×¨×’×©×™×ª (SEL)',\r\n    icon: 'ğŸ¤',\r\n    subcategories: [\r\n      '××¢×¨×š ×©×™×¢×•×¨ ×—×‘×¨×ª×™',\r\n      '×¤×¢×™×œ×•×ª ××™×•×× ×•×™×•×ª SEL',\r\n      '××©×—×§ ×ª×¤×§×™×“×™×',\r\n      '×¤×¢×™×œ×•×ª ××•×¤×˜×™××™×•×ª ×•×—×•×¡×Ÿ'\r\n    ]\r\n  },\r\n  {\r\n    id: 'planning',\r\n    name: '×ª×›× ×•×Ÿ ×•×ª×›× ×™×•×ª ×¢×‘×•×“×”',\r\n    icon: 'ğŸ“‹',\r\n    subcategories: [\r\n      '×ª×›× ×™×ª ×¢×‘×•×“×” ×›×™×ª×ª×™×ª',\r\n      '×ª×›× ×™×ª ×œ×™××•×“×™×ª ××™×©×™×ª',\r\n      '×ª×›× ×•×Ÿ ×©× ×ª×™',\r\n      '×ª×›× ×•×Ÿ ×™×—×™×“×ª ×”×•×¨××”'\r\n    ]\r\n  },\r\n  {\r\n    id: 'communication',\r\n    name: '×ª×§×©×•×¨×ª ××™×©×™×ª',\r\n    icon: 'ğŸ’Œ',\r\n    subcategories: [\r\n      '××›×ª×‘ ××™×©×™ ×œ×ª×œ××™×“',\r\n      '×”×•×“×¢×” ×œ×”×•×¨×™×',\r\n      '××©×•×‘ ××¢×¦×™×',\r\n      '×‘×¨×›×” ××™×©×™×ª'\r\n    ]\r\n  }\r\n];\r\n\r\n// Common field options for reuse\r\nexport const COMMON_FIELD_OPTIONS = {\r\n  subjects: ['××ª××˜×™×§×”', '×¢×‘×¨×™×ª', '×× ×’×œ×™×ª', '××“×¢×™×', '×”×™×¡×˜×•×¨×™×”', '×’××•×’×¨×¤×™×”', '××–×¨×—×•×ª', '×ª× \"×š', '×¡×¤×¨×•×ª', '××—×¨'],\r\n  gradeLevels: ['××³', '×‘×³', '×’×³', '×“×³', '×”×³', '×•×³', '×–×³', '×—×³', '×˜×³', '×™×³', '×™×´×', '×™×´×‘'],\r\n  difficultyLevels: ['×§×œ', '×‘×™× ×•× ×™', '×××ª×’×¨'],\r\n  questionCounts: ['5', '10', '15', '20', '25', '30']\r\n};\r\n\r\nconst PROMPTS_COLLECTION = 'prompts';\r\nconst RATINGS_COLLECTION = 'prompt_ratings';\r\n\r\n// ============================================\r\n// Prompt CRUD Operations\r\n// ============================================\r\n\r\nexport async function createPrompt(prompt: Omit<Prompt, 'id' | 'createdAt' | 'usageCount' | 'averageRating' | 'ratingCount'>): Promise<string> {\r\n  const docRef = await addDoc(collection(db, PROMPTS_COLLECTION), {\r\n    ...prompt,\r\n    createdAt: serverTimestamp(),\r\n    usageCount: 0,\r\n    averageRating: 0,\r\n    ratingCount: 0,\r\n    status: prompt.status || 'active'\r\n  });\r\n  return docRef.id;\r\n}\r\n\r\nexport async function getPrompt(promptId: string): Promise<Prompt | null> {\r\n  const docSnap = await getDoc(doc(db, PROMPTS_COLLECTION, promptId));\r\n  if (!docSnap.exists()) return null;\r\n  return { id: docSnap.id, ...docSnap.data() } as Prompt;\r\n}\r\n\r\nexport async function updatePrompt(promptId: string, updates: Partial<Prompt>): Promise<void> {\r\n  await updateDoc(doc(db, PROMPTS_COLLECTION, promptId), updates);\r\n}\r\n\r\nexport async function deletePrompt(promptId: string): Promise<void> {\r\n  await deleteDoc(doc(db, PROMPTS_COLLECTION, promptId));\r\n}\r\n\r\n// ============================================\r\n// Fetching Prompts\r\n// ============================================\r\n\r\nexport async function getAllPrompts(): Promise<Prompt[]> {\r\n  // Simple query without orderBy to avoid needing composite index\r\n  const q = query(\r\n    collection(db, PROMPTS_COLLECTION),\r\n    where('status', '==', 'active')\r\n  );\r\n  const snapshot = await getDocs(q);\r\n  const prompts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Prompt));\r\n\r\n  // Sort client-side by createdAt descending\r\n  return prompts.sort((a, b) => {\r\n    const dateA = a.createdAt?.toDate?.() || new Date(0);\r\n    const dateB = b.createdAt?.toDate?.() || new Date(0);\r\n    return dateB.getTime() - dateA.getTime();\r\n  });\r\n}\r\n\r\nexport async function getPromptsByCategory(category: string): Promise<Prompt[]> {\r\n  const q = query(\r\n    collection(db, PROMPTS_COLLECTION),\r\n    where('status', '==', 'active'),\r\n    where('category', '==', category)\r\n  );\r\n  const snapshot = await getDocs(q);\r\n  const prompts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Prompt));\r\n\r\n  // Sort client-side by createdAt descending\r\n  return prompts.sort((a, b) => {\r\n    const dateA = a.createdAt?.toDate?.() || new Date(0);\r\n    const dateB = b.createdAt?.toDate?.() || new Date(0);\r\n    return dateB.getTime() - dateA.getTime();\r\n  });\r\n}\r\n\r\nexport async function getFeaturedPrompt(): Promise<Prompt | null> {\r\n  const q = query(\r\n    collection(db, PROMPTS_COLLECTION),\r\n    where('status', '==', 'active'),\r\n    where('isFeatured', '==', true),\r\n    limit(1)\r\n  );\r\n  const snapshot = await getDocs(q);\r\n  if (snapshot.empty) {\r\n    // Fallback: get highest rated prompt (fetch all active and sort client-side)\r\n    const fallbackQ = query(\r\n      collection(db, PROMPTS_COLLECTION),\r\n      where('status', '==', 'active')\r\n    );\r\n    const fallbackSnapshot = await getDocs(fallbackQ);\r\n    if (fallbackSnapshot.empty) return null;\r\n    const prompts = fallbackSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Prompt));\r\n    prompts.sort((a, b) => (b.averageRating || 0) - (a.averageRating || 0));\r\n    return prompts[0];\r\n  }\r\n  return { id: snapshot.docs[0].id, ...snapshot.docs[0].data() } as Prompt;\r\n}\r\n\r\nexport async function getTopRatedPrompts(limitCount: number = 10): Promise<Prompt[]> {\r\n  const q = query(\r\n    collection(db, PROMPTS_COLLECTION),\r\n    where('status', '==', 'active')\r\n  );\r\n  const snapshot = await getDocs(q);\r\n  const prompts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Prompt));\r\n\r\n  // Sort client-side by averageRating descending and limit\r\n  return prompts\r\n    .sort((a, b) => (b.averageRating || 0) - (a.averageRating || 0))\r\n    .slice(0, limitCount);\r\n}\r\n\r\nexport async function getMostUsedPrompts(limitCount: number = 10): Promise<Prompt[]> {\r\n  const q = query(\r\n    collection(db, PROMPTS_COLLECTION),\r\n    where('status', '==', 'active')\r\n  );\r\n  const snapshot = await getDocs(q);\r\n  const prompts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Prompt));\r\n\r\n  // Sort client-side by usageCount descending and limit\r\n  return prompts\r\n    .sort((a, b) => (b.usageCount || 0) - (a.usageCount || 0))\r\n    .slice(0, limitCount);\r\n}\r\n\r\nexport async function getPromptsByCreator(creatorId: string): Promise<Prompt[]> {\r\n  const q = query(\r\n    collection(db, PROMPTS_COLLECTION),\r\n    where('createdBy', '==', creatorId)\r\n  );\r\n  const snapshot = await getDocs(q);\r\n  const prompts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Prompt));\r\n\r\n  // Sort client-side by createdAt descending\r\n  return prompts.sort((a, b) => {\r\n    const dateA = a.createdAt?.toDate?.() || new Date(0);\r\n    const dateB = b.createdAt?.toDate?.() || new Date(0);\r\n    return dateB.getTime() - dateA.getTime();\r\n  });\r\n}\r\n\r\n// Real-time subscription\r\nexport function subscribeToPrompts(\r\n  callback: (prompts: Prompt[]) => void,\r\n  category?: string\r\n): () => void {\r\n  let q;\r\n  if (category) {\r\n    q = query(\r\n      collection(db, PROMPTS_COLLECTION),\r\n      where('status', '==', 'active'),\r\n      where('category', '==', category)\r\n    );\r\n  } else {\r\n    q = query(\r\n      collection(db, PROMPTS_COLLECTION),\r\n      where('status', '==', 'active')\r\n    );\r\n  }\r\n\r\n  return onSnapshot(q, (snapshot) => {\r\n    const prompts = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as Prompt));\r\n    // Sort client-side by createdAt descending\r\n    prompts.sort((a, b) => {\r\n      const dateA = a.createdAt?.toDate?.() || new Date(0);\r\n      const dateB = b.createdAt?.toDate?.() || new Date(0);\r\n      return dateB.getTime() - dateA.getTime();\r\n    });\r\n    callback(prompts);\r\n  });\r\n}\r\n\r\n// ============================================\r\n// Usage Tracking\r\n// ============================================\r\n\r\nexport async function trackPromptUsage(promptId: string): Promise<void> {\r\n  await updateDoc(doc(db, PROMPTS_COLLECTION, promptId), {\r\n    usageCount: increment(1)\r\n  });\r\n}\r\n\r\n// ============================================\r\n// Ratings System\r\n// ============================================\r\n\r\nexport async function ratePrompt(\r\n  promptId: string,\r\n  odUseri: string,\r\n  userName: string,\r\n  rating: number,\r\n  comment?: string\r\n): Promise<void> {\r\n  // Check if user already rated this prompt\r\n  const existingRatingQuery = query(\r\n    collection(db, RATINGS_COLLECTION),\r\n    where('promptId', '==', promptId),\r\n    where('userId', '==', odUseri)\r\n  );\r\n  const existingRating = await getDocs(existingRatingQuery);\r\n\r\n  const batch = writeBatch(db);\r\n  const promptRef = doc(db, PROMPTS_COLLECTION, promptId);\r\n\r\n  if (!existingRating.empty) {\r\n    // Update existing rating\r\n    const oldRating = existingRating.docs[0].data().rating;\r\n    const ratingRef = doc(db, RATINGS_COLLECTION, existingRating.docs[0].id);\r\n\r\n    batch.update(ratingRef, {\r\n      rating,\r\n      comment: comment || null,\r\n      createdAt: serverTimestamp()\r\n    });\r\n\r\n    // Update prompt's average (remove old, add new)\r\n    const prompt = await getPrompt(promptId);\r\n    if (prompt && prompt.ratingCount > 0) {\r\n      const newTotal = (prompt.averageRating * prompt.ratingCount) - oldRating + rating;\r\n      const newAverage = newTotal / prompt.ratingCount;\r\n      batch.update(promptRef, {\r\n        averageRating: newAverage\r\n      });\r\n    }\r\n  } else {\r\n    // Create new rating\r\n    const newRatingRef = doc(collection(db, RATINGS_COLLECTION));\r\n    batch.set(newRatingRef, {\r\n      promptId,\r\n      userId: odUseri,\r\n      userName,\r\n      rating,\r\n      comment: comment || null,\r\n      createdAt: serverTimestamp()\r\n    });\r\n\r\n    // Update prompt stats\r\n    const prompt = await getPrompt(promptId);\r\n    if (prompt) {\r\n      const newCount = prompt.ratingCount + 1;\r\n      const newAverage = ((prompt.averageRating * prompt.ratingCount) + rating) / newCount;\r\n      batch.update(promptRef, {\r\n        averageRating: newAverage,\r\n        ratingCount: newCount\r\n      });\r\n    }\r\n  }\r\n\r\n  await batch.commit();\r\n}\r\n\r\nexport async function getPromptRatings(promptId: string): Promise<PromptRating[]> {\r\n  const q = query(\r\n    collection(db, RATINGS_COLLECTION),\r\n    where('promptId', '==', promptId)\r\n  );\r\n  const snapshot = await getDocs(q);\r\n  const ratings = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as PromptRating));\r\n\r\n  // Sort client-side by createdAt descending\r\n  return ratings.sort((a, b) => {\r\n    const dateA = a.createdAt?.toDate?.() || new Date(0);\r\n    const dateB = b.createdAt?.toDate?.() || new Date(0);\r\n    return dateB.getTime() - dateA.getTime();\r\n  });\r\n}\r\n\r\nexport async function getUserRatingForPrompt(promptId: string, odUseri: string): Promise<PromptRating | null> {\r\n  const q = query(\r\n    collection(db, RATINGS_COLLECTION),\r\n    where('promptId', '==', promptId),\r\n    where('userId', '==', odUseri)\r\n  );\r\n  const snapshot = await getDocs(q);\r\n  if (snapshot.empty) return null;\r\n  return { id: snapshot.docs[0].id, ...snapshot.docs[0].data() } as PromptRating;\r\n}\r\n\r\n// ============================================\r\n// Teacher Stats (for \"Recommended Teacher\" badge)\r\n// ============================================\r\n\r\nexport async function getTeacherStats(odUseri: string): Promise<TeacherStats> {\r\n  const prompts = await getPromptsByCreator(odUseri);\r\n\r\n  const totalRatings = prompts.reduce((sum, p) => sum + p.ratingCount, 0);\r\n  const weightedSum = prompts.reduce((sum, p) => sum + (p.averageRating * p.ratingCount), 0);\r\n  const averageRating = totalRatings > 0 ? weightedSum / totalRatings : 0;\r\n\r\n  return {\r\n    odUseri,\r\n    promptCount: prompts.length,\r\n    averageRating,\r\n    totalRatings,\r\n    isRecommended: averageRating >= 4.5 && prompts.length >= 5\r\n  };\r\n}\r\n\r\nexport async function isTeacherRecommended(odUseri: string): Promise<boolean> {\r\n  const stats = await getTeacherStats(odUseri);\r\n  return stats.isRecommended;\r\n}\r\n\r\n// ============================================\r\n// Helper: Fill prompt template with values\r\n// ============================================\r\n\r\nexport function fillPromptTemplate(template: string, fieldValues: Record<string, string>): string {\r\n  let result = template;\r\n  for (const [key, value] of Object.entries(fieldValues)) {\r\n    // Escape special regex characters in the key\r\n    const escapedKey = key.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\r\n    const regex = new RegExp(`\\\\{\\\\{${escapedKey}\\\\}\\\\}`, 'g');\r\n    result = result.replace(regex, value || `{{${key}}}`);\r\n  }\r\n  return result;\r\n}\r\n\r\n// ============================================\r\n// Search\r\n// ============================================\r\n\r\nexport async function searchPrompts(searchTerm: string): Promise<Prompt[]> {\r\n  // Firestore doesn't support full-text search, so we fetch all and filter client-side\r\n  // For production, consider Algolia or Elasticsearch\r\n  const allPrompts = await getAllPrompts();\r\n  const lowerSearch = searchTerm.toLowerCase();\r\n\r\n  return allPrompts.filter(prompt =>\r\n    prompt.title.toLowerCase().includes(lowerSearch) ||\r\n    prompt.description.toLowerCase().includes(lowerSearch) ||\r\n    prompt.category.toLowerCase().includes(lowerSearch) ||\r\n    prompt.subcategory.toLowerCase().includes(lowerSearch)\r\n  );\r\n}\r\n\r\n// ============================================\r\n// Bulk create (for initial seeding)\r\n// ============================================\r\n\r\nexport async function bulkCreatePrompts(prompts: Omit<Prompt, 'id' | 'createdAt' | 'usageCount' | 'averageRating' | 'ratingCount'>[]): Promise<string[]> {\r\n  const batch = writeBatch(db);\r\n  const ids: string[] = [];\r\n\r\n  // Firestore batch limit is 500, so we need to split\r\n  const chunks = [];\r\n  for (let i = 0; i < prompts.length; i += 400) {\r\n    chunks.push(prompts.slice(i, i + 400));\r\n  }\r\n\r\n  for (const chunk of chunks) {\r\n    const chunkBatch = writeBatch(db);\r\n    for (const prompt of chunk) {\r\n      const docRef = doc(collection(db, PROMPTS_COLLECTION));\r\n      ids.push(docRef.id);\r\n      chunkBatch.set(docRef, {\r\n        ...prompt,\r\n        createdAt: serverTimestamp(),\r\n        usageCount: 0,\r\n        averageRating: 0,\r\n        ratingCount: 0,\r\n        status: 'active'\r\n      });\r\n    }\r\n    await chunkBatch.commit();\r\n  }\r\n\r\n  return ids;\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  IconCopy,\r\n  IconStar,\r\n  IconStarFilled,\r\n  IconMessage,\r\n  IconChevronDown,\r\n  IconChevronUp,\r\n  IconCrown,\r\n  IconCheck,\r\n  IconBrandOpenai,\r\n  IconSparkles,\r\n  IconUser\r\n} from '@tabler/icons-react';\r\nimport type {\r\n  Prompt,\r\n  PromptField,\r\n  PromptRating\r\n} from '../services/promptsService';\r\nimport {\r\n  fillPromptTemplate,\r\n  trackPromptUsage,\r\n  ratePrompt,\r\n  getPromptRatings,\r\n  getUserRatingForPrompt,\r\n  isTeacherRecommended,\r\n  COMMON_FIELD_OPTIONS\r\n} from '../services/promptsService';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\ninterface PromptCardProps {\r\n  prompt: Prompt;\r\n  featured?: boolean;\r\n  onRatingChange?: () => void;\r\n}\r\n\r\nexport default function PromptCard({ prompt, featured = false, onRatingChange }: PromptCardProps) {\r\n  const { currentUser } = useAuth();\r\n  const [isExpanded, setIsExpanded] = useState(featured); // Featured cards start expanded\r\n  const [fieldValues, setFieldValues] = useState<Record<string, string>>({});\r\n  const [copied, setCopied] = useState(false);\r\n  const [showComments, setShowComments] = useState(false);\r\n  const [comments, setComments] = useState<PromptRating[]>([]);\r\n  const [userRating, setUserRating] = useState<number>(0);\r\n  const [hoverRating, setHoverRating] = useState<number>(0);\r\n  const [isCreatorRecommended, setIsCreatorRecommended] = useState(false);\r\n  const [showRatingInput, setShowRatingInput] = useState(false);\r\n  const [ratingComment, setRatingComment] = useState('');\r\n  const [isSubmittingRating, setIsSubmittingRating] = useState(false);\r\n\r\n  // Initialize field values with empty strings only when prompt changes\r\n  useEffect(() => {\r\n    const initialValues: Record<string, string> = {};\r\n    prompt.fields.forEach(field => {\r\n      initialValues[field.id] = '';\r\n    });\r\n    setFieldValues(initialValues);\r\n  }, [prompt.id]); // Only reset when switching to a different prompt\r\n\r\n  // Check if creator is recommended\r\n  useEffect(() => {\r\n    if (prompt.createdBy) {\r\n      isTeacherRecommended(prompt.createdBy).then(setIsCreatorRecommended);\r\n    }\r\n  }, [prompt.createdBy]);\r\n\r\n  // Load user's existing rating\r\n  useEffect(() => {\r\n    if (currentUser?.uid) {\r\n      getUserRatingForPrompt(prompt.id, currentUser.uid).then(rating => {\r\n        if (rating) {\r\n          setUserRating(rating.rating);\r\n          setRatingComment(rating.comment || '');\r\n        }\r\n      });\r\n    }\r\n  }, [prompt.id, currentUser?.uid]);\r\n\r\n  const handleFieldChange = (fieldId: string, value: string) => {\r\n    setFieldValues(prev => ({ ...prev, [fieldId]: value }));\r\n  };\r\n\r\n  const getFilledPrompt = () => {\r\n    return fillPromptTemplate(prompt.promptTemplate, fieldValues);\r\n  };\r\n\r\n  const handleCopy = async () => {\r\n    const filledPrompt = getFilledPrompt();\r\n    await navigator.clipboard.writeText(filledPrompt);\r\n    setCopied(true);\r\n    trackPromptUsage(prompt.id);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  };\r\n\r\n  const handleLoadComments = async () => {\r\n    if (!showComments) {\r\n      const ratings = await getPromptRatings(prompt.id);\r\n      setComments(ratings.filter(r => r.comment)); // Only show ratings with comments\r\n    }\r\n    setShowComments(!showComments);\r\n  };\r\n\r\n  const handleRatingSubmit = async () => {\r\n    if (!currentUser || userRating === 0) return;\r\n\r\n    setIsSubmittingRating(true);\r\n    try {\r\n      await ratePrompt(\r\n        prompt.id,\r\n        currentUser.uid,\r\n        currentUser.displayName || '××•×¨×” ×× ×•× ×™××™',\r\n        userRating,\r\n        ratingComment\r\n      );\r\n      setShowRatingInput(false);\r\n      onRatingChange?.();\r\n    } catch (error) {\r\n      console.error('Error submitting rating:', error);\r\n    } finally {\r\n      setIsSubmittingRating(false);\r\n    }\r\n  };\r\n\r\n  const renderField = (field: PromptField) => {\r\n    const baseInputClass = \"w-full px-3 py-2 rounded-lg border border-slate-200 focus:border-wizdi-royal focus:ring-2 focus:ring-wizdi-royal/20 outline-none transition-all text-sm\";\r\n\r\n    switch (field.type) {\r\n      case 'select':\r\n        return (\r\n          <select\r\n            value={fieldValues[field.id] || ''}\r\n            onChange={(e) => handleFieldChange(field.id, e.target.value)}\r\n            className={baseInputClass}\r\n          >\r\n            <option value=\"\">{field.placeholder}</option>\r\n            {(field.options || []).map(opt => (\r\n              <option key={opt} value={opt}>{opt}</option>\r\n            ))}\r\n          </select>\r\n        );\r\n      case 'number':\r\n        return (\r\n          <input\r\n            type=\"number\"\r\n            value={fieldValues[field.id] || ''}\r\n            onChange={(e) => handleFieldChange(field.id, e.target.value)}\r\n            placeholder={field.placeholder}\r\n            className={baseInputClass}\r\n            min={1}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <input\r\n            type=\"text\"\r\n            value={fieldValues[field.id] || ''}\r\n            onChange={(e) => handleFieldChange(field.id, e.target.value)}\r\n            placeholder={field.placeholder}\r\n            className={baseInputClass}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  const renderStars = (rating: number, interactive: boolean = false) => {\r\n    const stars = [];\r\n    for (let i = 1; i <= 5; i++) {\r\n      const isFilled = interactive ? i <= (hoverRating || userRating) : i <= rating;\r\n      stars.push(\r\n        <button\r\n          key={i}\r\n          type=\"button\"\r\n          disabled={!interactive}\r\n          onClick={() => interactive && setUserRating(i)}\r\n          onMouseEnter={() => interactive && setHoverRating(i)}\r\n          onMouseLeave={() => interactive && setHoverRating(0)}\r\n          className={`${interactive ? 'cursor-pointer hover:scale-110' : 'cursor-default'} transition-transform`}\r\n        >\r\n          {isFilled ? (\r\n            <IconStarFilled className=\"w-5 h-5 text-yellow-400\" />\r\n          ) : (\r\n            <IconStar className=\"w-5 h-5 text-slate-300\" />\r\n          )}\r\n        </button>\r\n      );\r\n    }\r\n    return <div className=\"flex gap-0.5\">{stars}</div>;\r\n  };\r\n\r\n  const commentsWithText = comments.filter(c => c.comment);\r\n\r\n  // Collapsed compact view for non-featured cards\r\n  if (!isExpanded && !featured) {\r\n    return (\r\n      <div\r\n        className=\"bg-white rounded-2xl border border-slate-200 hover:border-wizdi-royal/30 hover:shadow-lg transition-all duration-300 cursor-pointer\"\r\n        onClick={() => setIsExpanded(true)}\r\n      >\r\n        <div className=\"p-4\">\r\n          {/* Top row - Category and Stats */}\r\n          <div className=\"flex items-center justify-between mb-3\">\r\n            <span className=\"px-2.5 py-1 bg-slate-100 rounded-full text-xs font-medium text-slate-600\">\r\n              {prompt.category}\r\n            </span>\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"flex items-center gap-1\">\r\n                {renderStars(prompt.averageRating)}\r\n                <span className=\"text-xs text-slate-500\">({prompt.averageRating.toFixed(1)})</span>\r\n              </div>\r\n              <span className=\"text-xs text-slate-400\">{prompt.usageCount} ×©×™××•×©×™×</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Title */}\r\n          <h3 className=\"text-lg font-bold text-slate-800 mb-1\">{prompt.title}</h3>\r\n\r\n          {/* Creator */}\r\n          <div className=\"flex items-center gap-2 text-sm text-slate-500 mb-2\">\r\n            <IconUser className=\"w-4 h-4\" />\r\n            <span>{prompt.creatorName || '××¢×¨×›×ª Wizdi'}</span>\r\n            {isCreatorRecommended && (\r\n              <span className=\"flex items-center gap-1 text-wizdi-gold\">\r\n                <IconCrown className=\"w-4 h-4\" />\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          {/* Description - truncated */}\r\n          <p className=\"text-sm text-slate-500 line-clamp-2 mb-3\">{prompt.description}</p>\r\n\r\n          {/* Bottom row - Tools and Expand */}\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex gap-1.5\">\r\n              {prompt.targetTools.map(tool => (\r\n                <span\r\n                  key={tool}\r\n                  className=\"px-2 py-0.5 bg-slate-50 border border-slate-200 rounded text-xs text-slate-600\"\r\n                >\r\n                  {tool}\r\n                </span>\r\n              ))}\r\n            </div>\r\n            <button className=\"flex items-center gap-1 text-sm text-wizdi-royal font-medium hover:text-wizdi-royal/80 transition-colors\">\r\n              <span>×”×¨×—×‘</span>\r\n              <IconChevronDown className=\"w-4 h-4\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Expanded view (also used for featured cards)\r\n  return (\r\n    <div className={`\r\n      bg-white rounded-2xl border transition-all duration-300\r\n      ${featured\r\n        ? 'border-2 border-wizdi-gold shadow-md shadow-wizdi-gold/10'\r\n        : 'border-slate-200 hover:border-wizdi-royal/30 hover:shadow-lg'\r\n      }\r\n    `}>\r\n      {/* Header */}\r\n      <div className={`${featured ? 'p-3' : 'p-4'} border-b border-slate-100`}>\r\n        {/* Featured: Compact horizontal layout */}\r\n        {featured ? (\r\n          <div className=\"flex items-start gap-4\">\r\n            {/* Left side - Info */}\r\n            <div className=\"flex-1 min-w-0\">\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <span className=\"px-2 py-0.5 bg-wizdi-gold/20 text-wizdi-gold rounded-full text-xs font-medium flex items-center gap-1\">\r\n                  <IconSparkles className=\"w-3 h-3\" />\r\n                  ×¤×¨×•××¤×˜ ×”×©×‘×•×¢\r\n                </span>\r\n                <span className=\"px-2 py-0.5 bg-slate-100 rounded-full text-xs text-slate-500\">\r\n                  {prompt.category}\r\n                </span>\r\n              </div>\r\n              <h3 className=\"text-base font-bold text-slate-800 mb-0.5\">{prompt.title}</h3>\r\n              <p className=\"text-xs text-slate-500 line-clamp-1\">{prompt.description}</p>\r\n            </div>\r\n            {/* Right side - Stats */}\r\n            <div className=\"flex flex-col items-end gap-1 shrink-0\">\r\n              <div className=\"flex items-center gap-1\">\r\n                {renderStars(prompt.averageRating)}\r\n                <span className=\"text-xs text-slate-500\">({prompt.averageRating.toFixed(1)})</span>\r\n              </div>\r\n              <span className=\"text-xs text-slate-400\">{prompt.usageCount} ×©×™××•×©×™×</span>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {/* Collapse button for expanded non-featured cards */}\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <div className=\"flex items-center gap-3\">\r\n                {/* Rating */}\r\n                <div className=\"flex items-center gap-1\">\r\n                  {renderStars(prompt.averageRating)}\r\n                  <span className=\"text-sm text-slate-600 mr-1\">\r\n                    ({prompt.averageRating.toFixed(1)})\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center gap-3\">\r\n                <span className=\"text-xs text-slate-500\">{prompt.usageCount} ×©×™××•×©×™×</span>\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    setIsExpanded(false);\r\n                  }}\r\n                  className=\"flex items-center gap-1 text-sm text-slate-500 hover:text-wizdi-royal transition-colors\"\r\n                >\r\n                  <span>×¦××¦×</span>\r\n                  <IconChevronUp className=\"w-4 h-4\" />\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Category tag */}\r\n            <div className=\"flex items-center gap-2 mb-2\">\r\n              <span className=\"px-2 py-1 bg-slate-100 rounded-full text-xs text-slate-600\">\r\n                {prompt.category} &gt; {prompt.subcategory}\r\n              </span>\r\n            </div>\r\n\r\n            {/* Title */}\r\n            <h3 className=\"text-lg font-bold text-slate-800 mb-1\">{prompt.title}</h3>\r\n\r\n            {/* Creator */}\r\n            <div className=\"flex items-center gap-2 text-sm text-slate-600\">\r\n              <span>×××ª: {prompt.creatorName || '××¢×¨×›×ª Wizdi'}</span>\r\n              {isCreatorRecommended && (\r\n                <span className=\"flex items-center gap-1 text-wizdi-gold\">\r\n                  <IconCrown className=\"w-4 h-4\" />\r\n                  <span className=\"text-xs\">××•×¨×” ××•××œ×¥</span>\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            {/* Description */}\r\n            <p className=\"text-sm text-slate-500 mt-2\">{prompt.description}</p>\r\n\r\n            {/* Target tools */}\r\n            <div className=\"flex items-center gap-2 mt-3\">\r\n              <span className=\"text-xs text-slate-400\">××ª××™× ×œ:</span>\r\n              <div className=\"flex gap-1\">\r\n                {prompt.targetTools.map(tool => (\r\n                  <span\r\n                    key={tool}\r\n                    className=\"px-2 py-0.5 bg-slate-50 border border-slate-200 rounded text-xs text-slate-600\"\r\n                  >\r\n                    {tool}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Dynamic Fields */}\r\n      <div className={`${featured ? 'p-3' : 'p-4'} bg-slate-50/50`}>\r\n        <div className={`grid ${featured ? 'grid-cols-3' : 'grid-cols-2'} gap-2`}>\r\n          {prompt.fields.map(field => (\r\n            <div key={field.id} className={!featured && field.type === 'text' && !field.options ? 'col-span-2' : ''}>\r\n              <label className=\"block text-xs font-medium text-slate-600 mb-1\">\r\n                {field.label}\r\n                {field.required && <span className=\"text-red-400 mr-1\">*</span>}\r\n              </label>\r\n              {renderField(field)}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Preview */}\r\n      <div className={`${featured ? 'p-3' : 'p-4'} border-t border-slate-100`}>\r\n        <div className={`bg-slate-800 rounded-xl ${featured ? 'p-3 max-h-24' : 'p-4 max-h-40'} text-white text-sm font-mono leading-relaxed overflow-y-auto`}>\r\n          <pre className=\"whitespace-pre-wrap text-right\" dir=\"rtl\">\r\n            {getFilledPrompt()}\r\n          </pre>\r\n        </div>\r\n\r\n        {/* Tips - hidden in featured mode */}\r\n        {!featured && prompt.tips && (\r\n          <div className=\"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-100\">\r\n            <p className=\"text-xs text-blue-700\">\r\n              <strong>×˜×™×¤:</strong> {prompt.tips}\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      <div className={`${featured ? 'p-3' : 'p-4'} border-t border-slate-100 flex items-center justify-between`}>\r\n        <div className=\"flex items-center gap-2\">\r\n          {/* Copy button */}\r\n          <button\r\n            onClick={handleCopy}\r\n            className={`\r\n              flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all\r\n              ${copied\r\n                ? 'bg-green-500 text-white'\r\n                : 'bg-wizdi-lime text-slate-800 hover:bg-wizdi-lime/80'\r\n              }\r\n            `}\r\n          >\r\n            {copied ? (\r\n              <>\r\n                <IconCheck className=\"w-5 h-5\" />\r\n                <span>×”×•×¢×ª×§!</span>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <IconCopy className=\"w-5 h-5\" />\r\n                <span>×”×¢×ª×§ ×¤×¨×•××¤×˜</span>\r\n              </>\r\n            )}\r\n          </button>\r\n\r\n          {/* Rate button */}\r\n          <button\r\n            onClick={() => setShowRatingInput(!showRatingInput)}\r\n            className=\"flex items-center gap-1 px-3 py-2 text-slate-600 hover:text-wizdi-royal hover:bg-slate-100 rounded-xl transition-all\"\r\n          >\r\n            <IconStar className=\"w-5 h-5\" />\r\n            <span className=\"text-sm\">×“×¨×’×•</span>\r\n          </button>\r\n\r\n          {/* Comments toggle */}\r\n          <button\r\n            onClick={handleLoadComments}\r\n            className=\"flex items-center gap-1 px-3 py-2 text-slate-600 hover:text-wizdi-royal hover:bg-slate-100 rounded-xl transition-all\"\r\n          >\r\n            <IconMessage className=\"w-5 h-5\" />\r\n            <span className=\"text-sm\">{prompt.ratingCount} ×ª×’×•×‘×•×ª</span>\r\n            {showComments ? <IconChevronUp className=\"w-4 h-4\" /> : <IconChevronDown className=\"w-4 h-4\" />}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Rating Input */}\r\n      {showRatingInput && (\r\n        <div className=\"px-4 pb-4 border-t border-slate-100 pt-4 bg-slate-50\">\r\n          <div className=\"flex flex-col gap-3\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <span className=\"text-sm text-slate-600\">×”×“×™×¨×•×’ ×©×œ×š:</span>\r\n              {renderStars(userRating, true)}\r\n            </div>\r\n            <textarea\r\n              value={ratingComment}\r\n              onChange={(e) => setRatingComment(e.target.value)}\r\n              placeholder=\"×”×•×¡×£ ×ª×’×•×‘×” (××•×¤×¦×™×•× ×œ×™)...\"\r\n              className=\"w-full px-3 py-2 rounded-lg border border-slate-200 focus:border-wizdi-royal focus:ring-2 focus:ring-wizdi-royal/20 outline-none transition-all text-sm resize-none\"\r\n              rows={2}\r\n            />\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button\r\n                onClick={() => setShowRatingInput(false)}\r\n                className=\"px-4 py-2 text-sm text-slate-600 hover:bg-slate-200 rounded-lg transition-all\"\r\n              >\r\n                ×‘×™×˜×•×œ\r\n              </button>\r\n              <button\r\n                onClick={handleRatingSubmit}\r\n                disabled={userRating === 0 || isSubmittingRating}\r\n                className=\"px-4 py-2 text-sm bg-wizdi-royal text-white rounded-lg hover:bg-wizdi-royal/90 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                {isSubmittingRating ? '×©×•×œ×—...' : '×©×œ×— ×“×™×¨×•×’'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Comments Section */}\r\n      {showComments && (\r\n        <div className=\"px-4 pb-4 border-t border-slate-100 pt-4\">\r\n          {commentsWithText.length === 0 ? (\r\n            <p className=\"text-sm text-slate-500 text-center py-4\">\r\n              ××™×Ÿ ×ª×’×•×‘×•×ª ×¢×“×™×™×Ÿ. ×”×™×• ×”×¨××©×•× ×™× ×œ×“×¨×’ ×•×œ×”×’×™×‘!\r\n            </p>\r\n          ) : (\r\n            <div className=\"space-y-3 max-h-60 overflow-y-auto\">\r\n              {commentsWithText.map((rating) => (\r\n                <div key={rating.id} className=\"p-3 bg-slate-50 rounded-lg\">\r\n                  <div className=\"flex items-center justify-between mb-1\">\r\n                    <span className=\"text-sm font-medium text-slate-700\">{rating.userName}</span>\r\n                    <div className=\"flex items-center gap-1\">\r\n                      {[...Array(5)].map((_, i) => (\r\n                        <IconStarFilled\r\n                          key={i}\r\n                          className={`w-3 h-3 ${i < rating.rating ? 'text-yellow-400' : 'text-slate-200'}`}\r\n                        />\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                  <p className=\"text-sm text-slate-600\">{rating.comment}</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport {\r\n  IconX,\r\n  IconPlus,\r\n  IconTrash,\r\n  IconGripVertical,\r\n  IconSparkles,\r\n  IconCheck,\r\n  IconAlertCircle\r\n} from '@tabler/icons-react';\r\nimport type { PromptField } from '../services/promptsService';\r\nimport {\r\n  createPrompt,\r\n  PROMPT_CATEGORIES,\r\n  COMMON_FIELD_OPTIONS\r\n} from '../services/promptsService';\r\nimport { useAuth } from '../context/AuthContext';\r\n\r\ninterface SubmitPromptModalProps {\r\n  onClose: () => void;\r\n  onSubmit: () => void;\r\n}\r\n\r\ninterface FieldDefinition extends PromptField {\r\n  tempId: string;\r\n}\r\n\r\nexport default function SubmitPromptModal({ onClose, onSubmit }: SubmitPromptModalProps) {\r\n  const { currentUser } = useAuth();\r\n  const [step, setStep] = useState<1 | 2 | 3>(1);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // Step 1: Basic Info\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [categoryId, setCategoryId] = useState('');\r\n  const [subcategory, setSubcategory] = useState('');\r\n  const [targetTools, setTargetTools] = useState<string[]>(['ChatGPT', 'Claude', 'Gemini']);\r\n  const [tips, setTips] = useState('');\r\n\r\n  // Step 2: Prompt Template with Fields\r\n  const [promptTemplate, setPromptTemplate] = useState('');\r\n  const [fields, setFields] = useState<FieldDefinition[]>([]);\r\n\r\n  // Get selected category data\r\n  const selectedCategory = PROMPT_CATEGORIES.find(c => c.id === categoryId);\r\n\r\n  const addField = () => {\r\n    const newField: FieldDefinition = {\r\n      tempId: `field_${Date.now()}`,\r\n      id: `field_${Date.now()}`,\r\n      label: '',\r\n      placeholder: '',\r\n      type: 'text',\r\n      required: true\r\n    };\r\n    setFields([...fields, newField]);\r\n  };\r\n\r\n  const updateField = (tempId: string, updates: Partial<FieldDefinition>) => {\r\n    setFields(fields.map(f =>\r\n      f.tempId === tempId ? { ...f, ...updates } : f\r\n    ));\r\n  };\r\n\r\n  const removeField = (tempId: string) => {\r\n    setFields(fields.filter(f => f.tempId !== tempId));\r\n  };\r\n\r\n  const insertFieldPlaceholder = (fieldId: string) => {\r\n    const placeholder = `{{${fieldId}}}`;\r\n    setPromptTemplate(prev => prev + placeholder);\r\n  };\r\n\r\n  const toggleTool = (tool: string) => {\r\n    setTargetTools(prev =>\r\n      prev.includes(tool)\r\n        ? prev.filter(t => t !== tool)\r\n        : [...prev, tool]\r\n    );\r\n  };\r\n\r\n  const validateStep1 = () => {\r\n    if (!title.trim()) return '× × ×œ×”×–×™×Ÿ ×›×•×ª×¨×ª';\r\n    if (!description.trim()) return '× × ×œ×”×–×™×Ÿ ×ª×™××•×¨';\r\n    if (!categoryId) return '× × ×œ×‘×—×•×¨ ×§×˜×’×•×¨×™×”';\r\n    if (!subcategory) return '× × ×œ×‘×—×•×¨ ×ª×ª-×§×˜×’×•×¨×™×”';\r\n    if (targetTools.length === 0) return '× × ×œ×‘×—×•×¨ ×œ×¤×—×•×ª ×›×œ×™ AI ××—×“';\r\n    return null;\r\n  };\r\n\r\n  const validateStep2 = () => {\r\n    if (!promptTemplate.trim()) return '× × ×œ×”×–×™×Ÿ ××ª ×ª×‘× ×™×ª ×”×¤×¨×•××¤×˜';\r\n    if (fields.some(f => !f.label.trim())) return '× × ×œ××œ× ××ª ×›×œ ×©××•×ª ×”×©×“×•×ª';\r\n    // Check all fields are used in template\r\n    const unusedFields = fields.filter(f => !promptTemplate.includes(`{{${f.id}}}`));\r\n    if (unusedFields.length > 0) {\r\n      return `×”×©×“×•×ª ×”×‘××™× ×œ× × ××¦××™× ×‘×ª×‘× ×™×ª: ${unusedFields.map(f => f.label).join(', ')}`;\r\n    }\r\n    return null;\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (step === 1) {\r\n      const error = validateStep1();\r\n      if (error) {\r\n        setError(error);\r\n        return;\r\n      }\r\n      setError(null);\r\n      setStep(2);\r\n    } else if (step === 2) {\r\n      const error = validateStep2();\r\n      if (error) {\r\n        setError(error);\r\n        return;\r\n      }\r\n      setError(null);\r\n      setStep(3);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    if (!currentUser) {\r\n      setError('×™×© ×œ×”×ª×—×‘×¨ ×›×“×™ ×œ×”×¦×™×¢ ×¤×¨×•××¤×˜');\r\n      return;\r\n    }\r\n\r\n    setIsSubmitting(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Clean up field IDs to use label as ID\r\n      const cleanedFields: PromptField[] = fields.map(f => ({\r\n        id: f.label,\r\n        label: f.label,\r\n        placeholder: f.placeholder,\r\n        type: f.type,\r\n        options: f.options,\r\n        required: f.required\r\n      }));\r\n\r\n      // Replace temp IDs with labels in template\r\n      let cleanedTemplate = promptTemplate;\r\n      fields.forEach(f => {\r\n        cleanedTemplate = cleanedTemplate.replace(\r\n          new RegExp(`\\\\{\\\\{${f.id}\\\\}\\\\}`, 'g'),\r\n          `{{${f.label}}}`\r\n        );\r\n      });\r\n\r\n      await createPrompt({\r\n        title,\r\n        description,\r\n        category: selectedCategory?.name || '',\r\n        subcategory,\r\n        promptTemplate: cleanedTemplate,\r\n        fields: cleanedFields,\r\n        targetTools,\r\n        tips: tips || undefined,\r\n        createdBy: currentUser.uid,\r\n        creatorName: currentUser.displayName || '××•×¨×” ×× ×•× ×™××™',\r\n        isAutoGenerated: false,\r\n        status: 'active' // Goes live immediately\r\n      });\r\n\r\n      onSubmit();\r\n    } catch (err) {\r\n      console.error('Error submitting prompt:', err);\r\n      setError('×©×’×™××” ×‘×©×œ×™×—×ª ×”×¤×¨×•××¤×˜. × ×¡×” ×©×•×‘.');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const availableTools = ['ChatGPT', 'Claude', 'Gemini', 'Copilot', 'Perplexity'];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm\" dir=\"rtl\">\r\n      <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col\">\r\n        {/* Header */}\r\n        <div className=\"p-6 border-b border-slate-200 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-10 h-10 bg-wizdi-royal/10 rounded-xl flex items-center justify-center\">\r\n              <IconSparkles className=\"w-6 h-6 text-wizdi-royal\" />\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-xl font-bold text-slate-800\">×”×¦×¢×ª ×¤×¨×•××¤×˜ ×—×“×©</h2>\r\n              <p className=\"text-sm text-slate-500\">×©×œ×‘ {step} ××ª×•×š 3</p>\r\n            </div>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 hover:bg-slate-100 rounded-xl transition-all\"\r\n          >\r\n            <IconX className=\"w-6 h-6 text-slate-500\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Progress Bar */}\r\n        <div className=\"px-6 pt-4\">\r\n          <div className=\"flex gap-2\">\r\n            {[1, 2, 3].map(s => (\r\n              <div\r\n                key={s}\r\n                className={`h-2 flex-1 rounded-full transition-all ${\r\n                  s <= step ? 'bg-wizdi-royal' : 'bg-slate-200'\r\n                }`}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-y-auto p-6\">\r\n          {error && (\r\n            <div className=\"mb-4 p-4 bg-red-50 border border-red-200 rounded-xl flex items-center gap-3 text-red-700\">\r\n              <IconAlertCircle className=\"w-5 h-5 flex-shrink-0\" />\r\n              <span className=\"text-sm\">{error}</span>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 1: Basic Info */}\r\n          {step === 1 && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                  ×›×•×ª×¨×ª ×”×¤×¨×•××¤×˜ <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={title}\r\n                  onChange={(e) => setTitle(e.target.value)}\r\n                  placeholder=\"×œ×“×•×’××”: ×™×¦×™×¨×ª ××‘×—×Ÿ ×¨×‘-×‘×¨×™×¨×”\"\r\n                  className=\"w-full px-4 py-3 border border-slate-200 rounded-xl focus:border-wizdi-royal focus:ring-2 focus:ring-wizdi-royal/20 outline-none transition-all\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                  ×ª×™××•×¨ ×§×¦×¨ <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <textarea\r\n                  value={description}\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                  placeholder=\"×ª××¨ ×‘×§×¦×¨×” ×œ××” ×”×¤×¨×•××¤×˜ ××ª××™× ×•××” ×”×•× ×¢×•×©×”\"\r\n                  rows={2}\r\n                  className=\"w-full px-4 py-3 border border-slate-200 rounded-xl focus:border-wizdi-royal focus:ring-2 focus:ring-wizdi-royal/20 outline-none transition-all resize-none\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                    ×§×˜×’×•×¨×™×” <span className=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <select\r\n                    value={categoryId}\r\n                    onChange={(e) => {\r\n                      setCategoryId(e.target.value);\r\n                      setSubcategory('');\r\n                    }}\r\n                    className=\"w-full px-4 py-3 border border-slate-200 rounded-xl focus:border-wizdi-royal focus:ring-2 focus:ring-wizdi-royal/20 outline-none transition-all\"\r\n                  >\r\n                    <option value=\"\">×‘×—×¨ ×§×˜×’×•×¨×™×”</option>\r\n                    {PROMPT_CATEGORIES.map(cat => (\r\n                      <option key={cat.id} value={cat.id}>\r\n                        {cat.icon} {cat.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                    ×ª×ª-×§×˜×’×•×¨×™×” <span className=\"text-red-500\">*</span>\r\n                  </label>\r\n                  <select\r\n                    value={subcategory}\r\n                    onChange={(e) => setSubcategory(e.target.value)}\r\n                    disabled={!selectedCategory}\r\n                    className=\"w-full px-4 py-3 border border-slate-200 rounded-xl focus:border-wizdi-royal focus:ring-2 focus:ring-wizdi-royal/20 outline-none transition-all disabled:bg-slate-100 disabled:cursor-not-allowed\"\r\n                  >\r\n                    <option value=\"\">×‘×—×¨ ×ª×ª-×§×˜×’×•×¨×™×”</option>\r\n                    {selectedCategory?.subcategories.map(sub => (\r\n                      <option key={sub} value={sub}>{sub}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                  ×›×œ×™ AI ××ª××™××™× <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {availableTools.map(tool => (\r\n                    <button\r\n                      key={tool}\r\n                      type=\"button\"\r\n                      onClick={() => toggleTool(tool)}\r\n                      className={`px-4 py-2 rounded-full text-sm font-medium transition-all ${\r\n                        targetTools.includes(tool)\r\n                          ? 'bg-wizdi-royal text-white'\r\n                          : 'bg-slate-100 text-slate-600 hover:bg-slate-200'\r\n                      }`}\r\n                    >\r\n                      {tool}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-700 mb-1\">\r\n                  ×˜×™×¤ ×œ×©×™××•×© (××•×¤×¦×™×•× ×œ×™)\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={tips}\r\n                  onChange={(e) => setTips(e.target.value)}\r\n                  placeholder=\"×˜×™×¤ ×§×¦×¨ ×œ××•×¨×™× ×©×™×©×ª××©×• ×‘×¤×¨×•××¤×˜\"\r\n                  className=\"w-full px-4 py-3 border border-slate-200 rounded-xl focus:border-wizdi-royal focus:ring-2 focus:ring-wizdi-royal/20 outline-none transition-all\"\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 2: Template and Fields */}\r\n          {step === 2 && (\r\n            <div className=\"space-y-6\">\r\n              {/* Fields Definition */}\r\n              <div>\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <label className=\"text-sm font-medium text-slate-700\">\r\n                    ×©×“×•×ª ×“×™× ××™×™×\r\n                  </label>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={addField}\r\n                    className=\"flex items-center gap-1 px-3 py-1.5 text-sm bg-wizdi-royal/10 text-wizdi-royal rounded-lg hover:bg-wizdi-royal/20 transition-all\"\r\n                  >\r\n                    <IconPlus className=\"w-4 h-4\" />\r\n                    ×”×•×¡×£ ×©×“×”\r\n                  </button>\r\n                </div>\r\n\r\n                {fields.length === 0 ? (\r\n                  <div className=\"text-center py-8 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200\">\r\n                    <p className=\"text-slate-500 mb-2\">××™×Ÿ ×©×“×•×ª ×“×™× ××™×™×</p>\r\n                    <p className=\"text-xs text-slate-400\">\r\n                      ×”×•×¡×£ ×©×“×•×ª ×©×”××•×¨×” ×™××œ× ×œ×¤× ×™ ×”×¢×ª×§×ª ×”×¤×¨×•××¤×˜\r\n                    </p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    {fields.map((field, index) => (\r\n                      <div\r\n                        key={field.tempId}\r\n                        className=\"p-4 bg-slate-50 rounded-xl border border-slate-200\"\r\n                      >\r\n                        <div className=\"flex items-start gap-3\">\r\n                          <IconGripVertical className=\"w-5 h-5 text-slate-400 mt-2 cursor-grab\" />\r\n                          <div className=\"flex-1 grid grid-cols-2 gap-3\">\r\n                            <div>\r\n                              <label className=\"text-xs text-slate-500 mb-1 block\">×©× ×”×©×“×”</label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={field.label}\r\n                                onChange={(e) => updateField(field.tempId, {\r\n                                  label: e.target.value,\r\n                                  id: e.target.value.replace(/\\s+/g, '_')\r\n                                })}\r\n                                placeholder=\"×œ×“×•×’××”: ××§×¦×•×¢\"\r\n                                className=\"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm\"\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <label className=\"text-xs text-slate-500 mb-1 block\">×¡×•×’</label>\r\n                              <select\r\n                                value={field.type}\r\n                                onChange={(e) => updateField(field.tempId, {\r\n                                  type: e.target.value as 'text' | 'select' | 'number'\r\n                                })}\r\n                                className=\"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm\"\r\n                              >\r\n                                <option value=\"text\">×˜×§×¡×˜ ×—×•×¤×©×™</option>\r\n                                <option value=\"select\">×‘×—×™×¨×” ××¨×©×™××”</option>\r\n                                <option value=\"number\">××¡×¤×¨</option>\r\n                              </select>\r\n                            </div>\r\n                            <div className=\"col-span-2\">\r\n                              <label className=\"text-xs text-slate-500 mb-1 block\">×˜×§×¡×˜ ×¢×–×¨×”</label>\r\n                              <input\r\n                                type=\"text\"\r\n                                value={field.placeholder}\r\n                                onChange={(e) => updateField(field.tempId, { placeholder: e.target.value })}\r\n                                placeholder=\"×œ×“×•×’××”: ××ª××˜×™×§×”, ×¢×‘×¨×™×ª...\"\r\n                                className=\"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm\"\r\n                              />\r\n                            </div>\r\n                            {field.type === 'select' && (\r\n                              <div className=\"col-span-2\">\r\n                                <label className=\"text-xs text-slate-500 mb-1 block\">××¤×©×¨×•×™×•×ª (××•×¤×¨×“ ×‘×¤×¡×™×§×™×)</label>\r\n                                <input\r\n                                  type=\"text\"\r\n                                  value={field.options?.join(', ') || ''}\r\n                                  onChange={(e) => updateField(field.tempId, {\r\n                                    options: e.target.value.split(',').map(s => s.trim()).filter(Boolean)\r\n                                  })}\r\n                                  placeholder=\"××¤×©×¨×•×ª 1, ××¤×©×¨×•×ª 2, ××¤×©×¨×•×ª 3\"\r\n                                  className=\"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm\"\r\n                                />\r\n                                {/* Quick options */}\r\n                                <div className=\"flex flex-wrap gap-1 mt-2\">\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    onClick={() => updateField(field.tempId, { options: COMMON_FIELD_OPTIONS.subjects })}\r\n                                    className=\"px-2 py-1 text-xs bg-slate-200 rounded hover:bg-slate-300\"\r\n                                  >\r\n                                    ××§×¦×•×¢×•×ª\r\n                                  </button>\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    onClick={() => updateField(field.tempId, { options: COMMON_FIELD_OPTIONS.gradeLevels })}\r\n                                    className=\"px-2 py-1 text-xs bg-slate-200 rounded hover:bg-slate-300\"\r\n                                  >\r\n                                    ×©×›×‘×•×ª\r\n                                  </button>\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    onClick={() => updateField(field.tempId, { options: COMMON_FIELD_OPTIONS.difficultyLevels })}\r\n                                    className=\"px-2 py-1 text-xs bg-slate-200 rounded hover:bg-slate-300\"\r\n                                  >\r\n                                    ×¨××•×ª ×§×•×©×™\r\n                                  </button>\r\n                                </div>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"flex flex-col gap-2\">\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => insertFieldPlaceholder(field.id)}\r\n                              className=\"p-2 text-wizdi-royal hover:bg-wizdi-royal/10 rounded-lg transition-all\"\r\n                              title=\"×”×•×¡×£ ×œ×ª×‘× ×™×ª\"\r\n                            >\r\n                              <IconPlus className=\"w-4 h-4\" />\r\n                            </button>\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => removeField(field.tempId)}\r\n                              className=\"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-all\"\r\n                            >\r\n                              <IconTrash className=\"w-4 h-4\" />\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Template */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-slate-700 mb-2\">\r\n                  ×ª×‘× ×™×ª ×”×¤×¨×•××¤×˜ <span className=\"text-red-500\">*</span>\r\n                </label>\r\n                <p className=\"text-xs text-slate-500 mb-2\">\r\n                  ×”×©×ª××© ×‘-{`{{×©×_×©×“×”}}`} ×œ×”×•×¡×¤×ª ×©×“×•×ª ×“×™× ××™×™×. ×œ×—×¥ ×¢×œ + ×œ×™×“ ×›×œ ×©×“×” ×œ×”×•×¡×¤×” ××•×˜×•××˜×™×ª.\r\n                </p>\r\n                <textarea\r\n                  value={promptTemplate}\r\n                  onChange={(e) => setPromptTemplate(e.target.value)}\r\n                  placeholder={`×œ×“×•×’××”: ××ª×” ××•×¨×” ×œ{{××§×¦×•×¢}} ×‘×›×™×ª×” {{×©×›×‘×”}}. ×”×›×Ÿ ×œ×™ {{×¡×•×’_×¤×¢×™×œ×•×ª}} ×‘× ×•×©× {{× ×•×©×}}.`}\r\n                  rows={8}\r\n                  className=\"w-full px-4 py-3 border border-slate-200 rounded-xl focus:border-wizdi-royal focus:ring-2 focus:ring-wizdi-royal/20 outline-none transition-all resize-none font-mono text-sm\"\r\n                  dir=\"rtl\"\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Step 3: Preview */}\r\n          {step === 3 && (\r\n            <div className=\"space-y-6\">\r\n              <div className=\"text-center mb-6\">\r\n                <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                  <IconCheck className=\"w-8 h-8 text-green-600\" />\r\n                </div>\r\n                <h3 className=\"text-xl font-bold text-slate-800\">×”×¤×¨×•××¤×˜ ××•×›×Ÿ!</h3>\r\n                <p className=\"text-slate-500\">×‘×“×•×§ ××ª ×”×ª×¦×•×’×” ×”××§×“×™××” ×œ×¤× ×™ ×”×©×œ×™×—×”</p>\r\n              </div>\r\n\r\n              <div className=\"bg-slate-50 rounded-xl p-4 border border-slate-200\">\r\n                <h4 className=\"font-bold text-slate-800 mb-2\">{title}</h4>\r\n                <p className=\"text-sm text-slate-600 mb-3\">{description}</p>\r\n                <div className=\"flex items-center gap-2 text-xs text-slate-500 mb-3\">\r\n                  <span className=\"px-2 py-1 bg-white rounded-full\">\r\n                    {selectedCategory?.icon} {selectedCategory?.name}\r\n                  </span>\r\n                  <span className=\"px-2 py-1 bg-white rounded-full\">{subcategory}</span>\r\n                </div>\r\n                <div className=\"bg-slate-800 rounded-lg p-4 text-white text-sm font-mono\">\r\n                  <pre className=\"whitespace-pre-wrap\" dir=\"rtl\">{promptTemplate}</pre>\r\n                </div>\r\n                {fields.length > 0 && (\r\n                  <div className=\"mt-3\">\r\n                    <p className=\"text-xs text-slate-500 mb-2\">×©×“×•×ª:</p>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      {fields.map(f => (\r\n                        <span key={f.tempId} className=\"px-2 py-1 bg-wizdi-royal/10 text-wizdi-royal text-xs rounded\">\r\n                          {f.label} ({f.type === 'text' ? '×˜×§×¡×˜' : f.type === 'select' ? '×‘×—×™×¨×”' : '××¡×¤×¨'})\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"p-4 bg-blue-50 rounded-xl border border-blue-100\">\r\n                <p className=\"text-sm text-blue-700\">\r\n                  <strong>×©×™× ×œ×‘:</strong> ×”×¤×¨×•××¤×˜ ×™×¢×œ×” ××™×“ ×œ××•×•×™×¨ ×¢× ×”×©× ×©×œ×š.\r\n                  ××•×¨×™× ××—×¨×™× ×™×•×›×œ×• ×œ×“×¨×’ ××•×ª×• ×•×œ×”×©×ª××© ×‘×•.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"p-6 border-t border-slate-200 flex items-center justify-between\">\r\n          <button\r\n            onClick={step === 1 ? onClose : () => setStep((step - 1) as 1 | 2)}\r\n            className=\"px-6 py-3 text-slate-600 hover:bg-slate-100 rounded-xl transition-all\"\r\n          >\r\n            {step === 1 ? '×‘×™×˜×•×œ' : '×”×§×•×“×'}\r\n          </button>\r\n\r\n          {step < 3 ? (\r\n            <button\r\n              onClick={handleNext}\r\n              className=\"px-6 py-3 bg-wizdi-royal text-white rounded-xl hover:bg-wizdi-royal/90 transition-all font-medium\"\r\n            >\r\n              ×”×‘×\r\n            </button>\r\n          ) : (\r\n            <button\r\n              onClick={handleSubmit}\r\n              disabled={isSubmitting}\r\n              className=\"px-6 py-3 bg-wizdi-lime text-slate-800 rounded-xl hover:bg-wizdi-lime/90 transition-all font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\r\n            >\r\n              {isSubmitting ? (\r\n                <>\r\n                  <div className=\"w-5 h-5 border-2 border-slate-800/30 border-t-slate-800 rounded-full animate-spin\" />\r\n                  ×©×•×œ×—...\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <IconCheck className=\"w-5 h-5\" />\r\n                  ×©×œ×— ×¤×¨×•××¤×˜\r\n                </>\r\n              )}\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * New Prompts to Add to the Library\r\n * Based on Morai MindCET prompts\r\n *\r\n * To add these prompts, run: addNewPromptsToLibrary() from browser console\r\n * or import and call from a component.\r\n */\r\n\r\nimport { bulkCreatePrompts } from '../services/promptsService';\r\nimport type { Prompt } from '../services/promptsService';\r\n\r\ntype NewPrompt = Omit<Prompt, 'id' | 'createdAt' | 'usageCount' | 'averageRating' | 'ratingCount'>;\r\n\r\nexport const NEW_PROMPTS: NewPrompt[] = [\r\n  // ===== ×ª×›× ×•×Ÿ ×•×ª×›× ×™×•×ª ×¢×‘×•×“×” =====\r\n  {\r\n    title: '×‘× ×™×™×ª ×ª×›× ×™×ª ×¢×‘×•×“×” ×›×™×ª×ª×™×ª',\r\n    description: '×™×¦×™×¨×ª ×ª×›× ×™×ª ×©× ×ª×™×ª ××• ×—×•×“×©×™×ª ×××•×¨×’× ×ª ×œ×›×™×ª×” ×‘×©× ×™×•×ª - ×¢×•×©×™× ×¡×“×¨ ×‘×‘×œ××’×Ÿ',\r\n    category: '×ª×›× ×•×Ÿ ×•×ª×›× ×™×•×ª ×¢×‘×•×“×”',\r\n    subcategory: '×ª×›× ×™×ª ×¢×‘×•×“×” ×›×™×ª×ª×™×ª',\r\n    promptTemplate: `×× ×™ ××•×¨×” ×œ{{××§×¦×•×¢}} ×‘×›×™×ª×” {{×©×›×‘×”}}.\r\n×× ×™ ×¦×¨×™×š/×” ×œ×‘× ×•×ª ×ª×›× ×™×ª ×¢×‘×•×“×” {{×¡×•×’_×ª×›× ×™×ª}} ×œ×›×™×ª×” ×©×œ×™.\r\n\r\n×¤×¨×˜×™ ×”×›×™×ª×”:\r\n- ××¡×¤×¨ ×ª×œ××™×“×™×: {{××¡×¤×¨_×ª×œ××™×“×™×}}\r\n- ×××¤×™×™× ×™× ××™×•×—×“×™×: {{×××¤×™×™× ×™×}}\r\n\r\n× ×•×©××™× ×¢×™×§×¨×™×™× ×œ×ª×›× ×•×Ÿ:\r\n{{× ×•×©××™×}}\r\n\r\n×‘×‘×§×©×” ×¦×•×¨ ×œ×™ ×ª×›× ×™×ª ×¢×‘×•×“×” ××¡×•×“×¨×ª ×”×›×•×œ×œ×ª:\r\n1. ×¤×¨×™×¡×ª ×”× ×•×©××™× ×œ××•×¨×š ×”×ª×§×•×¤×”\r\n2. ×™×¢×“×™× ×œ×›×œ ×ª×§×•×¤×”\r\n3. ××‘× ×™ ×“×¨×š ×•×”×¢×¨×›×•×ª\r\n4. ×¤×¢×™×œ×•×™×•×ª ××¨×›×–×™×•×ª ××•××œ×¦×•×ª\r\n5. ×–×× ×™× ××•×¢×¨×›×™× ×œ×›×œ × ×•×©×\r\n\r\n×”×ª×›× ×™×ª ×¦×¨×™×›×” ×œ×”×™×•×ª ×¨×™××œ×™×¡×˜×™×ª ×•×’××™×©×”.`,\r\n    fields: [\r\n      { id: '××§×¦×•×¢', label: '××§×¦×•×¢', placeholder: '××ª××˜×™×§×”, ×¢×‘×¨×™×ª...', type: 'select', options: ['××ª××˜×™×§×”', '×¢×‘×¨×™×ª', '×× ×’×œ×™×ª', '××“×¢×™×', '×”×™×¡×˜×•×¨×™×”', '×’××•×’×¨×¤×™×”', '××–×¨×—×•×ª', '×ª× \"×š', '×¡×¤×¨×•×ª', '××—×¨'], required: true },\r\n      { id: '×©×›×‘×”', label: '×©×›×‘×”', placeholder: '×“×³', type: 'select', options: ['××³', '×‘×³', '×’×³', '×“×³', '×”×³', '×•×³', '×–×³', '×—×³', '×˜×³', '×™×³', '×™×´×', '×™×´×‘'], required: true },\r\n      { id: '×¡×•×’_×ª×›× ×™×ª', label: '×¡×•×’ ×ª×›× ×™×ª', placeholder: '×©× ×ª×™×ª/×—×•×“×©×™×ª', type: 'select', options: ['×©× ×ª×™×ª', '×¡××¡×˜×¨×™××œ×™×ª', '×—×•×“×©×™×ª', '×¨×‘×¢×•× ×™×ª'], required: true },\r\n      { id: '××¡×¤×¨_×ª×œ××™×“×™×', label: '××¡×¤×¨ ×ª×œ××™×“×™×', placeholder: '30', type: 'number', required: false },\r\n      { id: '×××¤×™×™× ×™×', label: '×××¤×™×™× ×™ ×”×›×™×ª×”', placeholder: '×›×™×ª×” ×”×˜×¨×•×’× ×™×ª, ×ª×œ××™×“×™ ×©×™×œ×•×‘...', type: 'text', required: false },\r\n      { id: '× ×•×©××™×', label: '× ×•×©××™× ×¢×™×§×¨×™×™×', placeholder: '×©×‘×¨×™×, ××—×•×–×™×, ×’××•××˜×¨×™×”...', type: 'text', required: true }\r\n    ],\r\n    targetTools: ['ChatGPT', 'Claude', 'Gemini'],\r\n    tips: '×›×›×œ ×©×ª×¤×¨×˜×• ×™×•×ª×¨ ×¢×œ ×××¤×™×™× ×™ ×”×›×™×ª×”, ×”×ª×›× ×™×ª ×ª×”×™×” ××•×ª×××ª ×™×•×ª×¨ ×œ×¦×¨×›×™× ×©×œ×›×',\r\n    createdBy: null,\r\n    creatorName: '××¢×¨×›×ª',\r\n    isAutoGenerated: true,\r\n    status: 'active'\r\n  },\r\n  {\r\n    title: '×›×ª×™×‘×ª ×ª×›× ×™×ª ×œ×™××•×“×™×ª ××™×©×™×ª (×ª×œ\"×)',\r\n    description: '×‘× ×™×™×ª ××¡×œ×•×œ ×œ××™×“×” ××•×ª×× ××™×©×™×ª ×œ×¦×¨×›×™× ×•×œ×—×•×–×§×•×ª ×©×œ ×›×œ ×ª×œ××™×“ ×•×ª×œ××™×“×”',\r\n    category: '×ª×›× ×•×Ÿ ×•×ª×›× ×™×•×ª ×¢×‘×•×“×”',\r\n    subcategory: '×ª×›× ×™×ª ×œ×™××•×“×™×ª ××™×©×™×ª',\r\n    promptTemplate: `×× ×™ ××•×¨×” ×œ{{××§×¦×•×¢}} ×•×¦×¨×™×š/×” ×œ×‘× ×•×ª ×ª×›× ×™×ª ×œ×™××•×“×™×ª ××™×©×™×ª (×ª×œ\"×) ×¢×‘×•×¨ ×ª×œ××™×“/×”.\r\n\r\n×¤×¨×˜×™ ×”×ª×œ××™×“/×”:\r\n- ×©×›×‘×ª ×’×™×œ: {{×©×›×‘×”}}\r\n- ×—×•×–×§×•×ª: {{×—×•×–×§×•×ª}}\r\n- ×ª×—×•××™× ×”×“×•×¨×©×™× ×—×™×–×•×§: {{×ª×—×•××™×_×œ×—×™×–×•×§}}\r\n- ×¡×’× ×•×Ÿ ×œ××™×“×” ××•×¢×“×£: {{×¡×’× ×•×Ÿ_×œ××™×“×”}}\r\n- ×”×ª×××•×ª ×§×™×™××•×ª: {{×”×ª×××•×ª}}\r\n\r\n×™×¢×“×™× ×œ×ª×§×•×¤×”:\r\n{{×™×¢×“×™×}}\r\n\r\n×× × ×‘× ×”/×™ ×ª×›× ×™×ª ×œ×™××•×“×™×ª ××™×©×™×ª ×”×›×•×œ×œ×ª:\r\n1. ×™×¢×“×™× ××“×™×“×™× ×œ×˜×•×•×— ×§×¦×¨ ×•××¨×•×š\r\n2. ××¡×˜×¨×˜×’×™×•×ª ×”×•×¨××” ××•×ª×××•×ª\r\n3. ×¤×¢×™×œ×•×™×•×ª ×•×”×ª×××•×ª ×¡×¤×¦×™×¤×™×•×ª\r\n4. ×“×¨×›×™ ×”×¢×¨×›×” ××•×ª×××•×ª\r\n5. × ×§×•×“×•×ª ××¢×§×‘ ×•×”×ª×§×“××•×ª\r\n6. ×“×¨×›×™× ×œ×©×™×ª×•×£ ×”×”×•×¨×™×`,\r\n    fields: [\r\n      { id: '××§×¦×•×¢', label: '××§×¦×•×¢', placeholder: '××ª××˜×™×§×”', type: 'select', options: ['××ª××˜×™×§×”', '×¢×‘×¨×™×ª', '×× ×’×œ×™×ª', '××“×¢×™×', '×”×™×¡×˜×•×¨×™×”', '×’××•×’×¨×¤×™×”', '××–×¨×—×•×ª', '×ª× \"×š', '×¡×¤×¨×•×ª', '×›×œ×œ×™'], required: true },\r\n      { id: '×©×›×‘×”', label: '×©×›×‘×”', placeholder: '×”×³', type: 'select', options: ['××³', '×‘×³', '×’×³', '×“×³', '×”×³', '×•×³', '×–×³', '×—×³', '×˜×³', '×™×³', '×™×´×', '×™×´×‘'], required: true },\r\n      { id: '×—×•×–×§×•×ª', label: '×—×•×–×§×•×ª ×”×ª×œ××™×“', placeholder: '×–×™×›×¨×•×Ÿ ×—×–×•×ª×™ ×˜×•×‘, ×™×¦×™×¨×ª×™×•×ª...', type: 'text', required: true },\r\n      { id: '×ª×—×•××™×_×œ×—×™×–×•×§', label: '×ª×—×•××™× ×œ×—×™×–×•×§', placeholder: '×§×¨×™××”, ×¨×™×›×•×–...', type: 'text', required: true },\r\n      { id: '×¡×’× ×•×Ÿ_×œ××™×“×”', label: '×¡×’× ×•×Ÿ ×œ××™×“×”', placeholder: '×—×–×•×ª×™, ×©××™×¢×ª×™...', type: 'select', options: ['×—×–×•×ª×™', '×©××™×¢×ª×™', '×ª× ×•×¢×ª×™', '××©×•×œ×‘'], required: false },\r\n      { id: '×”×ª×××•×ª', label: '×”×ª×××•×ª ×§×™×™××•×ª', placeholder: '×”××¨×›×ª ×–××Ÿ, ×”×§×¨××”...', type: 'text', required: false },\r\n      { id: '×™×¢×“×™×', label: '×™×¢×“×™× ×œ×ª×§×•×¤×”', placeholder: '×©×™×¤×•×¨ ×‘×§×¨×™××”, ×”×’×‘×¨×ª ××•×˜×™×‘×¦×™×”...', type: 'text', required: true }\r\n    ],\r\n    targetTools: ['ChatGPT', 'Claude', 'Gemini'],\r\n    tips: '×”×ª×›× ×™×ª ×”×–×• ××™×•×¢×“×ª ×œ×ª×œ××™×“×™× ×”×–×§×•×§×™× ×œ×”×ª×××•×ª ××™×•×—×“×•×ª. ×”×©×ª××©×• ×‘×” ×‘×©×™×ª×•×£ ×™×•×¢×¥/×ª ×•×¤×¡×™×›×•×œ×•×’/×™×ª ×‘×™×ª ×”×¡×¤×¨ ×©×œ×›×',\r\n    createdBy: null,\r\n    creatorName: '××¢×¨×›×ª',\r\n    isAutoGenerated: true,\r\n    status: 'active'\r\n  },\r\n\r\n  // ===== ×™×¦×™×¨×ª ××‘×—× ×™× =====\r\n  {\r\n    title: '××—×•×œ×œ ×©××œ×•×ª ×œ×‘×—×™× ×”',\r\n    description: '× ×ª×§×¢×ª× ×‘×œ×™ ×¨×¢×™×•× ×•×ª? ××—×•×œ×œ ×©××œ×•×ª ×‘×›×œ × ×•×©× ×©×ª×‘×—×¨×• ×œ×‘×—× ×™× ×•××‘×—× ×™×',\r\n    category: '×™×¦×™×¨×ª ××‘×—× ×™×',\r\n    subcategory: '××‘×—×Ÿ ×¤×ª×•×—',\r\n    promptTemplate: `×× ×™ ××•×¨×” ×œ{{××§×¦×•×¢}} ×‘×›×™×ª×” {{×©×›×‘×”}} ×•×¦×¨×™×š/×” ×¨×¢×™×•× ×•×ª ×œ×©××œ×•×ª ×‘×—×™× ×”.\r\n\r\n× ×•×©× ×”×‘×—×™× ×”: {{× ×•×©×}}\r\n\r\n×¤×¨×˜×™× × ×•×¡×¤×™× ×¢×œ ×”×—×•××¨ ×”× ×œ××“:\r\n{{×¤×¨×˜×™×}}\r\n\r\n×× × ×¦×•×¨ {{××¡×¤×¨_×©××œ×•×ª}} ×©××œ×•×ª ××’×•×•× ×•×ª ×”×›×•×œ×œ×•×ª:\r\n1. ×©××œ×•×ª ×™×“×¢ ×•×”×‘× ×” ×‘×¡×™×¡×™×•×ª\r\n2. ×©××œ×•×ª ×™×™×©×•×\r\n3. ×©××œ×•×ª ×—×©×™×‘×” ××¡×“×¨ ×’×‘×•×” (× ×™×ª×•×—, ×”×¢×¨×›×”, ×™×¦×™×¨×”)\r\n\r\n×œ×›×œ ×©××œ×” ×¦×™×™×Ÿ:\r\n- ×¨××ª ×§×•×©×™ (×§×œ/×‘×™× ×•× ×™/×××ª×’×¨)\r\n- × ×™×§×•×“ ××•××œ×¥\r\n- ×ª×©×•×‘×” ×œ×“×•×’××” ××• ×›×™×•×•× ×™ ×ª×©×•×‘×”`,\r\n    fields: [\r\n      { id: '××§×¦×•×¢', label: '××§×¦×•×¢', placeholder: '××ª××˜×™×§×”', type: 'select', options: ['××ª××˜×™×§×”', '×¢×‘×¨×™×ª', '×× ×’×œ×™×ª', '××“×¢×™×', '×”×™×¡×˜×•×¨×™×”', '×’××•×’×¨×¤×™×”', '××–×¨×—×•×ª', '×ª× \"×š', '×¡×¤×¨×•×ª', '××—×¨'], required: true },\r\n      { id: '×©×›×‘×”', label: '×©×›×‘×”', placeholder: '×•×³', type: 'select', options: ['××³', '×‘×³', '×’×³', '×“×³', '×”×³', '×•×³', '×–×³', '×—×³', '×˜×³', '×™×³', '×™×´×', '×™×´×‘'], required: true },\r\n      { id: '× ×•×©×', label: '× ×•×©× ×”×‘×—×™× ×”', placeholder: '××œ×—××ª ×”×¢×¦×××•×ª', type: 'text', required: true },\r\n      { id: '×¤×¨×˜×™×', label: '×¤×¨×˜×™× ×¢×œ ×”×—×•××¨', placeholder: '×œ××“× ×• ×¢×œ ×”×¨×§×¢, ×”×›×¨×–×ª ×”×¢×¦×××•×ª, ×”××œ×—××”...', type: 'text', required: false },\r\n      { id: '××¡×¤×¨_×©××œ×•×ª', label: '××¡×¤×¨ ×©××œ×•×ª', placeholder: '10', type: 'select', options: ['5', '10', '15', '20'], required: true }\r\n    ],\r\n    targetTools: ['ChatGPT', 'Claude', 'Gemini'],\r\n    tips: '×¤×¨×˜×• ×›××” ×©×™×•×ª×¨ ×¢×œ ×”×—×•××¨ ×©× ×œ××“ ×›×“×™ ×œ×§×‘×œ ×©××œ×•×ª ×¨×œ×•×•× ×˜×™×•×ª ×™×•×ª×¨ ×œ×¦×¨×›×™× ×©×œ×›×',\r\n    createdBy: null,\r\n    creatorName: '××¢×¨×›×ª',\r\n    isAutoGenerated: true,\r\n    status: 'active'\r\n  },\r\n\r\n  // ===== ×”×›× ×ª ×©×™×¢×•×¨×™× =====\r\n  {\r\n    title: '×›×¨×˜×™×¡ ×›× ×™×¡×” ×œ×©×™×¢×•×¨',\r\n    description: '×¤×ª×™×—×” ×§×¦×¨×” ×•××¢×•×¨×¨×ª ×—×©×™×‘×” ×œ×”×ª×—×œ×ª ×”×©×™×¢×•×¨ ×‘×× ×¨×’×™×” ×’×‘×•×”×” - \"×›×¨×˜×™×¡ ×›× ×™×¡×”\" ×œ×¤×¢×™×œ×•×ª',\r\n    category: '×”×›× ×ª ×©×™×¢×•×¨×™×',\r\n    subcategory: '×¤×ª×™×—×ª ×©×™×¢×•×¨ ××¢× ×™×™× ×ª',\r\n    promptTemplate: `×× ×™ ××•×¨×” ×œ{{××§×¦×•×¢}} ×‘×›×™×ª×” {{×©×›×‘×”}}.\r\n×”×™×•× ×× ×™ ××œ××“/×ª ×¢×œ: {{× ×•×©×}}\r\n\r\n×× ×™ ×¨×•×¦×” ×œ×™×¦×•×¨ \"×›×¨×˜×™×¡ ×›× ×™×¡×”\" - ×¤×¢×™×œ×•×ª ×§×¦×¨×” (3-5 ×“×§×•×ª) ×©×ª×¤×ª×— ××ª ×”×©×™×¢×•×¨ ×‘×× ×¨×’×™×” ×’×‘×•×”×” ×•×ª×¢×•×¨×¨ ×—×©×™×‘×”.\r\n\r\n×¡×•×’ ×”×¤×ª×™×—×” ×”××•×¢×“×£: {{×¡×•×’_×¤×ª×™×—×”}}\r\n\r\n×× × ×¦×•×¨ ×›×¨×˜×™×¡ ×›× ×™×¡×” ×©×›×•×œ×œ:\r\n1. ×©××œ×”/×—×™×“×”/××ª×’×¨ ××¢×•×¨×¨ ×¡×§×¨× ×•×ª\r\n2. ×”×•×¨××•×ª ×‘×¨×•×¨×•×ª ×œ×ª×œ××™×“×™×\r\n3. ×§×™×©×•×¨ ×œ× ×•×©× ×”×©×™×¢×•×¨\r\n4. ××¤×©×¨×•×ª ×œ×¢×‘×•×“×” {{×¦×•×¨×ª_×¢×‘×•×“×”}}`,\r\n    fields: [\r\n      { id: '××§×¦×•×¢', label: '××§×¦×•×¢', placeholder: '××“×¢×™×', type: 'select', options: ['××ª××˜×™×§×”', '×¢×‘×¨×™×ª', '×× ×’×œ×™×ª', '××“×¢×™×', '×”×™×¡×˜×•×¨×™×”', '×’××•×’×¨×¤×™×”', '××–×¨×—×•×ª', '×ª× \"×š', '×¡×¤×¨×•×ª', '××—×¨'], required: true },\r\n      { id: '×©×›×‘×”', label: '×©×›×‘×”', placeholder: '×“×³', type: 'select', options: ['××³', '×‘×³', '×’×³', '×“×³', '×”×³', '×•×³', '×–×³', '×—×³', '×˜×³', '×™×³', '×™×´×', '×™×´×‘'], required: true },\r\n      { id: '× ×•×©×', label: '× ×•×©× ×”×©×™×¢×•×¨', placeholder: '××—×–×•×¨ ×”××™×', type: 'text', required: true },\r\n      { id: '×¡×•×’_×¤×ª×™×—×”', label: '×¡×•×’ ×¤×ª×™×—×”', placeholder: '×—×™×“×”', type: 'select', options: ['×—×™×“×”', '×©××œ×” ××¤×ª×™×¢×”', '×ª××•× ×” ×œ× ×™×ª×•×—', '×¡×™×¤×•×¨ ×§×¦×¨', '× ×™×¡×•×™ ××”×™×¨', '××©×—×§ ××™×œ×™×', '×¡×¨×˜×•×Ÿ ×§×¦×¨'], required: true },\r\n      { id: '×¦×•×¨×ª_×¢×‘×•×“×”', label: '×¦×•×¨×ª ×¢×‘×•×“×”', placeholder: '×–×•×’×•×ª', type: 'select', options: ['××™×©×™×ª', '×–×•×’×•×ª', '×§×‘×•×¦×•×ª ×§×˜× ×•×ª', '×›×™×ª×ª×™×ª'], required: true }\r\n    ],\r\n    targetTools: ['ChatGPT', 'Claude', 'Gemini'],\r\n    tips: '×›×¨×˜×™×¡ ×›× ×™×¡×” ×˜×•×‘ ××¢×•×¨×¨ ×¡×§×¨× ×•×ª ×•××—×‘×¨ ××ª ×”×ª×œ××™×“×™× ×œ× ×•×©× ×¢×•×“ ×œ×¤× ×™ ×©×”×ª×—×œ×ª× ×œ×œ××“. × ×¡×• ×œ×’×•×•×Ÿ ×‘×™×Ÿ ×¡×•×’×™× ×©×•× ×™×',\r\n    createdBy: null,\r\n    creatorName: '××¢×¨×›×ª',\r\n    isAutoGenerated: true,\r\n    status: 'active'\r\n  },\r\n\r\n  // ===== ×ª×§×©×•×¨×ª ××™×©×™×ª =====\r\n  {\r\n    title: '××× ×™ ××œ×™×š - ××›×ª×‘ ××™×©×™ ×œ×ª×œ××™×“',\r\n    description: '× ×™×¡×•×— ××›×ª×‘ ××™×©×™, ××¢×¦×™× ×•××¨×’×© ×œ×ª×œ××™×“/×” - ×œ×¨×’×¢×™× ××™×•×—×“×™×',\r\n    category: '×ª×§×©×•×¨×ª ××™×©×™×ª',\r\n    subcategory: '××›×ª×‘ ××™×©×™ ×œ×ª×œ××™×“',\r\n    promptTemplate: `×× ×™ ××•×¨×” ×•×¨×•×¦×” ×œ×›×ª×•×‘ ××›×ª×‘ ××™×©×™ ×•××¢×¦×™× ×œ×ª×œ××™×“/×”.\r\n\r\n×¤×¨×˜×™× ×¢×œ ×”×ª×œ××™×“/×”:\r\n- ×©× (××• ×›×™× ×•×™): {{×©×}}\r\n- ×©×›×‘×”: {{×©×›×‘×”}}\r\n- ×—×•×–×§×•×ª ×©×–×™×”×™×ª×™: {{×—×•×–×§×•×ª}}\r\n- ×”×ª×§×“××•×ª/×”×™×©×’ ××—×¨×•×Ÿ: {{×”×™×©×’}}\r\n\r\n×¡×™×‘×ª ×”××›×ª×‘: {{×¡×™×‘×”}}\r\n\r\n×˜×•×Ÿ ×”××›×ª×‘: {{×˜×•×Ÿ}}\r\n\r\n×× × ×›×ª×•×‘ ××›×ª×‘ ××™×©×™ ×©×™×›×œ×•×œ:\r\n1. ×¤×ª×™×—×” ×—××” ×•××™×©×™×ª\r\n2. ×¦×™×•×Ÿ ×¡×¤×¦×™×¤×™ ×©×œ ××” ×©×¨××™×ª×™ ×•××¢×¨×™×š/×”\r\n3. ×¢×™×“×•×“ ×œ×”××©×š ×”×“×¨×š\r\n4. ×¡×™×•× ××¢×¦×™×\r\n\r\n×”××›×ª×‘ ×¦×¨×™×š ×œ×”×™×•×ª {{××•×¨×š}} ×•×œ×”×¨×’×™×© ××•×ª× ×˜×™ ×•××™×©×™.`,\r\n    fields: [\r\n      { id: '×©×', label: '×©×/×›×™× ×•×™ ×”×ª×œ××™×“', placeholder: '×“× ×”', type: 'text', required: true },\r\n      { id: '×©×›×‘×”', label: '×©×›×‘×”', placeholder: '×”×³', type: 'select', options: ['××³', '×‘×³', '×’×³', '×“×³', '×”×³', '×•×³', '×–×³', '×—×³', '×˜×³', '×™×³', '×™×´×', '×™×´×‘'], required: true },\r\n      { id: '×—×•×–×§×•×ª', label: '×—×•×–×§×•×ª ×©×–×™×”×™×ª×™', placeholder: '×”×ª××“×”, ×¢×–×¨×” ×œ×—×‘×¨×™×...', type: 'text', required: true },\r\n      { id: '×”×™×©×’', label: '×”×ª×§×“××•×ª/×”×™×©×’', placeholder: '×©×™×¤×•×¨ ××©××¢×•×ª×™ ×‘××‘×—×Ÿ ×”××—×¨×•×Ÿ', type: 'text', required: false },\r\n      { id: '×¡×™×‘×”', label: '×¡×™×‘×ª ×”××›×ª×‘', placeholder: '×¡×•×£ ×©× ×”, ×™×•× ×”×•×œ×“×ª, ×”×™×©×’ ××™×•×—×“...', type: 'select', options: ['×¡×•×£ ×©× ×”', '×™×•× ×”×•×œ×“×ª', '×”×™×©×’ ××™×•×—×“', '×¢×™×“×•×“ ×‘×ª×§×•×¤×” ×§×©×”', '×¤×¨×™×“×”', '××—×¨'], required: true },\r\n      { id: '×˜×•×Ÿ', label: '×˜×•×Ÿ ×”××›×ª×‘', placeholder: '×—× ×•××¢×•×“×“', type: 'select', options: ['×—× ×•××¢×•×“×“', '×¨×©××™ ×™×•×ª×¨', '×”×•××•×¨×™×¡×˜×™', '×¨×’×©×™'], required: true },\r\n      { id: '××•×¨×š', label: '××•×¨×š ×”××›×ª×‘', placeholder: '×‘×™× ×•× ×™', type: 'select', options: ['×§×¦×¨ (×¤×¡×§×”)', '×‘×™× ×•× ×™ (2-3 ×¤×¡×§××•×ª)', '××¨×•×š (×¢××•×“)'], required: true }\r\n    ],\r\n    targetTools: ['ChatGPT', 'Claude', 'Gemini'],\r\n    tips: '×›×›×œ ×©×ª×¤×¨×˜×• ×™×•×ª×¨ ×¢×œ ×”×ª×œ××™×“, ×”××›×ª×‘ ×™×”×™×” ××™×©×™ ×•××•×ª× ×˜×™ ×™×•×ª×¨. ××•××œ×¥ ×œ×¢×¨×•×š ×•×œ×”×•×¡×™×£ × ×’×™×¢×•×ª ××™×©×™×•×ª ××©×œ×›× ×œ×¤× ×™ ×”×©×œ×™×—×”',\r\n    createdBy: null,\r\n    creatorName: '××¢×¨×›×ª',\r\n    isAutoGenerated: true,\r\n    status: 'active'\r\n  },\r\n\r\n  // ===== ×œ××™×“×” ×—×‘×¨×ª×™×ª-×¨×’×©×™×ª (SEL) =====\r\n  {\r\n    title: '××¢×¨×š ×©×™×¢×•×¨ ×—×‘×¨×ª×™ SEL',\r\n    description: '××¢×¨×š ×©×™×¢×•×¨ ×œ×¤×™×ª×•×— ×›×™×©×•×¨×™× ×—×‘×¨×ª×™×™×-×¨×’×©×™×™× ×¢×œ ×¤×™ ××•×“×œ CASEL',\r\n    category: '×œ××™×“×” ×—×‘×¨×ª×™×ª-×¨×’×©×™×ª (SEL)',\r\n    subcategory: '××¢×¨×š ×©×™×¢×•×¨ ×—×‘×¨×ª×™',\r\n    promptTemplate: `×× ×™ ××•×¨×”/×ª ×‘×›×™×ª×” {{×©×›×‘×”}} ×•×¨×•×¦×” ×œ×§×™×™× ×©×™×¢×•×¨ ×—×‘×¨×ª×™-×¨×’×©×™ (SEL).\r\n\r\n×ª×—×•× ×”-SEL ×©×× ×™ ×¨×•×¦×” ×œ×”×ª××§×“ ×‘×•: {{×ª×—×•×_sel}}\r\n\r\n× ×•×©× ×¡×¤×¦×™×¤×™: {{× ×•×©×}}\r\n\r\n××©×š ×”×©×™×¢×•×¨: {{××©×š}}\r\n\r\n×× × ×‘× ×”/×™ ××¢×¨×š ×©×™×¢×•×¨ ×”×›×•×œ×œ:\r\n1. ×¤×ª×™×—×” - ×¤×¢×™×œ×•×ª ×—×™××•× ×¨×’×©×™ (5 ×“×§×•×ª)\r\n2. ×”×¦×’×ª ×”× ×•×©× - ×“×¨×š ×¡×™×¤×•×¨/×¡×¨×˜×•×Ÿ/××§×¨×” ×œ×“×™×•×Ÿ\r\n3. ×¤×¢×™×œ×•×ª ××¨×›×–×™×ª - ×”×ª× ×¡×•×ª ××¢×©×™×ª\r\n4. ×“×™×•×Ÿ ×›×™×ª×ª×™ ××•× ×—×” ×¢× ×©××œ×•×ª ×× ×—×•×ª\r\n5. ×¡×™×›×•× ×•×ª×¨×’×•×œ ××™×©×™/×§×‘×•×¦×ª×™\r\n6. ××©×™××ª ×”××©×š (××•×¤×¦×™×•× ×œ×™)\r\n\r\n×”×ª××/×™ ×œ×’×™×œ ×•×œ×¢×•×œ× ×”×ª×•×›×Ÿ ×©×œ ×”×ª×œ××™×“×™×.`,\r\n    fields: [\r\n      { id: '×©×›×‘×”', label: '×©×›×‘×”', placeholder: '×“×³', type: 'select', options: ['××³', '×‘×³', '×’×³', '×“×³', '×”×³', '×•×³', '×–×³', '×—×³', '×˜×³', '×™×³', '×™×´×', '×™×´×‘'], required: true },\r\n      { id: '×ª×—×•×_sel', label: '×ª×—×•× SEL', placeholder: '××•×“×¢×•×ª ×¢×¦××™×ª', type: 'select', options: ['××•×“×¢×•×ª ×¢×¦××™×ª', '× ×™×”×•×œ ×¢×¦××™', '××•×“×¢×•×ª ×—×‘×¨×ª×™×ª', '××™×•×× ×•×™×•×ª ×™×—×¡×™×', '×§×‘×œ×ª ×”×—×œ×˜×•×ª ××—×¨××™×ª'], required: true },\r\n      { id: '× ×•×©×', label: '× ×•×©× ×¡×¤×¦×™×¤×™', placeholder: '×–×™×”×•×™ ×¨×’×©×•×ª, ×”×ª××•×“×“×•×ª ×¢× ×›×¢×¡...', type: 'text', required: true },\r\n      { id: '××©×š', label: '××©×š ×”×©×™×¢×•×¨', placeholder: '45 ×“×§×•×ª', type: 'select', options: ['30 ×“×§×•×ª', '45 ×“×§×•×ª', '60 ×“×§×•×ª', '90 ×“×§×•×ª'], required: true }\r\n    ],\r\n    targetTools: ['ChatGPT', 'Claude', 'Gemini'],\r\n    tips: '××•×“×œ CASEL ×›×•×œ×œ 5 ×ª×—×•××™×: ××•×“×¢×•×ª ×¢×¦××™×ª, × ×™×”×•×œ ×¢×¦××™, ××•×“×¢×•×ª ×—×‘×¨×ª×™×ª, ××™×•×× ×•×™×•×ª ×™×—×¡×™×, ×•×§×‘×œ×ª ×”×—×œ×˜×•×ª ××—×¨××™×ª. ×‘×—×¨×• ×ª×—×•× ××—×“ ×œ×”×ª××§×“ ×‘×•',\r\n    createdBy: null,\r\n    creatorName: '××¢×¨×›×ª',\r\n    isAutoGenerated: true,\r\n    status: 'active'\r\n  },\r\n  {\r\n    title: '×¤×¢×™×œ×•×ª ××™×•×× ×•×™×•×ª SEL',\r\n    description: '×¤×¢×™×œ×•×ª ×œ×¤×™×ª×•×— ××™×©×™ ×•×›×™×ª×ª×™ ×©×œ ××™×•×× ×•×™×•×ª SEL ×¢×œ ×¤×™ ××¡×’×¨×ª CASEL',\r\n    category: '×œ××™×“×” ×—×‘×¨×ª×™×ª-×¨×’×©×™×ª (SEL)',\r\n    subcategory: '×¤×¢×™×œ×•×ª ××™×•×× ×•×™×•×ª SEL',\r\n    promptTemplate: `×× ×™ ××—×¤×©/×ª ×¤×¢×™×œ×•×ª ×§×¦×¨×” ×œ×¤×™×ª×•×— ××™×•×× ×•×™×•×ª SEL ×‘×›×™×ª×” {{×©×›×‘×”}}.\r\n\r\n××™×•×× ×•×ª ×¡×¤×¦×™×¤×™×ª ×œ×¤×™×ª×•×—: {{××™×•×× ×•×ª}}\r\n\r\n×”×§×©×¨ ×”×¤×¢×™×œ×•×ª: {{×”×§×©×¨}}\r\n\r\n××©×š ×”×¤×¢×™×œ×•×ª: {{××©×š}}\r\n\r\n×¡×•×’ ×¤×¢×™×œ×•×ª ××•×¢×“×£: {{×¡×•×’}}\r\n\r\n×× × ×ª×›× ×Ÿ/×™ ×¤×¢×™×œ×•×ª ×©×›×•×œ×œ×ª:\r\n1. ××˜×¨×ª ×”×¤×¢×™×œ×•×ª ×•×”××™×•×× ×•×ª ×©×ª×¤×•×ª×—\r\n2. ×”×—×•××¨×™× ×”× ×“×¨×©×™×\r\n3. ×”×•×¨××•×ª ×©×œ×‘ ××—×¨ ×©×œ×‘\r\n4. ×©××œ×•×ª ×œ×¨×¤×œ×§×¦×™×”\r\n5. ×•×¨×™××¦×™×•×ª ××• ×”×¨×—×‘×•×ª ××¤×©×¨×™×•×ª`,\r\n    fields: [\r\n      { id: '×©×›×‘×”', label: '×©×›×‘×”', placeholder: '×’×³', type: 'select', options: ['××³', '×‘×³', '×’×³', '×“×³', '×”×³', '×•×³', '×–×³', '×—×³', '×˜×³', '×™×³', '×™×´×', '×™×´×‘'], required: true },\r\n      { id: '××™×•×× ×•×ª', label: '××™×•×× ×•×ª ×œ×¤×™×ª×•×—', placeholder: '×××¤×ª×™×”, ×•×™×¡×•×ª ×¨×’×©×™...', type: 'text', required: true },\r\n      { id: '×”×§×©×¨', label: '×”×§×©×¨ ×”×¤×¢×™×œ×•×ª', placeholder: '×©×™×¢×•×¨ ×—×‘×¨×ª×™, ××—×¨×™ ××™×¨×•×¢ ×§×©×”...', type: 'select', options: ['×©×™×¢×•×¨ ×—×‘×¨×ª×™ ×©×‘×•×¢×™', '×¤×ª×™×—×ª ×™×•×', '××—×¨×™ ×”×¤×¡×§×”', '××—×¨×™ ××™×¨×•×¢/×§×•× ×¤×œ×™×§×˜', '×¡×™×•× ×™×•×'], required: true },\r\n      { id: '××©×š', label: '××©×š ×”×¤×¢×™×œ×•×ª', placeholder: '15 ×“×§×•×ª', type: 'select', options: ['5 ×“×§×•×ª', '10 ×“×§×•×ª', '15 ×“×§×•×ª', '20 ×“×§×•×ª', '30 ×“×§×•×ª'], required: true },\r\n      { id: '×¡×•×’', label: '×¡×•×’ ×¤×¢×™×œ×•×ª', placeholder: '×¢×‘×•×“×ª ×¦×•×•×ª', type: 'select', options: ['×“×™×•×Ÿ ×›×™×ª×ª×™', '×¢×‘×•×“×ª ×¦×•×•×ª', '×™×¦×™×¨×” ××™×©×™×ª', '××©×—×§ ×ª×¤×§×™×“×™×', '×ª× ×•×¢×”/×“×¨××”', '×›×ª×™×‘×” ×¨×¤×œ×§×˜×™×‘×™×ª'], required: true }\r\n    ],\r\n    targetTools: ['ChatGPT', 'Claude', 'Gemini'],\r\n    tips: '×¤×¢×™×œ×•×™×•×ª SEL ×§×¦×¨×•×ª ×•×¢×§×‘×™×•×ª ×™×¢×™×œ×•×ª ×™×•×ª×¨ ××¤×¢×™×œ×•×™×•×ª ××¨×•×›×•×ª ×—×“-×¤×¢××™×•×ª. ×ª×›× × ×• ×¡×“×¨×ª ×¤×¢×™×œ×•×™×•×ª ×œ××•×¨×š ×”×©× ×”',\r\n    createdBy: null,\r\n    creatorName: '××¢×¨×›×ª',\r\n    isAutoGenerated: true,\r\n    status: 'active'\r\n  },\r\n  {\r\n    title: '××©×—×§ ×ª×¤×§×™×“×™× ×›×™×ª×ª×™',\r\n    description: '×ª×¨×’×•×œ ××™×•×× ×•×™×•×ª ×—×‘×¨×ª×™×•×ª ×¨×’×©×™×•×ª ×“×¨×š ××©×—×§ ×ª×¤×§×™×“×™× ×›×™×ª×ª×™',\r\n    category: '×œ××™×“×” ×—×‘×¨×ª×™×ª-×¨×’×©×™×ª (SEL)',\r\n    subcategory: '××©×—×§ ×ª×¤×§×™×“×™×',\r\n    promptTemplate: `×× ×™ ×¨×•×¦×” ×œ×§×™×™× ××©×—×§ ×ª×¤×§×™×“×™× ×‘×›×™×ª×” {{×©×›×‘×”}} ×œ×ª×¨×’×•×œ ××™×•×× ×•×™×•×ª ×—×‘×¨×ª×™×•×ª-×¨×’×©×™×•×ª.\r\n\r\n×”×¡×™×˜×•××¦×™×”/× ×•×©×: {{×¡×™×˜×•××¦×™×”}}\r\n\r\n××™×•×× ×•×™×•×ª ×œ×ª×¨×’×•×œ: {{××™×•×× ×•×™×•×ª}}\r\n\r\n××¡×¤×¨ ××©×ª×ª×¤×™×: {{××¡×¤×¨_××©×ª×ª×¤×™×}}\r\n\r\n×× × ×¦×•×¨ ×ª×¨×—×™×© ×œ××©×—×§ ×ª×¤×§×™×“×™× ×©×›×•×œ×œ:\r\n1. ×¨×§×¢ ×”×¡×™×˜×•××¦×™×”\r\n2. ×ª×™××•×¨ ×”×“××•×™×•×ª ×•×”×ª×¤×§×™×“×™×\r\n3. ×”× ×—×™×•×ª ×œ×©×—×§× ×™×\r\n4. × ×§×•×“×•×ª ×œ××¢×§×‘ ×œ×¦×•×¤×™×\r\n5. ×©××œ×•×ª ×œ×“×™×•×Ÿ ××—×¨×™ ×”××©×—×§\r\n6. ×•×¨×™××¦×™×•×ª ××¤×©×¨×™×•×ª ×œ×¡×™×˜×•××¦×™×”`,\r\n    fields: [\r\n      { id: '×©×›×‘×”', label: '×©×›×‘×”', placeholder: '×”×³', type: 'select', options: ['××³', '×‘×³', '×’×³', '×“×³', '×”×³', '×•×³', '×–×³', '×—×³', '×˜×³', '×™×³', '×™×´×', '×™×´×‘'], required: true },\r\n      { id: '×¡×™×˜×•××¦×™×”', label: '×¡×™×˜×•××¦×™×”/× ×•×©×', placeholder: '×§×•× ×¤×œ×™×§×˜ ×‘×”×¤×¡×§×”, ×œ×—×¥ ×—×‘×¨×ª×™...', type: 'text', required: true },\r\n      { id: '××™×•×× ×•×™×•×ª', label: '××™×•×× ×•×™×•×ª ×œ×ª×¨×’×•×œ', placeholder: '××¡×¨×˜×™×‘×™×•×ª, ×¤×ª×¨×•×Ÿ ×§×•× ×¤×œ×™×§×˜×™×...', type: 'text', required: true },\r\n      { id: '××¡×¤×¨_××©×ª×ª×¤×™×', label: '××¡×¤×¨ ××©×ª×ª×¤×™×', placeholder: '3-4', type: 'select', options: ['2 ×ª×œ××™×“×™×', '3-4 ×ª×œ××™×“×™×', '5-6 ×ª×œ××™×“×™×', '×›×œ ×”×›×™×ª×”'], required: true }\r\n    ],\r\n    targetTools: ['ChatGPT', 'Claude', 'Gemini'],\r\n    tips: '×œ×¤× ×™ ××©×—×§ ×”×ª×¤×§×™×“×™×, ×”×¡×‘×™×¨×• ×œ×ª×œ××™×“×™× ×©×–×• ×”×ª× ×¡×•×ª ×‘×˜×•×—×” ×•×©××™×Ÿ ×ª×©×•×‘×•×ª × ×›×•× ×•×ª ××• ×œ× × ×›×•× ×•×ª. ×¦×¨×• ××•×•×™×¨×” ×ª×•××›×ª',\r\n    createdBy: null,\r\n    creatorName: '××¢×¨×›×ª',\r\n    isAutoGenerated: true,\r\n    status: 'active'\r\n  },\r\n  {\r\n    title: '×¤×¢×™×œ×•×ª SEL - ×œ×¨××•×ª ××ª ×”××•×¨ (××•×¤×˜×™××™×•×ª ×•×—×•×¡×Ÿ)',\r\n    description: '×¤×¢×™×œ×•×ª SEL ×§×¦×¨×” ×•××•×‘× ×™×ª ×œ×—×™×–×•×§ ×—×•×¡×Ÿ ×•××•×¤×˜×™××™×•×ª ×‘×›×™×ª×” ×‘×××¦×¢×•×ª ×¢×‘×•×“×” ×¢× ×“×™××•×™ ×•×™×–×•××œ×™',\r\n    category: '×œ××™×“×” ×—×‘×¨×ª×™×ª-×¨×’×©×™×ª (SEL)',\r\n    subcategory: '×¤×¢×™×œ×•×ª ××•×¤×˜×™××™×•×ª ×•×—×•×¡×Ÿ',\r\n    promptTemplate: `×× ×™ ×¨×•×¦×” ×œ×§×™×™× ×¤×¢×™×œ×•×ª SEL ×§×¦×¨×” ×‘× ×•×©× ××•×¤×˜×™××™×•×ª ×•×—×•×¡×Ÿ ×‘×›×™×ª×” {{×©×›×‘×”}}.\r\n\r\n××˜×¨×ª ×”×¤×¢×™×œ×•×ª: {{××˜×¨×”}}\r\n\r\n××©×š ×”×¤×¢×™×œ×•×ª: {{××©×š}}\r\n\r\n×”×”×§×©×¨: {{×”×§×©×¨}}\r\n\r\n×× × ×ª×›× ×Ÿ/×™ ×¤×¢×™×œ×•×ª \"×œ×¨××•×ª ××ª ×”××•×¨\" ×©×›×•×œ×œ×ª:\r\n1. ×¤×ª×™×—×” ×¢× ×“×™××•×™ ×•×™×–×•××œ×™ (××˜××¤×•×¨×” ×©×œ ××•×¨/×—×•×©×š)\r\n2. ×¤×¢×™×œ×•×ª ××¨×›×–×™×ª ×œ×—×™×–×•×§ ×—×©×™×‘×” ××•×¤×˜×™××™×ª\r\n3. ×©×™×ª×•×£ ×•×“×™×•×Ÿ\r\n4. ×›×œ×™ ××¢×©×™ ×©×”×ª×œ××™×“×™× ×™×›×•×œ×™× ×œ×§×—×ª ××™×ª×\r\n5. ×¡×™×›×•× ××¢×¦×™×\r\n\r\n×”×¤×¢×™×œ×•×ª ×¦×¨×™×›×” ×œ×”×™×•×ª ××ª××™××” ×œ×’×™×œ ×•×œ×ª×ª ×›×œ×™× ××¢×©×™×™× ×œ×”×ª××•×“×“×•×ª.`,\r\n    fields: [\r\n      { id: '×©×›×‘×”', label: '×©×›×‘×”', placeholder: '×“×³', type: 'select', options: ['××³', '×‘×³', '×’×³', '×“×³', '×”×³', '×•×³', '×–×³', '×—×³', '×˜×³', '×™×³', '×™×´×', '×™×´×‘'], required: true },\r\n      { id: '××˜×¨×”', label: '××˜×¨×” ×¢×™×§×¨×™×ª', placeholder: '×”×ª××•×“×“×•×ª ×¢× ×§×©×™×™×', type: 'select', options: ['×”×ª××•×“×“×•×ª ×¢× ×§×©×™×™×', '××¦×™××ª ×”×˜×•×‘ ×‘×›×œ ×™×•×', '×‘× ×™×™×ª ×—×•×¡×Ÿ', '×ª×§×•×•×” ×•××•×¤×˜×™××™×•×ª', '×”×›×¨×ª ×ª×•×“×”'], required: true },\r\n      { id: '××©×š', label: '××©×š ×”×¤×¢×™×œ×•×ª', placeholder: '20 ×“×§×•×ª', type: 'select', options: ['10 ×“×§×•×ª', '15 ×“×§×•×ª', '20 ×“×§×•×ª', '30 ×“×§×•×ª'], required: true },\r\n      { id: '×”×§×©×¨', label: '×”×§×©×¨ ×”×¤×¢×™×œ×•×ª', placeholder: '×©×™×¢×•×¨ ×—×‘×¨×ª×™', type: 'select', options: ['×©×™×¢×•×¨ ×—×‘×¨×ª×™', '×¤×ª×™×—×ª ×©×‘×•×¢', '××—×¨×™ ××™×¨×•×¢ ×§×©×”', '×ª×§×•×¤×ª ××‘×—× ×™×', '×¡×•×£ ×©× ×”'], required: true }\r\n    ],\r\n    targetTools: ['ChatGPT', 'Claude', 'Gemini'],\r\n    tips: '×”××˜××¤×•×¨×” ×©×œ ××•×¨ ×•×—×•×©×š ×¢×•×–×¨×ª ×œ×ª×œ××™×“×™× ×œ×”×‘×™×Ÿ ×¨×’×©×•×ª ×‘×¦×•×¨×” ×—×–×•×ª×™×ª ×•×œ× ×××™×™××ª. ×”×©×ª××©×• ×‘×” ×’× ×‘×©×™×—×•×ª ××™×©×™×•×ª',\r\n    createdBy: null,\r\n    creatorName: '××¢×¨×›×ª',\r\n    isAutoGenerated: true,\r\n    status: 'active'\r\n  }\r\n];\r\n\r\n/**\r\n * Function to add all new prompts to the library\r\n * Call this from a component or browser console\r\n */\r\nexport async function addNewPromptsToLibrary(): Promise<string[]> {\r\n  console.log(`Adding ${NEW_PROMPTS.length} new prompts to the library...`);\r\n  const ids = await bulkCreatePrompts(NEW_PROMPTS);\r\n  console.log(`Successfully added ${ids.length} prompts!`);\r\n  return ids;\r\n}\r\n","/**\r\n * Admin component to seed new prompts to the library\r\n * Only visible to admin users\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { IconDatabaseImport, IconCheck, IconAlertCircle, IconLoader } from '@tabler/icons-react';\r\nimport { addNewPromptsToLibrary, NEW_PROMPTS } from '../data/newPrompts';\r\n\r\ninterface AdminPromptSeederProps {\r\n  isAdmin: boolean;\r\n}\r\n\r\nexport default function AdminPromptSeeder({ isAdmin }: AdminPromptSeederProps) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [addedIds, setAddedIds] = useState<string[]>([]);\r\n\r\n  if (!isAdmin) return null;\r\n\r\n  const handleSeedPrompts = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    setSuccess(false);\r\n\r\n    try {\r\n      const ids = await addNewPromptsToLibrary();\r\n      setAddedIds(ids);\r\n      setSuccess(true);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Failed to add prompts');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-4 mb-6\" dir=\"rtl\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className=\"p-2 bg-purple-100 rounded-lg\">\r\n            <IconDatabaseImport className=\"w-5 h-5 text-purple-600\" />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"font-bold text-slate-800\">×›×œ×™ ××“××™×Ÿ - ×”×•×¡×¤×ª ×¤×¨×•××¤×˜×™×</h3>\r\n            <p className=\"text-sm text-slate-500\">\r\n              {NEW_PROMPTS.length} ×¤×¨×•××¤×˜×™× ×—×“×©×™× ××•×›× ×™× ×œ×”×•×¡×¤×”\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          onClick={handleSeedPrompts}\r\n          disabled={loading || success}\r\n          className={`flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-all ${\r\n            success\r\n              ? 'bg-green-500 text-white'\r\n              : loading\r\n              ? 'bg-slate-300 text-slate-500 cursor-wait'\r\n              : 'bg-purple-600 text-white hover:bg-purple-700'\r\n          }`}\r\n        >\r\n          {loading ? (\r\n            <>\r\n              <IconLoader className=\"w-5 h-5 animate-spin\" />\r\n              <span>××•×¡×™×£...</span>\r\n            </>\r\n          ) : success ? (\r\n            <>\r\n              <IconCheck className=\"w-5 h-5\" />\r\n              <span>× ×•×¡×¤×• {addedIds.length} ×¤×¨×•××¤×˜×™×!</span>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <IconDatabaseImport className=\"w-5 h-5\" />\r\n              <span>×”×•×¡×£ ×¤×¨×•××¤×˜×™×</span>\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mt-3 flex items-center gap-2 text-red-600 text-sm\">\r\n          <IconAlertCircle className=\"w-4 h-4\" />\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n\r\n      {success && (\r\n        <div className=\"mt-3 text-sm text-green-600\">\r\n          ×”×¤×¨×•××¤×˜×™× × ×•×¡×¤×• ×‘×”×¦×œ×—×”! ×¨×¢× ×Ÿ ××ª ×”×“×£ ×›×“×™ ×œ×¨××•×ª ××•×ª×.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useMemo } from 'react';\r\nimport {\r\n  IconSearch,\r\n  IconFilter,\r\n  IconPlus,\r\n  IconArrowRight,\r\n  IconSparkles,\r\n  IconSortDescending,\r\n  IconX,\r\n  IconRefresh,\r\n  IconClipboardCheck,\r\n  IconSchool,\r\n  IconMessage,\r\n  IconDeviceGamepad2,\r\n  IconTarget,\r\n  IconWand,\r\n  IconUsers,\r\n  IconChartBar,\r\n  IconHeartHandshake,\r\n  IconCalendarEvent,\r\n  IconMailHeart,\r\n  IconFlame,\r\n  IconTrophy\r\n} from '@tabler/icons-react';\r\nimport PromptCard from './PromptCard';\r\nimport SubmitPromptModal from './SubmitPromptModal';\r\nimport AdminPromptSeeder from './AdminPromptSeeder';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport type { Prompt } from '../services/promptsService';\r\nimport {\r\n  PROMPT_CATEGORIES,\r\n  subscribeToPrompts,\r\n  getFeaturedPrompt,\r\n  searchPrompts,\r\n  getMostUsedPrompts\r\n} from '../services/promptsService';\r\n\r\ninterface PromptsLibraryProps {\r\n  onBack: () => void;\r\n}\r\n\r\ntype SortOption = 'newest' | 'rating' | 'popular';\r\n\r\n// Map category IDs to Tabler Icons (matching the main app design)\r\nconst getCategoryIcon = (categoryId: string) => {\r\n  const iconMap: Record<string, React.ReactNode> = {\r\n    'popular': <IconFlame className=\"w-4 h-4\" />,\r\n    'exams': <IconClipboardCheck className=\"w-4 h-4\" />,\r\n    'lessons': <IconSchool className=\"w-4 h-4\" />,\r\n    'feedback': <IconMessage className=\"w-4 h-4\" />,\r\n    'activities': <IconDeviceGamepad2 className=\"w-4 h-4\" />,\r\n    'adaptations': <IconTarget className=\"w-4 h-4\" />,\r\n    'content': <IconWand className=\"w-4 h-4\" />,\r\n    'management': <IconUsers className=\"w-4 h-4\" />,\r\n    'assessment': <IconChartBar className=\"w-4 h-4\" />,\r\n    'sel': <IconHeartHandshake className=\"w-4 h-4\" />,\r\n    'planning': <IconCalendarEvent className=\"w-4 h-4\" />,\r\n    'communication': <IconMailHeart className=\"w-4 h-4\" />\r\n  };\r\n  return iconMap[categoryId] || <IconSparkles className=\"w-4 h-4\" />;\r\n};\r\n\r\n// Map category IDs to colors for visual distinction\r\nconst getCategoryColor = (categoryId: string, isSelected: boolean) => {\r\n  if (isSelected) {\r\n    return 'text-white';\r\n  }\r\n  const colorMap: Record<string, string> = {\r\n    'popular': 'text-orange-500',\r\n    'exams': 'text-cyan-600',\r\n    'lessons': 'text-blue-600',\r\n    'feedback': 'text-indigo-600',\r\n    'activities': 'text-emerald-600',\r\n    'adaptations': 'text-orange-600',\r\n    'content': 'text-purple-600',\r\n    'management': 'text-slate-600',\r\n    'assessment': 'text-teal-600',\r\n    'sel': 'text-pink-600',\r\n    'planning': 'text-amber-600',\r\n    'communication': 'text-rose-600'\r\n  };\r\n  return colorMap[categoryId] || 'text-slate-600';\r\n};\r\n\r\nexport default function PromptsLibrary({ onBack }: PromptsLibraryProps) {\r\n  const { isAdmin } = useAuth();\r\n  const [prompts, setPrompts] = useState<Prompt[]>([]);\r\n  const [popularPrompts, setPopularPrompts] = useState<Prompt[]>([]);\r\n  const [featuredPrompt, setFeaturedPrompt] = useState<Prompt | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null);\r\n  const [selectedSubcategory, setSelectedSubcategory] = useState<string | null>(null);\r\n  const [sortBy, setSortBy] = useState<SortOption>('newest');\r\n  const [showSubmitModal, setShowSubmitModal] = useState(false);\r\n  const [showFilters, setShowFilters] = useState(false);\r\n\r\n  // Subscribe to prompts\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const unsubscribe = subscribeToPrompts((fetchedPrompts) => {\r\n      setPrompts(fetchedPrompts);\r\n      setLoading(false);\r\n    });\r\n\r\n    // Load featured prompt\r\n    getFeaturedPrompt().then(setFeaturedPrompt);\r\n\r\n    // Load top 10 most popular prompts\r\n    getMostUsedPrompts(10).then(setPopularPrompts);\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // Check if the 'popular' special category is selected\r\n  const isPopularCategory = selectedCategory === 'popular';\r\n\r\n  // Filter and sort prompts\r\n  const filteredPrompts = useMemo(() => {\r\n    // Special case: \"Most Popular\" category - show top 10 by copy count\r\n    if (isPopularCategory) {\r\n      let result = [...popularPrompts];\r\n\r\n      // Apply search filter even in popular category\r\n      if (searchTerm) {\r\n        const lowerSearch = searchTerm.toLowerCase();\r\n        result = result.filter(p =>\r\n          p.title.toLowerCase().includes(lowerSearch) ||\r\n          p.description.toLowerCase().includes(lowerSearch) ||\r\n          p.category.toLowerCase().includes(lowerSearch) ||\r\n          p.subcategory.toLowerCase().includes(lowerSearch)\r\n        );\r\n      }\r\n\r\n      return result;\r\n    }\r\n\r\n    let result = [...prompts];\r\n\r\n    // Filter by search term\r\n    if (searchTerm) {\r\n      const lowerSearch = searchTerm.toLowerCase();\r\n      result = result.filter(p =>\r\n        p.title.toLowerCase().includes(lowerSearch) ||\r\n        p.description.toLowerCase().includes(lowerSearch) ||\r\n        p.category.toLowerCase().includes(lowerSearch) ||\r\n        p.subcategory.toLowerCase().includes(lowerSearch)\r\n      );\r\n    }\r\n\r\n    // Filter by category (skip for special categories)\r\n    if (selectedCategory) {\r\n      const category = PROMPT_CATEGORIES.find(c => c.id === selectedCategory);\r\n      if (category && !('isSpecial' in category)) {\r\n        result = result.filter(p => p.category === category.name);\r\n      }\r\n    }\r\n\r\n    // Filter by subcategory\r\n    if (selectedSubcategory) {\r\n      result = result.filter(p => p.subcategory === selectedSubcategory);\r\n    }\r\n\r\n    // Sort\r\n    switch (sortBy) {\r\n      case 'rating':\r\n        result.sort((a, b) => b.averageRating - a.averageRating);\r\n        break;\r\n      case 'popular':\r\n        result.sort((a, b) => b.usageCount - a.usageCount);\r\n        break;\r\n      case 'newest':\r\n      default:\r\n        // Already sorted by createdAt desc from Firestore\r\n        break;\r\n    }\r\n\r\n    // Exclude featured from list (it's shown separately)\r\n    if (featuredPrompt) {\r\n      result = result.filter(p => p.id !== featuredPrompt.id);\r\n    }\r\n\r\n    return result;\r\n  }, [prompts, popularPrompts, searchTerm, selectedCategory, selectedSubcategory, sortBy, featuredPrompt, isPopularCategory]);\r\n\r\n  const handleCategoryChange = (categoryId: string | null) => {\r\n    setSelectedCategory(categoryId);\r\n    setSelectedSubcategory(null); // Reset subcategory when category changes\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setSearchTerm('');\r\n    setSelectedCategory(null);\r\n    setSelectedSubcategory(null);\r\n    setSortBy('newest');\r\n  };\r\n\r\n  const hasActiveFilters = searchTerm || selectedCategory || selectedSubcategory || sortBy !== 'newest';\r\n\r\n  const selectedCategoryData = selectedCategory\r\n    ? PROMPT_CATEGORIES.find(c => c.id === selectedCategory)\r\n    : null;\r\n\r\n  const handlePromptSubmitted = () => {\r\n    setShowSubmitModal(false);\r\n    // Prompts will auto-refresh via subscription\r\n  };\r\n\r\n  const refreshData = () => {\r\n    setLoading(true);\r\n    getFeaturedPrompt().then(setFeaturedPrompt);\r\n    getMostUsedPrompts(10).then(setPopularPrompts);\r\n    // Subscription will handle the rest\r\n    setTimeout(() => setLoading(false), 500);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-purple-50/20\" dir=\"rtl\">\r\n      {/* Header with Search & Filters */}\r\n      <div className=\"sticky top-0 z-40 bg-white/95 backdrop-blur-lg border-b border-slate-200 shadow-sm\">\r\n        <div className=\"max-w-7xl mx-auto px-4 py-4\">\r\n          {/* Top row - Title and actions */}\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <button\r\n                onClick={onBack}\r\n                className=\"p-2 hover:bg-slate-100 rounded-xl transition-all\"\r\n              >\r\n                <IconArrowRight className=\"w-6 h-6 text-slate-600\" />\r\n              </button>\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold text-slate-800 flex items-center gap-2\">\r\n                  <IconSparkles className=\"w-7 h-7 text-wizdi-gold\" />\r\n                  ×××’×¨ ×¤×¨×•××¤×˜×™× AI\r\n                </h1>\r\n                <p className=\"text-sm text-slate-500\">××’×•×•×Ÿ ×¤×¨×•××¤×˜×™× ××•×›× ×™× ×œ×¦×•×¨×›×™ ×”×”×•×¨××”</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3\">\r\n              <button\r\n                onClick={refreshData}\r\n                className=\"p-2 hover:bg-slate-100 rounded-xl transition-all text-slate-600\"\r\n                title=\"×¨×¢× ×Ÿ\"\r\n              >\r\n                <IconRefresh className={`w-5 h-5 ${loading ? 'animate-spin' : ''}`} />\r\n              </button>\r\n              <button\r\n                onClick={() => setShowSubmitModal(true)}\r\n                className=\"flex items-center gap-2 px-4 py-2 bg-wizdi-royal text-white rounded-xl hover:bg-wizdi-royal/90 transition-all font-medium\"\r\n              >\r\n                <IconPlus className=\"w-5 h-5\" />\r\n                <span>×”×¦×¢ ×¤×¨×•××¤×˜</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Search Bar - Prominent */}\r\n          <div className=\"relative mb-4\">\r\n            <IconSearch className=\"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400\" />\r\n            <input\r\n              type=\"text\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              placeholder=\"×—×¤×© ×¤×¨×•××¤×˜ ×œ×¤×™ ×©×, ×ª×™××•×¨ ××• ×§×˜×’×•×¨×™×”...\"\r\n              className=\"w-full pr-12 pl-4 py-3.5 bg-gradient-to-r from-slate-50 to-blue-50/50 border-2 border-slate-200 rounded-2xl focus:border-wizdi-royal focus:ring-4 focus:ring-wizdi-royal/10 outline-none transition-all text-lg placeholder:text-slate-400\"\r\n            />\r\n          </div>\r\n\r\n          {/* Category Quick Filters - Prominent placement */}\r\n          <div className=\"flex flex-wrap gap-2 mb-3\">\r\n            <button\r\n              onClick={() => handleCategoryChange(null)}\r\n              className={`px-5 py-2.5 rounded-xl text-sm font-semibold transition-all shadow-sm ${\r\n                !selectedCategory\r\n                  ? 'bg-gradient-to-r from-wizdi-royal to-blue-600 text-white shadow-md'\r\n                  : 'bg-white border-2 border-slate-200 text-slate-600 hover:border-wizdi-royal hover:text-wizdi-royal hover:bg-blue-50/50'\r\n              }`}\r\n            >\r\n              ×”×›×œ\r\n            </button>\r\n            {PROMPT_CATEGORIES.map(cat => (\r\n              <button\r\n                key={cat.id}\r\n                onClick={() => handleCategoryChange(cat.id)}\r\n                className={`px-4 py-2.5 rounded-xl text-sm font-medium transition-all flex items-center gap-2 shadow-sm ${\r\n                  selectedCategory === cat.id\r\n                    ? 'bg-gradient-to-r from-wizdi-royal to-blue-600 text-white shadow-md'\r\n                    : 'bg-white border-2 border-slate-200 text-slate-600 hover:border-wizdi-royal hover:text-wizdi-royal hover:bg-blue-50/50'\r\n                }`}\r\n              >\r\n                <span className={getCategoryColor(cat.id, selectedCategory === cat.id)}>\r\n                  {getCategoryIcon(cat.id)}\r\n                </span>\r\n                <span>{cat.name}</span>\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Filter Controls Row */}\r\n          <div className=\"flex flex-wrap items-center gap-3 pt-3 border-t border-slate-100\">\r\n            {/* Subcategory Filter (only if category selected and not a special category) */}\r\n            {selectedCategoryData && selectedCategoryData.subcategories.length > 0 && (\r\n              <div className=\"relative\">\r\n                <select\r\n                  value={selectedSubcategory || ''}\r\n                  onChange={(e) => setSelectedSubcategory(e.target.value || null)}\r\n                  className=\"appearance-none px-4 py-2 pr-4 pl-9 bg-amber-50 border-2 border-amber-200 rounded-xl text-amber-800 font-medium focus:border-amber-400 focus:ring-2 focus:ring-amber-200 outline-none transition-all cursor-pointer text-sm\"\r\n                >\r\n                  <option value=\"\">×›×œ ×ª×ª×™-×”×§×˜×’×•×¨×™×•×ª</option>\r\n                  {selectedCategoryData.subcategories.map(sub => (\r\n                    <option key={sub} value={sub}>{sub}</option>\r\n                  ))}\r\n                </select>\r\n                <IconFilter className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-amber-500 pointer-events-none\" />\r\n              </div>\r\n            )}\r\n\r\n            {/* Sort */}\r\n            <div className=\"relative\">\r\n              <select\r\n                value={sortBy}\r\n                onChange={(e) => setSortBy(e.target.value as SortOption)}\r\n                className=\"appearance-none px-4 py-2 pr-4 pl-9 bg-slate-100 border-2 border-slate-200 rounded-xl text-slate-700 font-medium focus:border-wizdi-royal focus:ring-2 focus:ring-wizdi-royal/20 outline-none transition-all cursor-pointer text-sm\"\r\n              >\r\n                <option value=\"newest\">×”×—×“×©×™×</option>\r\n                <option value=\"rating\">×”×›×™ ××“×•×¨×’×™×</option>\r\n                <option value=\"popular\">×”×¤×•×¤×•×œ×¨×™×™×</option>\r\n              </select>\r\n              <IconSortDescending className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none\" />\r\n            </div>\r\n\r\n            {/* Clear Filters */}\r\n            {hasActiveFilters && (\r\n              <button\r\n                onClick={clearFilters}\r\n                className=\"flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-red-600 bg-red-50 hover:bg-red-100 rounded-xl transition-all border border-red-200\"\r\n              >\r\n                <IconX className=\"w-4 h-4\" />\r\n                <span>× ×§×” ×”×›×œ</span>\r\n              </button>\r\n            )}\r\n\r\n            {/* Results count - inline */}\r\n            <div className=\"mr-auto text-sm text-slate-500 font-medium\">\r\n              {loading ? '×˜×•×¢×Ÿ...' : `${filteredPrompts.length} ×¤×¨×•××¤×˜×™×`}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto px-4 py-6\">\r\n        {/* Admin Seeder - only shown to admins */}\r\n        <AdminPromptSeeder isAdmin={isAdmin} />\r\n\r\n        {/* Popular Section Header - when popular category is selected */}\r\n        {isPopularCategory && (\r\n          <div className=\"mb-6 p-4 bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-200 rounded-2xl\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-3 bg-orange-100 rounded-xl\">\r\n                <IconTrophy className=\"w-7 h-7 text-orange-500\" />\r\n              </div>\r\n              <div>\r\n                <h2 className=\"text-xl font-bold text-orange-800 flex items-center gap-2\">\r\n                  <IconFlame className=\"w-5 h-5\" />\r\n                  ×”×¢×©×™×¨×™×™×” ×”×¤×•×¤×•×œ×¨×™×ª\r\n                </h2>\r\n                <p className=\"text-sm text-orange-600\">\r\n                  ×”×¤×¨×•××¤×˜×™× ×”×›×™ ×¤×•×¤×•×œ×¨×™×™× ×‘×××’×¨\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Featured Prompt - hide when any category is selected */}\r\n        {featuredPrompt && !selectedCategory && (\r\n          <div className=\"mb-8\">\r\n            <div className=\"flex items-center gap-2 mb-4\">\r\n              <IconSparkles className=\"w-5 h-5 text-wizdi-gold\" />\r\n              <h2 className=\"text-lg font-bold text-slate-800\">×¤×¨×•××¤×˜ ×”×©×‘×•×¢</h2>\r\n            </div>\r\n            <PromptCard prompt={featuredPrompt} featured onRatingChange={refreshData} />\r\n          </div>\r\n        )}\r\n\r\n        {/* Prompts Grid */}\r\n        {loading ? (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {[...Array(4)].map((_, i) => (\r\n              <div key={i} className=\"bg-white rounded-2xl border border-slate-200 p-6 animate-pulse\">\r\n                <div className=\"h-4 bg-slate-200 rounded w-1/3 mb-4\"></div>\r\n                <div className=\"h-6 bg-slate-200 rounded w-2/3 mb-2\"></div>\r\n                <div className=\"h-4 bg-slate-200 rounded w-1/2 mb-4\"></div>\r\n                <div className=\"h-20 bg-slate-100 rounded mb-4\"></div>\r\n                <div className=\"h-32 bg-slate-800 rounded\"></div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : filteredPrompts.length === 0 ? (\r\n          <div className=\"text-center py-16 bg-white rounded-2xl border border-slate-200\">\r\n            <IconSearch className=\"w-16 h-16 text-slate-300 mx-auto mb-4\" />\r\n            <h3 className=\"text-xl font-bold text-slate-600 mb-2\">×œ× × ××¦××• ×¤×¨×•××¤×˜×™×</h3>\r\n            <p className=\"text-slate-500 mb-6\">× ×¡×” ×œ×©× ×•×ª ××ª ×”×¡×™× ×•×Ÿ ××• ×”×—×™×¤×•×©</p>\r\n            <button\r\n              onClick={clearFilters}\r\n              className=\"px-6 py-2 bg-wizdi-royal text-white rounded-xl hover:bg-wizdi-royal/90 transition-all\"\r\n            >\r\n              × ×§×” ×¡×™× ×•×Ÿ\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n            {filteredPrompts.map(prompt => (\r\n              <PromptCard\r\n                key={prompt.id}\r\n                prompt={prompt}\r\n                onRatingChange={refreshData}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Submit Modal */}\r\n      {showSubmitModal && (\r\n        <SubmitPromptModal\r\n          onClose={() => setShowSubmitModal(false)}\r\n          onSubmit={handlePromptSubmitted}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["__iconNode","IconCalendarEvent","createReactComponent","IconCrown","IconDatabaseImport","IconGripVertical","IconHeartHandshake","IconMailHeart","IconSortDescending","IconStarFilled","PROMPT_CATEGORIES","COMMON_FIELD_OPTIONS","PROMPTS_COLLECTION","RATINGS_COLLECTION","createPrompt","prompt","addDoc","collection","db","serverTimestamp","getPrompt","promptId","docSnap","getDoc","doc","getFeaturedPrompt","q","query","where","limit","snapshot","getDocs","fallbackQ","fallbackSnapshot","prompts","a","b","getMostUsedPrompts","limitCount","getPromptsByCreator","creatorId","dateA","_b","_a","_d","_c","subscribeToPrompts","callback","category","onSnapshot","trackPromptUsage","updateDoc","increment","ratePrompt","odUseri","userName","rating","comment","existingRatingQuery","existingRating","batch","writeBatch","promptRef","newRatingRef","newCount","newAverage","oldRating","ratingRef","getPromptRatings","getUserRatingForPrompt","getTeacherStats","totalRatings","sum","p","weightedSum","averageRating","isTeacherRecommended","fillPromptTemplate","template","fieldValues","result","key","value","escapedKey","regex","bulkCreatePrompts","ids","chunks","i","chunk","chunkBatch","docRef","PromptCard","featured","onRatingChange","currentUser","useAuth","isExpanded","setIsExpanded","useState","setFieldValues","copied","setCopied","showComments","setShowComments","comments","setComments","userRating","setUserRating","hoverRating","setHoverRating","isCreatorRecommended","setIsCreatorRecommended","showRatingInput","setShowRatingInput","ratingComment","setRatingComment","isSubmittingRating","setIsSubmittingRating","useEffect","initialValues","field","handleFieldChange","fieldId","prev","getFilledPrompt","handleCopy","filledPrompt","handleLoadComments","ratings","r","handleRatingSubmit","error","renderField","baseInputClass","jsxs","e","jsx","opt","renderStars","interactive","stars","isFilled","IconStar","commentsWithText","c","IconUser","tool","IconChevronDown","IconSparkles","Fragment","IconChevronUp","IconCheck","IconCopy","IconMessage","_","SubmitPromptModal","onClose","onSubmit","step","setStep","isSubmitting","setIsSubmitting","setError","title","setTitle","description","setDescription","categoryId","setCategoryId","subcategory","setSubcategory","targetTools","setTargetTools","tips","setTips","promptTemplate","setPromptTemplate","fields","setFields","selectedCategory","addField","newField","updateField","tempId","updates","removeField","f","insertFieldPlaceholder","placeholder","toggleTool","t","validateStep1","validateStep2","unusedFields","handleNext","handleSubmit","cleanedFields","cleanedTemplate","err","availableTools","IconX","s","IconAlertCircle","cat","sub","IconPlus","index","IconTrash","NEW_PROMPTS","addNewPromptsToLibrary","AdminPromptSeeder","isAdmin","loading","setLoading","success","setSuccess","addedIds","setAddedIds","handleSeedPrompts","IconLoader","getCategoryIcon","IconFlame","IconClipboardCheck","IconSchool","IconDeviceGamepad2","IconTarget","IconWand","IconUsers","IconChartBar","getCategoryColor","isSelected","PromptsLibrary","onBack","setPrompts","popularPrompts","setPopularPrompts","featuredPrompt","setFeaturedPrompt","searchTerm","setSearchTerm","setSelectedCategory","selectedSubcategory","setSelectedSubcategory","sortBy","setSortBy","showSubmitModal","setShowSubmitModal","showFilters","setShowFilters","unsubscribe","fetchedPrompts","isPopularCategory","filteredPrompts","useMemo","lowerSearch","handleCategoryChange","clearFilters","hasActiveFilters","selectedCategoryData","handlePromptSubmitted","refreshData","IconArrowRight","IconRefresh","IconSearch","IconFilter","IconTrophy"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7]}