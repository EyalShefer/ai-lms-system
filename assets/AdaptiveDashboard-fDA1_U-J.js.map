{"version":3,"file":"AdaptiveDashboard-fDA1_U-J.js","sources":["../../src/components/dashboard/AdaptiveDashboard.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { getSmartCourseAnalytics, type StudentAnalytics } from '../../services/analyticsService';\r\nimport { IconAlertTriangle, IconCheck, IconX, IconActivity } from '@tabler/icons-react';\r\nimport { IconChevronLeft, IconBrain } from '../../icons'; // Reusing existing\r\n\r\n// --- Sub-Components ---\r\n\r\n// ... imports\r\n\r\nconst JourneyTrace = ({ student }: { student: StudentAnalytics }) => {\r\n    return (\r\n        <div className=\"bg-slate-50 rounded-3xl p-6 shadow-inner border border-slate-200 w-full overflow-hidden\" dir=\"rtl\">\r\n            <h3 className=\"text-slate-800 font-bold text-xl mb-6 flex items-center gap-2\">\r\n                <IconActivity className=\"text-blue-600\" />\r\n                ◊û◊°◊ú◊ï◊ú ◊ú◊û◊ô◊ì◊î: {student.name}\r\n            </h3>\r\n\r\n            {/* Scroll Container with LTR direction for time progression (Past -> Future) */}\r\n            <div className=\"overflow-x-auto pb-4\" dir=\"ltr\">\r\n                <div className=\"flex items-center gap-0 w-max px-4 min-w-full\">\r\n                    {student.journey.map((node, idx) => {\r\n                        const isRemediation = node.type === 'remediation';\r\n\r\n                        return (\r\n                            <div key={idx} className=\"flex items-center\">\r\n                                {/* Node */}\r\n                                <div className={`relative flex flex-col items-center group`}>\r\n                                    {/* Pulse for remediation */}\r\n                                    {isRemediation && <div className=\"absolute inset-0 bg-yellow-400 blur-md opacity-50 animate-pulse rounded-full\" />}\r\n\r\n                                    <div className={`w-12 h-12 rounded-full border-4 z-10 flex items-center justify-center shadow-lg relative\r\n                                        ${node.status === 'success' ? 'bg-lime-400 border-lime-600' :\r\n                                            node.status === 'failure' ? 'bg-red-500 border-red-700' :\r\n                                                node.type === 'remediation' ? 'bg-yellow-300 border-yellow-500' : 'bg-slate-200 border-slate-300'}\r\n                                        transition-transform hover:scale-125 cursor-pointer\r\n                                        shrink-0\r\n                                    `}>\r\n                                        {isRemediation ? 'üõ†Ô∏è' : node.status === 'success' ? <IconCheck size={20} className=\"text-slate-900\" stroke={3} /> : <IconX size={20} className=\"text-white\" stroke={3} />}\r\n                                    </div>\r\n\r\n                                    {/* Node Label */}\r\n                                    <div className=\"absolute top-full mt-3 text-center w-32 -left-10 z-20 pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                        <span className=\"text-[11px] uppercase font-bold tracking-wider text-slate-500 block bg-white/95 px-2 py-1 rounded-lg shadow-xl border border-slate-100\">\r\n                                            {node.type}\r\n                                        </span>\r\n                                        {node.connection === 'branched' && (\r\n                                            <span className=\"text-[10px] text-yellow-600 font-bold bg-yellow-50 px-2 rounded-full mt-1 inline-block\">◊ú◊ï◊ú◊ê◊™ ◊ó◊ô◊ñ◊ï◊ß</span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Connector Line */}\r\n                                {idx < student.journey.length - 1 && (\r\n                                    <div className={`h-1.5 w-16 mx-1 rounded-full shrink-0\r\n                                        ${node.connection === 'branched' ? 'bg-yellow-200 border-t-2 border-dashed border-yellow-500/50 h-0 w-12 mx-2' : 'bg-slate-200'}\r\n                                    `} />\r\n                                )}\r\n                            </div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst WizdiInsightsWidget = ({ onGenerate }: { onGenerate: () => void }) => {\r\n    return (\r\n        <div className=\"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-3xl p-6 text-white shadow-lg mb-8 relative overflow-hidden\">\r\n            {/* Background Pattern */}\r\n            <div className=\"absolute inset-0 opacity-10\">\r\n                <IconBrain className=\"absolute -right-10 -top-10 w-[200px] h-[200px]\" />\r\n            </div>\r\n\r\n            <div className=\"relative z-10 flex flex-col md:flex-row items-center justify-between gap-6\">\r\n                <div className=\"flex items-start gap-4\">\r\n                    <div className=\"bg-white/20 p-3 rounded-2xl backdrop-blur-sm\">\r\n                        <IconBrain className=\"w-8 h-8 text-white\" />\r\n                    </div>\r\n                    <div>\r\n                        <h3 className=\"text-xl font-bold mb-2 flex items-center gap-2\">\r\n                            Wizdi Insights\r\n                            <span className=\"text-xs bg-white/20 px-2 py-0.5 rounded-full uppercase tracking-wider\">Beta</span>\r\n                        </h3>\r\n                        <p className=\"text-indigo-100 text-lg leading-relaxed max-w-2xl\">\r\n                            \"30% ◊û◊î◊õ◊ô◊™◊î ◊û◊™◊ß◊©◊ô◊ù ◊ë◊î◊ë◊†◊™ ◊î◊†◊ß◊®◊ê. ◊û◊ï◊û◊ú◊• ◊ú◊ô◊¶◊ï◊® ◊ô◊ó◊ô◊ì◊™ ◊™◊í◊ë◊ï◊® ◊û◊û◊ï◊ß◊ì◊™.\"\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"shrink-0\">\r\n                    <button\r\n                        onClick={onGenerate}\r\n                        className=\"bg-white text-indigo-600 px-6 py-3 rounded-xl font-bold hover:bg-indigo-50 transition-colors shadow-lg flex items-center gap-2 group\"\r\n                    >\r\n                        <IconActivity className=\"w-5 h-5 group-hover:scale-110 transition-transform\" />\r\n                        ◊¶◊ï◊® ◊ô◊ó◊ô◊ì◊™ ◊™◊í◊ë◊ï◊®\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport const AdaptiveDashboard = () => {\r\n    const [students, setStudents] = useState<StudentAnalytics[]>([]);\r\n    const [selectedStudentId, setSelectedStudentId] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        // Uses real Firestore data when available, falls back to mock for dev\r\n        getSmartCourseAnalytics('c1').then(setStudents);\r\n    }, []);\r\n\r\n    const selectedStudent = students.find(s => s.id === selectedStudentId) || students[0];\r\n\r\n    // Helper for action button config\r\n    const getStudentAction = (risk: string) => {\r\n        if (risk === 'high') {\r\n            return {\r\n                label: '◊¶◊ï◊® ◊ô◊ó◊ô◊ì◊™ ◊ó◊ô◊ñ◊ï◊ß ◊ê◊ô◊©◊ô◊™',\r\n                icon: <IconAlertTriangle className=\"w-5 h-5\" />,\r\n                color: 'bg-amber-100 text-amber-900 border-amber-200 hover:bg-amber-200',\r\n                type: 'Remediation'\r\n            };\r\n        } else if (risk === 'low') {\r\n            return {\r\n                label: '◊¶◊ï◊® ◊ô◊ó◊ô◊ì◊™ ◊ê◊™◊í◊®',\r\n                icon: <IconActivity className=\"w-5 h-5\" />,\r\n                color: 'bg-emerald-100 text-emerald-900 border-emerald-200 hover:bg-emerald-200',\r\n                type: 'Challenge'\r\n            };\r\n        }\r\n        return {\r\n            label: '◊¶◊ï◊® ◊ô◊ó◊ô◊ì◊î ◊û◊ï◊™◊ê◊û◊™',\r\n            icon: <IconBrain className=\"w-5 h-5\" />,\r\n            color: 'bg-indigo-100 text-indigo-900 border-indigo-200 hover:bg-indigo-200',\r\n            type: 'Adaptive'\r\n        };\r\n    };\r\n\r\n    const handleCreateUnit = (type: string, studentName?: string) => {\r\n        const message = studentName\r\n            ? `Generating ${type} unit for ${studentName}...`\r\n            : `Generating Class ${type} Unit...`;\r\n        console.log(message);\r\n        alert(message);\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-50 text-slate-900 p-6 font-sans overflow-x-hidden\" dir=\"rtl\">\r\n            {/* Header */}\r\n            <div className=\"max-w-7xl mx-auto mb-8 border-b border-slate-200 pb-6 flex flex-col md:flex-row items-end justify-between gap-4\">\r\n                <div>\r\n                    <h1 className=\"text-3xl md:text-4xl font-black text-slate-800 mb-2 flex items-center gap-3\">\r\n                        <IconBrain className=\"w-10 h-10 text-indigo-600\" />\r\n                        ◊ú◊ï◊ó ◊ë◊ß◊®◊î ◊ê◊ì◊§◊ò◊ô◊ë◊ô\r\n                    </h1>\r\n                    <p className=\"text-slate-500 text-lg\">\r\n                        ◊û◊ë◊ò ◊¢◊ú ◊õ◊ô◊™◊™◊ô ◊ë◊ñ◊û◊ü ◊ê◊û◊™: ◊ë◊ô◊¶◊ï◊¢◊ô◊ù, ◊û◊°◊ú◊ï◊ú◊ô ◊ú◊û◊ô◊ì◊î ◊ï◊ñ◊ô◊î◊ï◊ô ◊§◊¢◊®◊ô◊ù\r\n                    </p>\r\n                </div>\r\n\r\n                {/* KPI Cards */}\r\n                <div className=\"flex gap-4\">\r\n                    <div className=\"bg-white border border-slate-200 p-4 rounded-2xl flex items-center gap-4 shadow-sm\">\r\n                        <div className=\"w-12 h-12 rounded-full bg-red-50 flex items-center justify-center text-red-500\">\r\n                            <IconAlertTriangle className=\"w-6 h-6\" />\r\n                        </div>\r\n                        <div>\r\n                            <div className=\"text-3xl font-black text-slate-800\">{students.filter(s => s.riskLevel === 'high').length}</div>\r\n                            <div className=\"text-xs text-slate-500 font-bold uppercase tracking-wider\">◊™◊ú◊û◊ô◊ì◊ô◊ù ◊ë◊°◊ô◊õ◊ï◊ü</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Insights Widget */}\r\n            <div className=\"max-w-7xl mx-auto\">\r\n                <WizdiInsightsWidget onGenerate={() => handleCreateUnit('Remediation Class')} />\r\n            </div>\r\n\r\n            <div className=\"max-w-7xl mx-auto flex flex-col xl:flex-row gap-8 items-start\">\r\n\r\n                {/* Left: The Heatmap (Matrix) - In RTL this is on the Right physically */}\r\n                <div className=\"w-full xl:w-5/12 bg-white border border-slate-200 rounded-[32px] p-6 shadow-sm overflow-hidden\">\r\n                    <h2 className=\"text-2xl font-bold mb-6 flex items-center gap-3\">\r\n                        <span className=\"w-1.5 h-8 bg-indigo-600 rounded-full\" />\r\n                        ◊û◊§◊™ ◊©◊ú◊ô◊ò◊î ◊õ◊ô◊™◊™◊ô◊™\r\n                    </h2>\r\n\r\n                    <div className=\"space-y-4 overflow-x-auto pb-2\">\r\n                        {/* Header Row */}\r\n                        <div className=\"flex items-center gap-4 pl-14 pb-2 border-b border-slate-100 text-xs text-slate-400 font-bold uppercase tracking-widest text-center min-w-[300px]\">\r\n                            {Object.keys(students[0]?.mastery || {}).map(topic => (\r\n                                <div key={topic} className=\"flex-1 overflow-hidden text-ellipsis whitespace-nowrap px-1\" title={topic}>\r\n                                    {topic}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        {/* Rows */}\r\n                        {students.map(s => (\r\n                            <div\r\n                                key={s.id}\r\n                                onClick={() => setSelectedStudentId(s.id)}\r\n                                className={`flex items-center gap-4 p-3 rounded-2xl transition-all cursor-pointer border-2 min-w-[300px]\r\n                                    ${selectedStudentId === s.id ? 'bg-indigo-50 border-indigo-500 shadow-md transform scale-[1.02]' : 'border-transparent hover:bg-slate-50'}\r\n                                `}\r\n                            >\r\n                                {/* Avatar */}\r\n                                <div className=\"w-12 h-12 rounded-full bg-slate-200 overflow-hidden shrink-0 border-2 border-white shadow-sm\">\r\n                                    <img src={s.avatar} alt={s.name} className=\"w-full h-full object-cover\" loading=\"lazy\" decoding=\"async\" />\r\n                                </div>\r\n\r\n                                {/* Name + Risk */}\r\n                                <div className=\"w-24 shrink-0\">\r\n                                    <div className=\"font-bold text-slate-800 text-sm truncate\">{s.name}</div>\r\n                                    <div className=\"flex items-center gap-1 mt-1\">\r\n                                        <span className={`text-[10px] inline-flex items-center gap-1 px-2 py-0.5 rounded-full font-bold uppercase\r\n                                            ${s.riskLevel === 'high' ? 'bg-red-50 text-red-600' :\r\n                                                s.riskLevel === 'medium' ? 'bg-orange-50 text-orange-600' : 'bg-lime-50 text-lime-700'}\r\n                                        `}>\r\n                                            {s.riskLevel === 'high' ? '◊°◊ô◊õ◊ï◊ü' : s.riskLevel === 'medium' ? '◊ë◊ô◊†◊ï◊†◊ô' : '◊û◊¶◊ï◊ô◊ü'}\r\n                                        </span>\r\n                                        <span className={`text-[9px] px-1.5 py-0.5 rounded font-bold\r\n                                            ${s.riskLevel === 'high' ? 'bg-blue-100 text-blue-700' :\r\n                                                s.riskLevel === 'low' ? 'bg-purple-100 text-purple-700' : 'bg-slate-100 text-slate-600'}\r\n                                        `}>\r\n                                            {s.riskLevel === 'high' ? 'üìö' : s.riskLevel === 'low' ? 'üöÄ' : 'üìñ'}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Mastery Cells */}\r\n                                <div className=\"flex-1 flex justify-between gap-2\">\r\n                                    {Object.entries(s.mastery).map(([topic, score]) => (\r\n                                        <div key={topic} className=\"flex-1 flex justify-center\">\r\n                                            <div className={`h-3 w-full rounded-full bg-slate-100 overflow-hidden relative group shadow-inner border border-slate-200`}>\r\n                                                <div\r\n                                                    className={`absolute inset-0 rounded-full ${score > 0.8 ? 'bg-emerald-400' : score > 0.5 ? 'bg-amber-400' : 'bg-red-400'}`}\r\n                                                    style={{ width: `${score * 100}%` }}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                                <IconChevronLeft className=\"text-slate-300 w-5 h-5 shrink-0\" />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Right: Detail View (Journey) - In RTL this is on the Left physically */}\r\n                {/* Fixed width problem: min-w-0 prevents flex item from overflowing parent */}\r\n                <div className=\"w-full xl:w-7/12 flex flex-col gap-6 min-w-0\">\r\n                    {selectedStudent && (\r\n                        <div className=\"animate-in slide-in-from-right-8 fade-in duration-500\">\r\n                            <div className=\"bg-white rounded-[32px] p-8 border border-slate-200 shadow-xl relative overflow-hidden\">\r\n                                {/* Decor */}\r\n                                <div className=\"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500\" />\r\n\r\n                                <div className=\"flex flex-col md:flex-row items-start justify-between mb-8 gap-6\">\r\n                                    <div className=\"flex items-center gap-6\">\r\n                                        <img src={selectedStudent.avatar} alt={selectedStudent.name} className=\"w-20 h-20 md:w-24 md:h-24 rounded-3xl border-4 border-white shadow-lg\" loading=\"lazy\" decoding=\"async\" />\r\n                                        <div>\r\n                                            <h2 className=\"text-2xl md:text-3xl font-black text-slate-800\">{selectedStudent.name}</h2>\r\n                                            <div className=\"text-slate-500 flex flex-wrap items-center gap-3 mt-2 font-medium text-sm md:text-base\">\r\n                                                <span>◊§◊¢◊ô◊ú◊ï◊™ ◊ê◊ó◊®◊ï◊†◊î: {new Date(selectedStudent.lastActive).toLocaleTimeString()}</span>\r\n                                                <span className=\"text-slate-300 hidden md:inline\">|</span>\r\n                                                <span className=\"text-indigo-600 font-mono bg-indigo-50 px-2 py-0.5 rounded-lg\">ID: {selectedStudent.id}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Action & Stats Column */}\r\n                                    <div className=\"flex flex-col gap-3 w-full md:w-auto\">\r\n                                        <div className=\"text-left bg-slate-50 p-4 rounded-2xl border border-slate-100\">\r\n                                            <div className=\"text-3xl md:text-4xl font-black font-mono text-indigo-600\">\r\n                                                {Math.round(Object.values(selectedStudent.mastery).reduce((a, b) => a + b, 0) / 4 * 100)}%\r\n                                            </div>\r\n                                            <div className=\"text-slate-400 uppercase font-bold text-xs tracking-wider\">◊©◊ú◊ô◊ò◊î ◊û◊û◊ï◊¶◊¢◊™</div>\r\n                                        </div>\r\n\r\n                                        {/* Dynamic Action Button */}\r\n                                        <button\r\n                                            onClick={() => handleCreateUnit(getStudentAction(selectedStudent.riskLevel).type, selectedStudent.name)}\r\n                                            className={`w-full py-3 px-4 rounded-xl font-bold text-sm border flex items-center justify-center gap-2 transition-all active:scale-95 shadow-sm\r\n                                                ${getStudentAction(selectedStudent.riskLevel).color}\r\n                                            `}\r\n                                        >\r\n                                            {getStudentAction(selectedStudent.riskLevel).icon}\r\n                                            {getStudentAction(selectedStudent.riskLevel).label}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                {/* Performance Metrics */}\r\n                                {selectedStudent.performance && (\r\n                                    <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\r\n                                        <div className=\"bg-slate-50 p-4 rounded-2xl border border-slate-100 text-center\">\r\n                                            <div className=\"text-2xl font-black text-emerald-600\">\r\n                                                {Math.round(selectedStudent.performance.accuracy * 100)}%\r\n                                            </div>\r\n                                            <div className=\"text-xs text-slate-500 font-bold uppercase\">◊ì◊ô◊ï◊ß</div>\r\n                                        </div>\r\n                                        <div className=\"bg-slate-50 p-4 rounded-2xl border border-slate-100 text-center\">\r\n                                            <div className=\"text-2xl font-black text-blue-600\">\r\n                                                {selectedStudent.performance.avgResponseTime}s\r\n                                            </div>\r\n                                            <div className=\"text-xs text-slate-500 font-bold uppercase\">◊ñ◊û◊ü ◊™◊í◊ï◊ë◊î</div>\r\n                                        </div>\r\n                                        <div className=\"bg-slate-50 p-4 rounded-2xl border border-slate-100 text-center\">\r\n                                            <div className=\"text-2xl font-black text-purple-600\">\r\n                                                {selectedStudent.performance.totalQuestions}\r\n                                            </div>\r\n                                            <div className=\"text-xs text-slate-500 font-bold uppercase\">◊©◊ê◊ú◊ï◊™</div>\r\n                                        </div>\r\n                                        <div className=\"bg-slate-50 p-4 rounded-2xl border border-slate-100 text-center\">\r\n                                            <div className=\"text-2xl font-black text-amber-600\">\r\n                                                {Math.round(selectedStudent.performance.hintDependency * 100)}%\r\n                                            </div>\r\n                                            <div className=\"text-xs text-slate-500 font-bold uppercase\">◊™◊ú◊ï◊™ ◊ë◊®◊û◊ñ◊ô◊ù</div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Error Patterns */}\r\n                                {selectedStudent.errorPatterns && Object.keys(selectedStudent.errorPatterns).length > 0 && (\r\n                                    <div className=\"mb-6 bg-red-50 border border-red-100 p-4 rounded-2xl\">\r\n                                        <h4 className=\"text-red-800 font-bold mb-3 flex items-center gap-2\">\r\n                                            <IconAlertTriangle className=\"w-5 h-5\" />\r\n                                            ◊ì◊§◊ï◊°◊ô ◊©◊í◊ô◊ê◊ï◊™ ◊†◊§◊ï◊¶◊ô◊ù\r\n                                        </h4>\r\n                                        <div className=\"flex flex-wrap gap-2\">\r\n                                            {Object.entries(selectedStudent.errorPatterns).map(([pattern, count]) => (\r\n                                                <span key={pattern} className=\"bg-white px-3 py-1.5 rounded-full text-sm border border-red-200 flex items-center gap-2\">\r\n                                                    <span className=\"font-medium text-red-700\">{pattern}</span>\r\n                                                    <span className=\"bg-red-100 text-red-600 px-2 py-0.5 rounded-full text-xs font-bold\">{count}</span>\r\n                                                </span>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* The Traces */}\r\n                                <JourneyTrace student={selectedStudent} />\r\n\r\n                                <div className=\"mt-8 bg-blue-50 border border-blue-100 p-6 rounded-2xl text-blue-900 flex gap-4\">\r\n                                    <div className=\"bg-white p-3 rounded-full h-fit text-blue-500 shadow-sm shrink-0\"><IconBrain className=\"w-6 h-6\" /></div>\r\n                                    <div>\r\n                                        <strong className=\"block text-lg font-bold mb-1 text-blue-800\">◊™◊ï◊ë◊†◊ï◊™ ◊î◊û◊¢◊®◊õ◊™ (AI)</strong>\r\n                                        <p className=\"leading-relaxed opacity-90 text-sm md:text-base\">\r\n                                            {selectedStudent.riskLevel === 'high'\r\n                                                ? `◊î◊™◊ú◊û◊ô◊ì ◊û◊í◊ú◊î ◊ß◊ï◊©◊ô (◊ì◊ô◊ï◊ß ${Math.round((selectedStudent.performance?.accuracy || 0) * 100)}%). ${selectedStudent.performance?.hintDependency && selectedStudent.performance.hintDependency > 0.5 ? '◊™◊ú◊ï◊™ ◊í◊ë◊ï◊î◊î ◊ë◊®◊û◊ñ◊ô◊ù.' : ''} ◊û◊ï◊û◊ú◊•: ◊™◊ï◊õ◊ü ◊û◊ï◊™◊ê◊ù ◊¢◊ù ◊™◊û◊ô◊õ◊î. ${Object.keys(selectedStudent.errorPatterns || {}).length > 0 ? `◊©◊í◊ô◊ê◊ï◊™ ◊†◊§◊ï◊¶◊ï◊™: ${Object.keys(selectedStudent.errorPatterns || {}).slice(0, 2).join(', ')}.` : ''}`\r\n                                                : selectedStudent.riskLevel === 'low'\r\n                                                    ? `◊î◊™◊ú◊û◊ô◊ì ◊û◊¶◊ò◊ô◊ô◊ü! ◊ì◊ô◊ï◊ß ${Math.round((selectedStudent.performance?.accuracy || 0) * 100)}%, ◊ñ◊û◊ü ◊™◊í◊ï◊ë◊î ◊û◊î◊ô◊® (${selectedStudent.performance?.avgResponseTime || 0}s). ◊û◊ï◊û◊ú◊•: ◊™◊ï◊õ◊ü ◊î◊¢◊û◊ß◊î ◊¢◊ù ◊ê◊™◊í◊®◊ô◊ù ◊†◊ï◊°◊§◊ô◊ù.`\r\n                                                    : `◊î◊™◊ú◊û◊ô◊ì ◊û◊™◊ß◊ì◊ù ◊ë◊¶◊ï◊®◊î ◊ô◊¶◊ô◊ë◊î (◊ì◊ô◊ï◊ß ${Math.round((selectedStudent.performance?.accuracy || 0) * 100)}%). ◊û◊ß◊ë◊ú ◊™◊ï◊õ◊ü ◊ë◊û◊°◊ú◊ï◊ú ◊ô◊ô◊©◊ï◊ù. ${selectedStudent.performance?.hintDependency && selectedStudent.performance.hintDependency > 0.3 ? '◊©◊ô◊û◊ï◊© ◊û◊™◊ï◊ü ◊ë◊®◊û◊ñ◊ô◊ù.' : ''}`\r\n                                            }\r\n                                        </p>\r\n                                        <div className=\"mt-3 flex items-center gap-2\">\r\n                                            <span className=\"text-xs font-bold text-blue-600\">◊û◊°◊ú◊ï◊ú ◊û◊ï◊û◊ú◊•:</span>\r\n                                            <span className={`text-xs px-2 py-1 rounded-full font-bold ${\r\n                                                selectedStudent.riskLevel === 'high' ? 'bg-blue-200 text-blue-800' :\r\n                                                selectedStudent.riskLevel === 'low' ? 'bg-purple-200 text-purple-800' : 'bg-slate-200 text-slate-700'\r\n                                            }`}>\r\n                                                {selectedStudent.riskLevel === 'high' ? '◊î◊ë◊†◊î' :\r\n                                                 selectedStudent.riskLevel === 'low' ? '◊î◊¢◊û◊ß◊î' : '◊ô◊ô◊©◊ï◊ù'}\r\n                                            </span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":["JourneyTrace","student","jsxs","jsx","IconActivity","node","idx","isRemediation","IconCheck","IconX","WizdiInsightsWidget","onGenerate","IconBrain","AdaptiveDashboard","students","setStudents","useState","selectedStudentId","setSelectedStudentId","useEffect","getSmartCourseAnalytics","selectedStudent","s","getStudentAction","risk","IconAlertTriangle","handleCreateUnit","type","studentName","message","_a","topic","score","IconChevronLeft","a","b","pattern","count","_b","_c","_d","_e","_f","_g"],"mappings":"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"}